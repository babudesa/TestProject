<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Adding a New Claim Metric</title>
    <link rel="StyleSheet" href="css/config_metrics.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-ClaimCenter.html#1307586">Guidewire ClaimCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="config_metrics.67.1.html#1307586">Configuring Claim Health Metrics</a> : Adding a New Claim Metric</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="1307586">Adding a New Claim Metric</a></div>
      <div class="B_-_Body"><a name="1307405">You can create a new claim metric. The general steps are that you must subtype an existing metric and add the </a>implementation code. </div>
      <div class="B_-_Body"><a name="1308274">You do not need to add the metric to the typelist. It occurs automatically. If you add a new subtype, then the plat</a>form layer automatically adds a new member to the associated type list. For example, if you add a new subtype of <span class="cv_-_computer_voice">ClaimMetric,</span> then the system adds a new member to the <span class="cv_-_computer_voice">ClaimMetric</span> typelist. This is the <span class="e_-_emphasis">only</span> way of adding new members to this typelist.</div>
      <div class="HS_-_Head_Sub"><a name="1307407">To add a new claim metric</a></div>
      <div class="B_-_Body"><a name="1305283">Perform the following steps in Guidewire Studio.</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1305290">You must extend the ClaimCenter data model by adding a new subtype of the entity </a><span class="cv_-_computer_voice">ClaimMetric. </span>One way to do this is to extend one of the pre-supplied superclasses. In Studio, navigate to <span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">Data Model </span><span class="ui_-_UI_element">Extension</span> → <span class="ui_-_UI_element">metadata</span> → <span class="ui_-_UI_element">cc</span> to see the following superclasses:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1305161">IntegerClaimMetric</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1305175">DecimalClaimMetric</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="1305182">MoneyClaimMetric</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1305190">TimeBasedClaimMetric</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1308731">PercentClaimMetric</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1305346">Your selection depends on the type of quantity the metric is tracking. Your new subtype might look like this </a>example: </div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="1305374">&lt;?xml version="1.0"?&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305347"> &lt;subtype desc="Example Claim Metric" entity="ExampleClaimMetric"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305348">          final="false" priority="1" supertype="TimeBasedClaimMetric"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305349">   &lt;implementsInterface</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305350">       iface="gw.api.metric.MetricMethods"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305351">       impl="gw.claim.metric.general.ExampleClaimMetricMethodsImpl"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1309260"> &lt;/subtype&gt;</a></PRE>
      <div class="LP_-_List_Para"><a name="1309262">The </a><span class="cv_-_computer_voice">implementsInterface</span> element must be present as seen in this example except that you will use your own implementation class for the <span class="cv_-_computer_voice">impl</span> attribute. The convention is to put the <span class="cv_-_computer_voice">impl</span> Gosu class into the package <span class="cv_-_computer_voice">gw.claim.metric.&lt;category&gt;</span>, with &lt;<span class="cv_-_computer_voice">category</span>&gt; being the claim metric category (from the <span class="cv_-_computer_voice">ClaimMetricCategory</span> typelist). The category determines in which section the metric appears in the claim metrics user interface. The implementation class name is, by convention, <span class="cv_-_computer_voice">&lt;subtype&gt;MethodsImpl.</span></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1307315">You can add a new direct subtype of </a><span class="cv_-_computer_voice">ClaimMetric</span>, rather than using one of the pre-supplied superclasses. This would be appropriate if the value of the metric does not fall into any of the pre-supplied types (integer, decimal, percent, money or time based). It is also possible to add arbitrary new data fields to your subtype if your metric needs them.</div>
      <div class="LP_-_List_Para"><a name="1310205">The system automatically adds a new typekey for your new subtype, which can be configured through the </a><span class="cv_-_computer_voice">ClaimMetric.ttx</span> extensions file. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310206">Edit the typecode as seen in the following example:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1310207">&lt;typecode code="ExampleClaimMetric" desc="Example Claim Metric" name="Example" priority="4"/&gt;</a></div>
      <div class="LP_-_List_Para"><a name="1310200">The name used in this typecode element is the name that appears in the user interface for this type of metric. </a>The priority determines the ordering of the metric in the Claim Metrics user interface. It appears after any metrics with priority less than 4 and before any with priority more than 4. So it is probably 4th, but not always, depending on the priorities of other items. </div>
      <div class="LP_-_List_Para"><a name="1310202">This step allows you to set up a (possibly localized) name and priority for the indicator. </a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1305851">Implement the functions in the </a><span class="cv_-_computer_voice">MetricMethods.gs</span> file. To make the implementation easier, extend one of the pre-supplied superclasses mentioned previously. In Studio, navigate to: <span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">Classes</span> → <span class="ui_-_UI_element">gw</span> → <span class="ui_-_UI_element">api</span> → <span class="ui_-_UI_element">metric</span> → <span class="ui_-_UI_element">MetricMethods</span> to access these files.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="HS_-_Head_Sub"><a name="1309332">Notes:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1309653">Typically, you will not have to implement everything in the </a><span class="cv_-_computer_voice">MetricMethods.gs</span> file because you usually extend a base class that handles many of the common operations for you. For example, the <span class="cv_-_computer_voice">MetricMethodsImpl.gs</span> class provides implementations of many of the generic metric functions. The <span class="cv_-_computer_voice">ClaimMetricMethodsImpl.gs </span>class builds on this to provide claim metric specific implementations of even more of them.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1309666">Since you are subtyping from one of the superclasses that was listed in step 1, you must extend one of the </a>superclass’s implementations. Step 5 describes this.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1305623">The </a><span class="cv_-_computer_voice">MetricMethods</span> interface looks like the following:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1305669">package gw.api.metric</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305670">uses java.util.Date</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305671">uses java.lang.Comparable</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305672"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305673">/**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305674"> * Interface implemented by all claim and exposure metrics. This interface will be implemented by</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305675"> * a GScript delegate of the appropriate class for the particular claim or exposure metric subtype.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305676"> */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305677">@ReadOnly</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305678">interface MetricMethods {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305679"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305680">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305681">   * This function is called to update the metric when something on the related Claim or Exposure</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305682">   * changes. The implementation should check if the change affects the value of the metric and,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305683">   * if so, should update the metric values accordingly. This method will be called frequently so</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305684">   * it should try to do as little work as possible, particularly if nothing relevant has changed.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305685">   * When creating a new metric, subclassers typically override updateMetricValue rather than</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305686">   * overriding update directly. The MetricMethodsImpl base class implements update by calling</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305687">   * updateMetricValue and then doing some standard housekeeping that is required by all metrics.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305688">   * &lt;p&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305689">   * The updateMetricValue implementation, in the GScript delegate, will have access to the owning</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305690">   * Claim or *Exposure via the metric object, which is passed to the delegate when it is created.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305691">   * &lt;p&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305692">   * The helper object passed as an argument provides a quick way to determine of any objects</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305693">   * of a particular type have changed as part of the current update. For example, a</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305694">   * metric that tracks activities might not need to do anything in its update method if</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305695">   * no activities have changed. Such a metric could use helper.updateContainsChangesOfType(Activity)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305696">   * to decide whether to do anything.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305697">   * &lt;p&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305698">   * The return value of update is usually null. It is non null for metrics which need to be</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305699">   * recalculated at intervals, even if nothing changes. Such metrics should implement the</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305700">   * gw.api.claim.metric.RecalculateMetric interface, which has a recalculate() method that is</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305701">   * called to recalculate the metric. The return value of update should be the time at which</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305702">   * the metric will next be recalculated. The recalculation is done by a batch process, so it</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305703">   * will not happen at exactly the returned time. But the value does help the batch process</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305704">   * decide which claims have metrics (whether claim or exposure metrics) that could be out of date.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305705">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305706">  function update(helper : MetricUpdateHelper) : Date</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305707"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305708">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305709">   * The value of the metric. The type of the value varies according to the metric subtype. It</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305710">   * may return null - usually this means that the metric is not applicable at the moment.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305711">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305712">  property get Value() : Comparable</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305713">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332202">&nbsp;</a>&nbsp;/**</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332203">   * Whether the limits are defined in ascending order, defaults to true. For example, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332329">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;a red limit value less than the yellow limit value or the opposite is determined by</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332336">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;the AscendingLimitOrder flag).</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332228">&nbsp;</a>&nbsp;*/</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332229">  override property get AscendingLimitOrder() : boolean {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332230">    return true</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332158">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305714">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1332223">&nbsp;</a>&nbsp;/**</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305715">   * The limit value of the metric that determines what status icon is shown. The type of the </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305716">   * value varies according to the metric subtype. It may return null - usually this means that </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305717">   * the metric is not applicable at the moment. The LimitValue is usually equal to the Value</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305718">   * but a few metrics behave differently - for example the days to first contact metric. This</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305719">   * is </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305720">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305721">  property get LimitValue() : Comparable</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305722"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305723">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305724">   * A string containing the metric value, formatted for display to the user. For example a money</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305725">   * metric would format its value using the appropriate currency and decimal format.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305726">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305727">  property get DisplayValue() : String</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305728"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305729">  /*</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305730">   * A string containing the font display color for the metric. For example a negative value should</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305731">   * be displayed in red, while all other values should be displayed in black. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305732">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305733">  property get DisplayColor() : String</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305734"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305735">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305736">   * A string containing the target value for the metric, formatted for display to the user</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305737">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305738">  property get DisplayTargetValue() : String</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305739"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305740">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305741">   * The current status of the metric - green, red, yellow etc.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305742">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305743">  property get Status() : MetricLimitStatus</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305744"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305745">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305746">   * The limit for the metric, used to calculate the status of the metric</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305747">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305748">  property get Limit() : MetricLimitMethods</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305749"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305750">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305751">   * Creates a default limit of the correct type for this metric. Used by the metric</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305752">   * limit infrastructure to create the list of default limits needed for the limits</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305753">   * administration UI</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305754">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305755">  function createDefaultLimit() : MetricLimitMethods</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305756"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305757">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305758">   * Look up the limit for this metric - used to initialize the Limit property. Looks</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305759">   * up the PolicyTypeMetricLimits entity and finds the appropriate metric limit by</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305760">   * policy type. May return null if no appropriate limit is found.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1305761">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1308788">  function findLimit() : MetricLimitMethods </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1308789">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1308794">You must extend one of the superclasses implementations:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1309905">IntegerClaimMetricImpl</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1309906">DecimalClaimMetricImpl</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1309907">MoneyClaimMetricImpl</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1309908">TimeBasedClaimMetricImpl</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;margin-bottom: 2.0pt; margin-top: 2.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none;"><span class="cv_-_computer_voice"><a name="1309909">PercentClaimMetricImpl</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1309890">In Studio, navigate to </a><span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">Classes</span> → <span class="ui_-_UI_element">gw</span> → <span class="ui_-_UI_element">api</span> → <span class="ui_-_UI_element">claim</span> → <span class="ui_-_UI_element">metric</span> to see these files.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1309732">You can use one of the implementations of the superclasses to do most of the work. You must create a class </a>with a constructor and an override of the <span class="cv_-_computer_voice">updateMetricValue</span> method. For example: </div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="1309421">@Export</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309422">class ExampleClaimMetricMethodsImpl extends TimeBasedClaimMetricMethodsImpl { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309423">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309424">  construct(exampleClaimMetric : ExampleClaimMetric) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309425">    super(exampleClaimMetric, ClaimMetricCategory.TC_OVERALLCLAIMMETRICS)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309426">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309427">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309428">  override function updateMetricValue(helper : MetricUpdateHelper) : Date {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309429">    Metric.StartTime = Metric.Claim.ReportedDate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309430">    handleClaimStateChange()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309431">    return null</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1309432">  }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1309389">}</a></PRE>
      <div class="LP_-_List_Para"><a name="1306059">This example metric is time-based. It extends the provided </a><span class="cv_-_computer_voice">TimeBasedClaimMetricMethodsImpl</span> class, which gives access to time specific fields (<span class="cv_-_computer_voice">Metric.StartTime</span>) and a method for updating the metric state if the claim opens or closes (<span class="cv_-_computer_voice">handleClaimStateChange</span>).</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1305601">All implementation classes must have a constructor that takes one parameter of the </a>actual metric type. The <span class="cv_-_computer_voice">implementsInterface</span> mechanism requires this. This constructor is not just called when the metric is first created, it is created whenever the metric is read from the database. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1308774">If you need to do something only when the metric is first created you can do something like this: </a></div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="1306148">construct(exampleClaimMetric : ExampleClaimMetric) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306149">      super(exampleClaimMetric, ClaimMetricCategory.TC_OVERALLCLAIMMETRICS)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306150">      if (exampleMetric.New) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306151">        // Do your initialization here</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306152">      }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1306126">    }</a></PRE>
      <div class="LP_-_List_Para"><a name="1306181">The constructor is also where the category of the metric is decided. It is handed as a parameter to the super</a>class constructor.</div>
      <div class="LP_-_List_Para"><a name="1306137">The </a><span class="cv_-_computer_voice">updateMetricValue</span> method looks at the current state of the associated claim and updates the metric accordingly. The <span class="e_-_emphasis">days open</span> calculation as seen previously is simple. Other update methods may be more complex. The <span class="cv_-_computer_voice">MetricUpdateHelper</span> passed to the update method can be used to quickly find out if relevant entities changed, for example: </div>
      <PRE class="CF_-_Code_First_Line"><a name="1306243">if (helper.updateContainsChangesOfType(History)) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306244">      // A history event was added, updated or removed</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1306245">      // You can access the changed items using Metric.Bundle.getAllModifiedBeansOfType(History)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1310042">    }</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310050">Save your work in Studio </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	9.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310579">If the server is running, stop it.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	10.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310580">Execute </a><span class="cv_-_computer_voice">gwcc dev-deploy</span> in the Command window.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	11.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310581">Restart the server.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	12.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310044">Go to the </a><span class="ui_-_UI_element">Administration</span> tab in the user interface and add limits for your new metric type.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	13.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1310045">Run the Claim Health Calculations batch process to populate metrics on claims that have never had any </a>metrics. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1310599">This does not add the new metric to claims that already have metrics.</a></div>
      <div class="H2_-_Heading_2"><a name="1332401">Adding Your New Claim Metric or Indicator to Existing Claims</a></div>
      <div class="B_-_Body"><a name="1332783">You can apply your new claim metric or indicator to claims that already have metrics. Do this by running the </a><span class="ui_-_UI_element">ClaimException</span> rule (CER04000 Recalculate claim metrics). This rule verifies that all claim metrics, exposure metrics, and claim indicators are created on every claim. If there are any missing metrics or indicators, then ClaimCenter adds them to the claim. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1332718">Guidewire disables this rule in the base configuration.</a></div>
      <div class="B_-_Body"><a name="1307527">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>