<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Graph Validation Checks</title>
    <link rel="StyleSheet" href="css/domain_graph.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-datamodel_2.html#2312895">Data Model Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="domain_graph.26.01.html#2312895">The Domain Graph</a> : Graph Validation Checks</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="2312895">Graph Validation Checks</a></div>
      <div class="B_-_Body"><a name="2312898">The ClaimCenter server performs a series of checks during startup. These checks verify that the current data </a>model can support archiving, purging and export of claims. Some of these checks prevent the server from starting. Other checks are warnings and allow the server to start. These checks warn about potential problems with the graphs that might not be an issue depending on business logic.</div>
      <div class="B_-_Body"><a name="2312900">The following table describes checks that prevent the server from starting. If any of these checks fails, the server </a>reports an exception and prints out the cycle in DOT format. You can use a program such as GraphViz to view the graph.</div>
      <div class="T_-_Table"><a name="2312969">&nbsp;</a></div>
      <table class="Shading" style="text-align: left;" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="2312903">Check</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="2312905">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312907">Domain graph not cyclical</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312909">This check looks for circular references in the domain graph. The domain graph is the set of </a>tables and their relationships that define an archivable unit, such as a Claim, its Exposures and Contacts, and so forth.</div>
            <div class="TT_-_Table_Text"><a name="2312910">The archiving and purging processes move non-shared data related to a Claim to the archive </a>by traversing the domain graph. Circular references in the graph cause issues for this process.</div>
            <div class="TT_-_Table_Text"><a name="2312911">The domain graph cannot have any cycle in its "is owned by" relationships. The following exam</a>ple will fail validation: A "is owned by" B "is owned by" C "is owned by" A. </div>
            <div class="TT_-_Table_Text"><a name="2312912">Resolve the cycle by sorting out the ownership relationships. </a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312914">Domain graph entities </a>implement <span class="cvt_-_computer_voice_table">Extractable</span></div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312916">This check ensures that all entities inside the domain graph implement the </a><span class="cvt_-_computer_voice_table">Extractable</span> interface.</div>
            <div class="TT_-_Table_Text"><a name="2312917">All entities in the domain graph must implement </a><span class="cvt_-_computer_voice_table">Extractable</span> because the <span class="cvt_-_computer_voice_table">ExtractReady</span> column is used by the archive process.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312919">Entities outside domain </a>graph not <span class="cvt_-_computer_voice_table">Extractable</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312921">This check ensures that all entities outside the domain graph do not implement the </a><span class="cvt_-_computer_voice_table">Extractable</span> interface.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312923">Edge tables in domain </a>graph have required foreign keys</div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312925">If </a><span class="cvt_-_computer_voice_table">edgeTable</span> is set on an entity in the domain graph, it must have:</div>
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt;">
              <table border="0" cellspacing="0" cellpadding="0" summary="">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner"><a name="2312926">an owned foreign key back to one of its parents</a></div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt;">
              <table border="0" cellspacing="0" cellpadding="0" summary="">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner"><a name="2312927">an unowned foreign key to that same parent.</a></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312929">Overlap tables implement </a><span class="cvt_-_computer_voice_table">OverlapTable</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312931">The overlap tables must implement the </a><span class="cvt_-_computer_voice_table">OverlapTable</span> delegate. An overlap table is one that is used in both the domain and admin graphs. Overlap tables must implement all three delegates: <span class="cvt_-_computer_voice_table">Extractable</span>, <span class="cvt_-_computer_voice_table">AdminTable</span> and <span class="cvt_-_computer_voice_table">OverlapTable</span>.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312933">Overlap tables must not </a>own admin tables</div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312935">An overlap table cannot own a table in the admin graph. Otherwise, it would not be an overlap </a>table and would be an entity in the domain graph.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312937">Admin Graph tables imple</a>ment <span class="cvt_-_computer_voice_table">AdminTable</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312939">All entities in the admin graph implement the </a><span class="cvt_-_computer_voice_table">AdminTable</span> delegate by definition. Entities outside of the admin graph cannot implement <span class="cvt_-_computer_voice_table">AdminTable</span>. </div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312941">Admin graph entities only </a>reference other admin graph entities</div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312943">This check ensures that administrative entities such as User and Group in the admin graph </a>have foreign key references only to other administrative entities. The admin graph is the set of tables that the domain graph depends on, but that are not archived. Instead, these are replicated across both databases. This includes Users, Groups, some Contacts, and so forth.</div>
            <div class="TT_-_Table_Text"><a name="2312944">There must not be foreign keys from entities in the admin graph to entities outside of the admin </a>graph. Otherwise, when ClaimCenter synchronizes the admin graph, there would be a risk of foreign key constraint violations because a required entity is not present.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312949">Admin entities referenced </a>by domain graph entities are <span class="cvt_-_computer_voice_table">Retireable</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312951">Entities that the domain graph points to in the admin graph must be </a><span class="cvt_-_computer_voice_table">Retireable</span>. These entities must be present in the database to restore from the archive. <span class="cvt_-_computer_voice_table">Retireable</span> entities in the admin graph must not be purged.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312953">Admin graph entities are </a><span class="cvt_-_computer_voice_table">Versionable</span></div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312957">This check ensures that all entities inside the admin graph are </a><span class="cvt_-_computer_voice_table">Versionable</span>. ClaimCenter requires versionable admin graph entities to determine whether versions of an admin entity in the main database and archive database are different. Version numbers would differ between the main and archive databases if the entity has been changed since the last synchronization.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312960">Exceptions to links from </a>outside the domain graph are outside the domain graph</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312964">ClaimCenter has some built-in exceptions to the general rule of not having a foreign key from </a>an entity outside the domain graph to one inside the domain graph. For these entities, ClaimCenter verifies that the outside entity is indeed outside the domain graph. </div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2312972">If any of these checks finds an issue, ClaimCenter prevents the server from starting and prints the graph in DOT </a>notation. You can use the DOT format graph output to view the graph using graph visualization software such as GraphViz.</div>
      <div class="B_-_Body"><a name="2312974">In addition, the </a><span class="ui_-_UI_element">ArchiveGraphInfo</span> page provides warnings for situations that could potentially lead to errors. See <a href="javascript:WWHClickedPopup('admin', 'maintenance.14.12.html#1473510', '');" title="Info Pages">“Archive Graph Info” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.14.12.html#1473510', '');" title="Info Pages">System Administration Guide</a></span>. ClaimCenter provides warnings for these situations rather than preventing the server from starting because business logic may prevent the erroneous situation. The following table describes these warning-level checks.</div>
      <div class="T_-_Table"><a name="2313004">&nbsp;</a></div>
      <table class="Shading" style="text-align: left;" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="2312983">Check</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="2312985">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312987">Domain graph entities </a>refer only to admin and domain entities</div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312989">All foreign keys from entities in the domain graph only refer to other entities in the domain graph </a>or admin graph. Otherwise, foreign key violations can occur when the domain graph is traversed by archiving and purging processes.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312991">Nothing outside the </a>domain graph points to the domain graph</div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312993">There must not be foreign keys from entities outside of the domain graph to entities in the </a>domain graph. This prevents foreign key violations when ClaimCenter traverses the domain graph. This is not an outright failure because the archiving rule may prevent archival of such graph instances anyway.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2312998">Null links cannot make </a>node unreachable</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2313002">ClaimCenter constructs the domain graph by looking at foreign keys, but the graph might not be </a>a connected graph if a nullable foreign key is null. If enough links are null, the graph would become partitioned and the archiving or purging process would not be able to tag the correct entities. This check is a warning rather than one that prevents the server from starting because business logic could be in place that prevents the issue.</div>
          </td>
        </tr>
      </table>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>