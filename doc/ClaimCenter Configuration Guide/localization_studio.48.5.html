<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Setting a Locale for a Gosu Code Block</title>
    <link rel="StyleSheet" href="css/localization_studio.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-localization.html#2111082">Configuring Localization</a> : <a class="WebWorks_Breadcrumb_Link" href="localization_studio.48.1.html#2111082">Localizing the Development Environment</a> : Setting a Locale for a Gosu Code Block</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="2111082">Setting a Locale for a Gosu Code Block</a></div>
      <div class="B_-_Body"><a name="2111083">It is possible to set a specific locale in any Gosu block (within any Gosu code) by wrapping the Gosu code in the </a>following method. </div>
      <div class="CS_-_Code_Single_Line"><a name="2111085">gw.api.util.LocaleUtil.runAsCurrentLocale(alternateLocale, \ -&gt; { </a><span class="pc_-_parameter_in_code">code</span> } )</div>
      <div class="B_-_Body"><a name="2111242">These parameters take the following form:</a></div>
      <div class="T_-_Table"><a name="2111100">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2111089">Parameter</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2111091">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2111093">alternateLocale</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2111095">The locale to use in the form of an </a><span class="cvt_-_computer_voice_table">ILocale</span>, for example: <span class="cvt_-_computer_voice_table">gw.il8n.ILocale.fr_FR</span></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2111097">\ -&gt; { </a></span><span class="pst_-_parameter_in_code_snippets_table">code</span><span class="cvt_-_computer_voice_table"> }</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2111099">A runnable Gosu blockâ€”the Gosu code to run in a different locale</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><span class="ri_-_run_in_header"><a name="2111101">Example 1.</a></span> You can use this method to localize Gosu code that you add to any workflow step, in an <span class="ui_-_UI_element">Enter Script</span> block. For example, in PolicyCenter, you can use an <span class="ui_-_UI_element">Enter</span> script Gosu block on the <span class="cv_-_computer_voice">IssueCancellation</span> step to issue the cancellation documents in the primary language of the account holder. This locale can be different from the default application locale or any locale set for the workflow in general. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2111102">uses gw.api.util.LocaleUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111103">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111105">LocaleUtil.runAsCurrentLocale( LocaleUtil.toLocale( PolicyPeriod.Policy.Account.PrimaryLanguage ),</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2111106">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ -&gt; PolicyPeriod.CancellationProcess.issueCancellation() )</PRE>
      <div class="B_-_Body"><a name="2111107">The Gosu block uses the </a><span class="cv_-_computer_voice">LocaleUtil.toLocale</span> method. You use this method to translate the first parameter expression (<span class="cv_-_computer_voice">PolicyPeriod.Account.PrimaryLanguage</span>) into the necessary <span class="cv_-_computer_voice">ILocale</span> type.</div>
      <div class="B_-_Body"><span class="ri_-_run_in_header"><a name="2111108">Example 2.</a></span> In a more generic example, suppose that you want to format a date for a particular language. For example, you want to represent a date in the format <span class="cv_-_computer_voice">yyyy-dd-MM</span> (as is typical in the French language). You can use <span class="cv_-_computer_voice">SimpleDateFormat</span> with a <span class="cv_-_computer_voice">Date</span> object and call the <span class="cv_-_computer_voice">runAsCurrentLocale</span> method to format the date for the French locale. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2111109">uses gw.api.util.LocaleUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111110">uses gw.i18n.ILocale</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111111">uses java.util.Date</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111112">uses gw.api.util.DateUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2111113">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2118972">var formattedDate : String</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2118974">LocaleUtil.runAsCurrentLocale(ILocale.FR_FR, </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2118975">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ -&gt; { formattedDate = DateUtil.currentDate().format("long")})</PRE>
      <div class="HS_-_Head_Sub"><a name="2119035">Additional Useful Methods on </a><span class="e_-_emphasis">gw.api.util.LocaleUtil</span></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="2119045">In addition to the </a><span class="cv_-_computer_voice">runAsCurrentLocale</span> method, <span class="cv_-_computer_voice">gw.api.util.LocaleUtil</span> contains other methods useful in working with localization. Some of the more important ones are:</div>
      <div class="T_-_Table"><a name="2119122">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2119147">Method</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2119149">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119235">canSwitchLanguage</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119237">Returns </a><span class="cvt_-_computer_voice_table">true</span> if the current user is allowed to switch to a different language.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119327">getAllLanguages</a></span></div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119329">Returns a list of all available languages as defined in the </a><span class="cvt_-_computer_voice_table">LanguageType</span> typelist.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119210">getCurrentLocale</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119212">Returns the current locale, which can be based on the user language setting or on the browser </a>setting.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119151">getCurrentUserLanguage</a></span></div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119153">Returns the language set for the current user.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119155">getDefaultLanguage</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119157">Returns the language associated with the default locale (as set by configuration parameter </a><span class="cvt_-_computer_voice_table">DefaulApplicationtLocale</span>).</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119159">getDefaultLocale</a></span></div>
          </td>
          <td style="background-color: #F7F7F7; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119295">Return the applications default locale as set by configuration parameter </a><span class="cvt_-_computer_voice_table">DefaulApplicationtLocale</span>.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119167">toLanguage</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119169">Given a locale, return a language type.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2119171">toLocale</a></span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2119173">Given a language type, return a locale.</a></div>
          </td>
        </tr>
      </table>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>