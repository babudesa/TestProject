<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Creating an Entity Builder</title>
    <link rel="StyleSheet" href="css/studio_GUnit_tester.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-testing.html#2652244">Testing Gosu Code</a> : <a class="WebWorks_Breadcrumb_Link" href="studio_GUnit_tester.58.01.html#2652244">Using GUnit</a> : <a class="WebWorks_Breadcrumb_Link" href="studio_GUnit_tester.58.08.html#2652244">Using Entity Builders to Create Test Data</a> : Creating an Entity Builder</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2652244">Creating an Entity Builder</a></div>
      <div class="B_-_Body"><a name="2651806">To create a new entity builder of a particular type, you merely need to use the following syntax:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2656015">new TypeOfBuilder()</a></div>
      <div class="B_-_Body"><a name="2656012">This creates a new builder of the specified type, with the Builder class setting various default properties on the </a>builder entity. (Each entity builder provides different default property values depending on its particular implementation.) For example, to create (or build) a default address, use the following:</div>
      <div class="CS_-_Code_Single_Line"><a name="2656019">var address = new AddressBuilder()</a></div>
      <div class="B_-_Body"><a name="2656020">To set specific properties to specific values, you need to also use the property configuration methods. There are </a>three different types of property configuration methods, each which serves a different purpose as indicated by the method’s initial word.</div>
      <div class="T_-_Table"><a name="2652614">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2652686">Initial word</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2652688">Indicates</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652690">on</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652692">A link to a parent, for example, PolicyPeriod is on an Account, so the method is </a><span class="cvt_-_computer_voice_table">onAccount(Account </span><span class="cvt_-_computer_voice_table">account)</span>. </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652694">as</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652696">A property that holds only a single state, for example, </a><span class="cvt_-_computer_voice_table">asBusinessType</span> or <span class="cvt_-_computer_voice_table">asAgencyBill</span>.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652700">with</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652702">The single element or property to be set. For example, the following sets a </a><span class="cvt_-_computer_voice_table">FirstName</span> property:</div>
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2652721">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">withFirstName(“Joe”)</span> </div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2652750">Use a </a><span class="cv_-_computer_voice">DataBuilder.with(...)</span> configuration method to add a single property or value to a builder object. For example, the following Gosu code creates a new <span class="cv_-_computer_voice">Address</span> object and uses a number of <span class="cv_-_computer_voice">with(...)</span> methods to initialize properties on the new object. It then uses an <span class="cv_-_computer_voice">asType(...)</span> method to set the address type.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2652751">var address = new AddressBuilder()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652752">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withAddressLine1( <span class="pc_-_parameter_in_code">codeStr1</span> + " Main St." )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652753">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withAddressLine2( "Suite " + <span class="pc_-_parameter_in_code">codeStr2</span> )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652754">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withCity( "San Mateo" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652755">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withState( "CA" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652756">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withPostalCode( "94404-" + <span class="pc_-_parameter_in_code">codeStr3</span> )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652757">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.asBusinessType()</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2652295">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</PRE>
      <div class="B_-_Body"><a name="2652745">After you create a builder entity, you are responsible for writing that entity to the database as part of a transaction </a>bundle. In most cases, you must use one of the builder <span class="cv_-_computer_voice">create</span> methods to add the entity to a bundle. Which <span class="cv_-_computer_voice">create</span> method one you choose depends on your purpose. </div>
      <div class="B_-_Body"><a name="2656061">To complete the previous example, you need to add a </a><span class="cv_-_computer_voice">create</span> method at the end.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2652605">var address = new AddressBuilder()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652606">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withAddressLine1( codeStr + " Main St." )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652607">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2652608">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.create()</PRE>
      <div class="H3_-_Heading_3"><a name="2652296">Builder Create Methods</a></div>
      <div class="B_-_Body"><a name="2656069">The </a><span class="cv_-_computer_voice">DataBuilder</span> class provides the following <span class="cv_-_computer_voice">create</span> methods:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2652298">builderObject.create( bundle )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652299">builderObject.create()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2652300">builderObject.createAndCommit()</a></PRE>
      <div class="B_-_Body"><a name="2652301">The following list describes these </a><span class="cv_-_computer_voice">create</span> methods.</div>
      <div class="T_-_Table"><a name="2652323">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2652304">Method</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2652306">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2652308">create()</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2655613">Creates an instance of this builder's entity type, in the default bundle. This method does </a><span class="e_-_emphasis">not</span> commit the bundle. Studio resets the default bundle before every test class and method.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2652312">createAndCommit()</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652314">Creates an instance of this builder’s entity type, in the default bundle </a><span class="e_-_emphasis">and</span> performs a commit of that default bundle.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2652320">create(bundle)</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2652322">Creates an instance of this builder’s entity type, with values determined by prior calls to the entity. </a>The bundle parameter sets the bundle to use while creating this builder instance.</div>
          </td>
        </tr>
      </table>
      <div class="HS_-_Head_Sub"><a name="2652961">The No-Argument Create Method</a></div>
      <div class="B_-_Body"><a name="2652325">The no-argument </a><span class="cv_-_computer_voice">create</span> method uses a default bundle that all the builders share. This is adequate for most test purposes. However, as all objects created this way share the same bundle, committing the bundle on just one of the created objects commits all of the objects to the database. This also makes them available to the ClaimCenter interface portion of a test. For example: </div>
      <PRE class="CF_-_Code_First_Line"><a name="2652329">var address = new AddressBuilder()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652330">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withCity( "Springfield" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652331">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.asHomeAddress()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652332">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.create()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652333">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652334">new PersonBuilder()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652335">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withFirstName("Sean")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652336">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withLastName("Daniels")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652337">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withPrimaryAddress(address)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652338">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.create()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2652339">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2652340">address.Bundle.commit()</a></PRE>
      <div class="B_-_Body"><a name="2654832">In this example, </a><span class="cv_-_computer_voice">Address</span> and <span class="cv_-_computer_voice">Person</span> share a bundle, so committing <span class="cv_-_computer_voice">address.Bundle</span> also stores <span class="cv_-_computer_voice">Person</span> in the database. If you do not need a reference to the <span class="cv_-_computer_voice">Person</span>, then you do not need to store it into a variable.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2656110">GUnit resets the default bundle before every test class and method.</a></div>
      <div class="HS_-_Head_Sub"><a name="2656079">The Create and Commit Method</a></div>
      <div class="B_-_Body"><a name="2656080">The </a><span class="cv_-_computer_voice">createAndCommit</span> method is similar to the <span class="cv_-_computer_voice">create</span> method in that it adds the entity to the default bundle. It then, however, commits that bundle to the database.</div>
      <div class="HS_-_Head_Sub"><a name="2652800">The Create with Bundle Method</a></div>
      <div class="B_-_Body"><a name="2733008">If you need to work with a specific bundle, use the </a><span class="cv_-_computer_voice">create(bundle)</span> method. Guidewire recommends that you use this method inside of a transaction block. A transaction block provides the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2734072">It creates the bundle at the same time as it creates the new builder.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2734084">It automatically commits the bundle as it exits. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2733009">The following example illustrates the use of a data builder inside a transaction block.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2733010">function myTest() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733011">&nbsp;</a>&nbsp;var person : Person</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733012">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733013">&nbsp;</a>&nbsp;Transaction.runWithNewBundle( \ bundle -&gt; {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733014">&nbsp;</a>&nbsp;&nbsp;&nbsp;person = new PersonBuilder()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733015">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withFirstName( "John" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733016">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withLastName( "Doe" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733017">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withPrimaryAddress( new AddressBuilder()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733018">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.withCity( "Springfield" )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733019">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.asHomeAddress() )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733020">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.create( bundle )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733021">&nbsp;</a>&nbsp;} )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733022">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733023">&nbsp;</a>&nbsp;assertEquals( "Doe", person.LastName )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2733024">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2733025">}</a></PRE>
      <div class="B_-_Body"><a name="2733026">Notice the following about this example:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2733027">The example declares the </a><span class="cv_-_computer_voice">person</span> variable outside the transaction block, making it accessible elsewhere in the method.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2733028">The data builder uses an </a><span class="cv_-_computer_voice">AddressBuilder</span> object nested inside <span class="cv_-_computer_voice">PersonBuilder</span> to build the address.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2733029">The </a><span class="cv_-_computer_voice">Transaction.runWithNewBundle</span> statement creates the bundle and automatically commits it after Gosu Runtime executes the supplied code block.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2733030">In summary, the </a><span class="cv_-_computer_voice">create(bundle)</span> method does not create a bundle. Rather, it uses the bundle passed into it. Guidewire recommends that you use this method inside a transaction block that both creates the bundle and commits it automatically.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2733031">If you do not use this method inside a transaction block that automatically commits a bundle, then </a>you must commit the bundle yourself. To do so, add <span class="cv_-_computer_voice">bundle.commit</span> to your code.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>