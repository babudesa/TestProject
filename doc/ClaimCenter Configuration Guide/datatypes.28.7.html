<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>The Data Type API</title>
    <link rel="StyleSheet" href="css/datatypes.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-datamodel_2.html#2660041">Data Model Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="datatypes.28.1.html#2660041">Data Types</a> : The Data Type API</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="2660041">The Data Type API</a></div>
      <div class="B_-_Body"><a name="2639818">The classes in </a><span class="cv_-_computer_voice">gw.datatype</span> form the core of the Data Type API. Most of the time, you do not need to use data types directly, as Guidewire uses these internally in the system. However, there can be cases in which you need to access a data type, typically to determine the constraints information. </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="2646493">The following sections discuss:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'datatypes.28.7.html#2639820', '');" title="The Data Type API" name="2646504">Retrieving the Data Type for a Property</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'datatypes.28.7.html#2639827', '');" title="The Data Type API" name="2646529">Retrieving a Particular Data Type in Gosu</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'datatypes.28.7.html#2640095', '');" title="The Data Type API" name="2646551">Retrieving a Data Type Reflectively</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'datatypes.28.7.html#2640132', '');" title="The Data Type API" name="2646573">Using the IDataType Methods</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="2639820">Retrieving the Data Type for a Property</a></div>
      <div class="B_-_Body"><a name="2639821">To retrieve the data type for a property, you could look up the annotation on the property. You could then look up </a>the data type reflectively, using the <span class="cv_-_computer_voice">name</span> and <span class="cv_-_computer_voice">parameters</span> properties of the annotation. However, this is a cumbersome process. As a convenience, use the following method instead:</div>
      <div class="CS_-_Code_Single_Line"><a name="2639932">gw.datatype.DataTypes.get(gw.lang.reflect.IAnnotatedFeatureInfo)</a></div>
      <div class="B_-_Body"><a name="2639822">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2639823">  var property = Claim.Type.TypeInfo.getProperty("ClaimNumber")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2639824">  var claimNumberDataType = DataTypes.get(property)</a></PRE>
      <div class="B_-_Body"><a name="2639825">The </a><span class="cv_-_computer_voice">gw.datatype.DataTypes.get(gw.lang.reflect.IAnnotatedFeatureInfo)</span> method also has provides some performance optimizations. Therefore, Guidewire recommends that you use this method rather than looking up the annotation directly from the property. </div>
      <div class="H2_-_Heading_2"><a name="2639827">Retrieving a Particular Data Type in Gosu</a></div>
      <div class="B_-_Body"><a name="2639828">If you need an instance of a particular data type, use the corresponding method on </a><span class="cv_-_computer_voice">gw.datatype.DataTypes</span>. A static method exists on this type for each data type in the system. Some data types have two methods: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2639970">One that takes all parameters</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2639981">One that takes only the required parameters</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2639829">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2639830">  var varcharDataType = DataTypes.varchar(10)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2639831">  var encryptedVarcharDataType = DataTypes.varchar(10, </a>&nbsp;&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2641552">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* validator */ null,</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2641566">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logicalSize */ null,</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2641576">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* encryption&nbsp;*/ true, </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2641586">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* trimwhitespace */ null)</PRE>
      <div class="H2_-_Heading_2"><a name="2640095">Retrieving a Data Type Reflectively</a></div>
      <div class="B_-_Body"><a name="2640096">In rare cases, you may need to look up a data type reflectively. To do this, you need the name of the data type, </a>and a map containing the parameters for the data type. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="2640098">var varcharDataType = DataTypes.get("varchar", { "size" -&gt; "10" ))</a></div>
      <div class="H2_-_Heading_2"><a name="2640132">Using the IDataType Methods</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="2640099">After you have a data type, you can access its various aspects using one of the </a><span class="cv_-_computer_voice">asXXXDataType</span> methods, which are:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="2657692">asConstrainedDataType() : IConstrainedDataType</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="2657714">asPersistentDataType() </a></span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">: IPersistentDataType</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="2657721">asPresentableDataType() : IPresentableDataType</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2640844">For example, suppose that you want to determine the maximum length of a property: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2640101">var claim : Claim = ...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2640102">var claimNumberProperty = Claim.Type.TypeInfo.getProperty("ClaimNumber")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2640103">var claimNumberDataType = DataTypes.get(claimNumberProperty)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2640104">var maxLength = claimNumberDataType.asConstrainedDataType().getLength(claim, claimNumberProperty)</a></PRE>
      <div class="B_-_Body"><a name="2640176">It may seem odd that the </a><span class="cv_-_computer_voice">getLength(java.lang.Object, gw.lang.reflect.IPropertyInfo)</span> method (in this example) takes the claim and the claim number property. The reason for this is that the constraint and presentation aspects of data types are dynamic, meaning that they are based on context. </div>
      <div class="B_-_Body"><a name="2640225">Many of the methods on </a><span class="cv_-_computer_voice">gw.datatype.IConstrainedDataType</span> and gw.<span class="cv_-_computer_voice">datatype.IPresentableDataType</span> take a context object, representing the owner of the property with the data type, along with the property in question. This allows the implementation to provide different behavior, based on the context. If you do not have the context object or property, then you can pass <span class="cv_-_computer_voice">null</span> for either of these arguments. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2646601">If you implement a data type, then you must handle the case in which the context is </a>unknown.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>