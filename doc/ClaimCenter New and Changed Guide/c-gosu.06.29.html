<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Change in Ternary Conditionals If Clauses Return Different Types</title>
    <link rel="StyleSheet" href="css/c-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter New and Changed Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-b.html#2249657">What’s New and Changed in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.01.html#2249657">New and Changed in Gosu in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.22.html#2249657">Changed in Gosu in 6.0</a> : Change in Ternary Conditionals If Clauses Return Different Types</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2249657">Change in Ternary Conditionals If Clauses Return Different Types</a></div>
      <div class="B_-_Body"><a name="2249832">A ternary conditional checks a condition and returns one of two values depending on whether the expression </a>returns true or false. The behavior changed in a subtle way if the true and false clauses return different values. The compile time type of the result may change.</div>
      <div class="B_-_Body"><a name="2249777">In previous releases, the compile-time type of the ternary conditional was always the value of the first clause, the </a>true clause. </div>
      <div class="B_-_Body"><a name="2249849">In this release, if the true clause and the false clause return different types, the result is a combination of the types </a>of both clauses. For example, consider the following statement:</div>
      <div class="CS_-_Code_Single_Line"><a name="2249851">var s = someConditon ? "hello" : false</a></div>
      <div class="B_-_Body"><a name="2249852">The type of the result is the type lowest down in the type hierarchy to contain both types. If either clause is a </a>primitive type such as <span class="cv_-_computer_voice">int</span> or <span class="cv_-_computer_voice">boolean</span>, Gosu coerces the primitive type to its boxed (subclass of <span class="cv_-_computer_voice">Object</span>) version before doing this change. For example, <span class="cv_-_computer_voice">boolean</span> coerces to <span class="cv_-_computer_voice">Boolean</span>.</div>
      <div class="B_-_Body"><a name="2249853">If they have no ancestors in common, the compile-time type of the result is </a><span class="cv_-_computer_voice">Object</span>. This is important to note, because it may affect the coercions you do with the result and what properties or methods you call on the result.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2249854">Although the compile-time type looks at both types to find a common ancestor in the type hierarchy, </a>a ternary clause does not cause the creation of a Gosu <span class="e_-_emphasis">compound type</span>. For a more detailed explanation of this special type, see <a href="javascript:WWHClickedPopup('gosu', 'typesystem.23.4.html#1442091', '');" title="Compound Types">“Compound Types”</a></div>
      <div class="B_-_Body"><a name="2249882">If the true or false clauses return the same type, nothing changes in this release. </a></div>
      <div class="T_-_Table"><a name="2249676">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2249664"><img class="Default" src="images/c-gosu.06.29.1.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2249668">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2249670">Before deploying a production server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2249672">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2249675">Review your code for ternary condition expressions (condition ? trueValue : falseValue). Check for any cases </a>in which you pass different types to the true clause and the false clause. If you did not declare the variable type, check for possible changes to the compile-time type of the result.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2249677">As part of upgrade, you must carefully review your use of ternary expressions in cases where the types differ </a>between the <span class="cv_-_computer_voice">true</span> clause and the <span class="cv_-_computer_voice">false</span> clause.</div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2185534">Review your code for ternary condition expressions in which you pass different types to </a>the true clause and to the false clause and do not declare the variable type. If you did not declare the variable type, check for possible changes to the result in the false clause coercion or implications of the change to the variable’s type.</div>
      <div class="B_-_Body"><a name="2185591">For a related change, see </a><a href="javascript:WWHClickedPopup('whatsnew', 'c-gosu.06.26.html#2180134', '');" title="Data Structure Declaration Extensions for Lists, Maps, and Sets">“Data Structure Declaration Extensions for Lists, Maps, and Sets”</a>. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>