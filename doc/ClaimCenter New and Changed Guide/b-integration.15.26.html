<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Document Management Changes</title>
    <link rel="StyleSheet" href="css/b-integration.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter New and Changed Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-b_2.html#2184859">What’s New and Changed in 5.0</a> : <a class="WebWorks_Breadcrumb_Link" href="b-integration.15.01.html#2184859">New and Changed in Integration in 5.0</a> : <a class="WebWorks_Breadcrumb_Link" href="b-integration.15.11.html#2184859">Changes in Integration in 5.0</a> : Document Management Changes</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2184859">Document Management Changes</a></div>
      <div class="H3_-_Heading_3"><a name="2184865">Document Template Descriptors Optionally Cached</a></div>
      <div class="B_-_Body"><a name="2184866">By default, the list of document templates is calculated from files locally on disk when the application needs </a>them. For small lists of document templates, this is a quick process. However, if you have a large number of document templates, you can tell ClaimCenter to cache the list for better performance.</div>
      <div class="B_-_Body"><a name="2184870">You might prefer to use the default behavior (no caching) during development, particularly if you are frequently </a>changing templates while the application is running. However, for production, set the new optional parameter in the document template source plugin to cache the list of templates. </div>
      <div class="T_-_Table"><a name="2184888">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184876"><img class="Default" src="images/b-integration.15.26.1.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184880">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184882">Before deploying a production server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184884">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184887">Optional. If you have many document templates, consider enabling the new document template descriptor </a>caching feature for better application server and user interface performance.</div>
          </td>
        </tr>
      </table>
      <div class="HS_-_Head_Sub"><a name="2184889">To enable document template descriptor caching</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2184893">In Guidewire Studio, under </a><span class="ui_-_UI_element">Resources</span>, click <span class="ui_-_UI_element">Plugins</span> → <span class="ui_-_UI_element">IDocumentTemplateSource</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2184894">Under the parameters editor in the right pane, add the </a><span class="cv_-_computer_voice">cacheDescriptors</span> parameter with the value <span class="cv_-_computer_voice">true</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2212449">This parameter name is case senstive.</a></div>
      <div class="H3_-_Heading_3"><a name="2184895">Document UIDs Caching When Validation Errors Occur</a></div>
      <div class="B_-_Body"><a name="2184896">In previous releases, there could be unexpected behaviors if a new document was created and a validation error </a>occurred when the Validation rule set runs within the same database transaction. The validation error ensures the database transaction rolls back, which means that no database data was changed. However, if the document was created in the external system and the local ClaimCenter transaction rolls back, there is no stored reference in the ClaimCenter database. The database does not contain the document unique ID (UID) that describes the document’s location in the external system. This information is stored in the <span class="cv_-_computer_voice">Document</span> entity in ClaimCenter in the same transaction so it is not committed to the database. The new document in the external system is effectively orphaned, and additional attempts to change ClaimCenter data will re-generate a new version of the document.</div>
      <div class="B_-_Body"><a name="2184909">For the common case of validation errors that are soon fixed, application behavior changed in this release. When </a>a validatable entity fails validation, ClaimCenter saves the document UID in local memory. If the user fixes the validation error in that user session, the document information is saved and stored as expected so no externally-stored documents will be orphaned.</div>
      <div class="B_-_Body"><a name="2184913">There is no upgrade task associated with this change.</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2184914">It is still the case that errors that cause the transaction to roll back (such as uncaught </a>GScript exceptions), an externally-stored document associated with the current transaction might be orphaned. The document would be stored but no ClaimCenter <span class="cv_-_computer_voice">Document</span> entity committed to the database will reference the document UID for it.</div>
      <div class="H3_-_Heading_3"><a name="2184918">Templates and Descriptor File Locations Changed</a></div>
      <div class="B_-_Body"><a name="2184919">Template files and and descriptor files changed locations due to Studio changes for modules and the new </a>checksum actions for each module. The new location is:</div>
      <div class="CS_-_Code_Single_Line"><a name="2184923">ClaimCenter/configuration/config/resources/...</a></div>
      <div class="B_-_Body"><a name="2184924">If you do not need some of these descriptor files, you can delete files as appropriate from that location in the </a>configuration module. This applies to document templates, note templates, and email templates. </div>
      <div class="T_-_Table"><a name="2184942">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184930"><img class="Default" src="images/b-integration.15.26.2.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184934">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184936">Before deploying a production server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184938">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184941">To disable additional document templates or descriptors added to your configuration module, delete associ</a>ated files in that module.</div>
          </td>
        </tr>
      </table>
      <div class="H3_-_Heading_3"><a name="2184944">Document Management Plugin Files Directory Change</a></div>
      <div class="B_-_Body"><a name="2184945">The built-in document content source plugin and metadata source plugin have associated files, as in previous </a>releases. In this release, the location they store their files changed due to module-related changes in Studio.</div>
      <div class="B_-_Body"><a name="2184946">In this release, by default (if a special parameter is absent) a temporary directory is used with file relative paths, </a>and this actual location will vary by web application container. For Tomcat, files will be in:</div>
      <div class="CS_-_Code_Single_Line"><span class="pc_-_parameter_in_code"><a name="2184950">Tomcat_Root</a></span>\work\Catalina\localhost\cc </div>
      <div class="B_-_Body"><a name="2184951">The </a><span class="cv_-_computer_voice">DocumentMetadataSource</span> built-in plugin does not actually allow the relative path to be configured, and document metadata is always stored within a <span class="cv_-_computer_voice">metadata</span> directory under this directory.</div>
      <div class="T_-_Table"><a name="2184969">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184957"><img class="Default" src="images/b-integration.15.26.3.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184961">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184963">Before deploying a production server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184965">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184968">Verify the document management directory settings used by content source and metadata source plugins.</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2184973">If a web application directory relative path is used, ClaimCenter displays a warning on the console. Existing files </a>will <span class="s_-_strong">not</span> be moved automatically. You must ensure that any required files are moved. </div>
      <div class="B_-_Body"><a name="2184974">For production servers, Guidewire recommends that you do not use the built-in plugins. These plugins are </a>intended as examples only, as discussed further in <a href="javascript:WWHClickedPopup('integration', 'documentsforms.13.2.html#1880257', '');" title="Document Management Overview">“Document Management Overview” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'documentsforms.13.2.html#1880257', '');" title="Document Management Overview">Integration Guide</a></span>. However, for tests in production systems using the built-in plugins, specify a fixed full path for the directory rather than use a web application container relative path. To set this, set the parameter <span class="cv_-_computer_voice">documents.path</span> in the plugin configuration in Studio for both plugins to a fixed full file path. If you specify an absolute path, then for existing files no migration is necessary.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>