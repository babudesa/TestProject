<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Query Builder API Improvements</title>
    <link rel="StyleSheet" href="css/c-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter New and Changed Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-b.html#2184892">What’s New and Changed in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.01.html#2184892">New and Changed in Gosu in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.22.html#2184892">Changed in Gosu in 6.0</a> : Query Builder API Improvements</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2184892">Query Builder API Improvements</a></div>
      <div class="B_-_Body"><a name="2184921">In ClaimCenter </a>6.0, the query builder APIs improved compared to ClaimCenter 5.0.x. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2247983">The query builder is the new database query system introduced in ClaimCenter </a>5.0.5 that replaces <span class="cv_-_computer_voice">find</span> expressions. You can still use <span class="cv_-_computer_voice">find</span> expressions. The <span class="cv_-_computer_voice">find</span> expression syntax is not deprecated. However, Guidewire <span class="s_-_strong">strongly recommends</span> that for any new code that you write, use the new query builder APIs. For more information about query builder, see <a href="javascript:WWHClickedPopup('gosu', 'querybuilder.09.01.html#2180086', '');" title="Query Builder">“Query Builder” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.09.01.html#2180086', '');" title="Query Builder">Gosu Reference Guide</a></span>.</div>
      <div class="B_-_Body"><a name="2200858">In many situations you only need a few columns from the result instead of the whole entity. You can use a variant </a>of the <span class="cv_-_computer_voice">select</span> method on a query, which replaces the <span class="cv_-_computer_voice">query.getProcessor()</span> method. See <a href="javascript:WWHClickedPopup('whatsnew', 'c-gosu.06.35.html#2184760', '');" title="Query Builder API Changes">“Query Builder API Changes”</a> for details.</div>
      <div class="B_-_Body"><a name="2186022">Just as using </a><span class="cv_-_computer_voice">getProcessor</span> in ClaimCenter 5.0, you can call the method with no arguments to simply use it as an iterator across all results. Each query result is the entity in its entirety, and the database loads all columns in that row.</div>
      <div class="B_-_Body"><a name="2186023">Instead of calling the </a><span class="cv_-_computer_voice">select</span> method with no arguments, in ClaimCenter 6.0, you can now use an alternate method signature that takes a <span class="e_-_emphasis">block</span>. A block is an in-line function that you define within another function. For more information about blocks, see <a href="javascript:WWHClickedPopup('gosu', 'blocks.17.1.html#1445150', '');" title="Gosu Blocks">“Gosu Blocks” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'blocks.17.1.html#1445150', '');" title="Gosu Blocks">Gosu Reference Guide</a></span>. You pass a block that takes an object of the query type and returns whatever you want. The return type can be anything that you specify. Any arbitrary type is fine, so you can choose whatever is most convenient for your program. The return type does not need to match the native types for the columns in the database. </div>
      <div class="B_-_Body"><a name="2184685">This alternative </a><span class="cv_-_computer_voice">select</span> method provides the following important benefits:</div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="ri_-_run_in_header"><a name="2184686">Gosu only loads the columns you need.</a></span> The database returns <span class="s_-_strong">only</span> the columns you access in your block. This reduces memory usage and improves overall server performance.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="ri_-_run_in_header"><a name="2184687">You can assemble arbitrary structures or calculations to return in place of full entities.</a></span> Since you are not retrieving the entire entity, you choose how to return each result. For example, you can populate a custom Gosu class containing only the fields you need. Or you can simply return a single field that you need, such as a public ID string.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2184932">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.09.12.html#2233459', '');" title="Selecting Columns and Returning Results in Custom Formats">“Selecting Columns and Returning Results in Custom Formats”</a>.</div>
      <div class="B_-_Body"><a name="2184947">Additionally, ClaimCenter improved the ability to order results by database fields, including multi-level field </a>paths. You can now select second-level or additional levels of sorting. You can choose the order (forward or reverse) for each level of sorting. For example, the following orders by column <span class="cv_-_computer_voice">A2</span> then by descending order on column <span class="cv_-_computer_voice">E.E</span>:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2185035">result.orderBy(\row-&gt; row.A2).thenByDescending(\row-&gt;row.E.E)</a></PRE>
      <div class="B_-_Body"><a name="2185027">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.09.13.html#2188751', '');" title="Ordering results">“Ordering results”</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>