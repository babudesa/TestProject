<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>New Array/List Expansion Operator (Deprecated Old Style)</title>
    <link rel="StyleSheet" href="css/c-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter New and Changed Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-b.html#2212339">What’s New and Changed in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.01.html#2212339">New and Changed in Gosu in 6.0</a> : <a class="WebWorks_Breadcrumb_Link" href="c-gosu.06.22.html#2212339">Changed in Gosu in 6.0</a> : New Array/List Expansion Operator (Deprecated Old Style)</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2212339">New Array/List Expansion Operator (Deprecated Old Style)</a></div>
      <div class="B_-_Body"><a name="2203680">Gosu now includes a new operator for array expansion and list expansion. It is an asterisk followed by a period, </a>for example:</div>
      <div class="CS_-_Code_Single_Line"><a name="2203689">names*.Length</a></div>
      <div class="B_-_Body"><a name="2203684">In ClaimCenter </a>5.0, Gosu enabled array expansion by overloading the member access operator (the dot operator). For example, consider the <span class="cv_-_computer_voice">User</span> entity. Suppose you wanted to get a list of the groups a user belongs to so you can display the display names of each group. The <span class="cv_-_computer_voice">User</span> entity contains a <span class="cv_-_computer_voice">MemberGroups</span> property that returns a read-only array of groups that the user belongs to. In other words, the Gosu syntax <span class="cv_-_computer_voice">user.MemberGroups</span> returns an array of <span class="cv_-_computer_voice">Group</span> entities. If you want to get the display names from each group, you can use the following Gosu code </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203257">var user : entity.User</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203258">...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203259">print( user.MemberGroups.DisplayName )</a></PRE>
      <div class="B_-_Body"><a name="2203361">Because </a><span class="cv_-_computer_voice">MemberGroups</span> is an array, Gosu implicitly expands the array by the <span class="cv_-_computer_voice">DisplayName</span> property on the <span class="cv_-_computer_voice">Group</span> component type. The result is an array of the names of all the Groups to which the user belongs. The type is <span class="cv_-_computer_voice">String[]</span>. This array and list expansion can be useful and powerful.</div>
      <div class="B_-_Body"><a name="2203263">However, there are drawbacks to this approach:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203411">The subtle syntax results in programmers unaware of this feature.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203427">Because it uses the standard dot notation, even programmers familiar with the feature might accidentally use </a>the feature when unintended. Also, programmers might not instantly understand the complexity of the expansion implicit in the code. For example, if you do not notice that <span class="cv_-_computer_voice">MemberGroups</span> is plural and you let the editor complete the expression, you might expect the result to be type <span class="cv_-_computer_voice">String</span>, not <span class="cv_-_computer_voice">String[]</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203501">Properties on the array may conflict with properties on the array component. For instance, the </a><span class="cv_-_computer_voice">Length</span> property on array conflicts with the <span class="cv_-_computer_voice">Length</span> property on <span class="cv_-_computer_voice">java.util.String</span> (a Gosu enhancement adds the <span class="cv_-_computer_voice">Length</span> property). Thus, the following expression is ambiguous:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203503">var names : String[]</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203504">...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203505">print( names.Length )</a></PRE>
      <div class="LP_-_List_Para"><a name="2203623">Gosu cannot know whether the programmer intended to return an integer representing the length of the array </a>or an array containing lengths of the names. Currently, array properties have precedence over component type properties, so Gosu return an integer representing the length of the array. However, this also means there is no concise way to return the array containing lengths of the names with array expansion.</div>
      <div class="B_-_Body"><a name="2203774">In ClaimCenter </a>6.0, Gosu solves most of these issues by introducing a new operator exclusive to array expansion: the new <span class="cv_-_computer_voice">*.</span> expansion operator. For example, the expressions from above can be expressed as follows:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203818">// An array of names for each group</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203775">var arrayOfGroupNames = user.MemberGroups*.DisplayName </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203829">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203148">// An array of lengths for each name</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2203807">var lengthOfNames = names*.length </a></PRE>
      <div class="B_-_Body"><a name="2232913">The expansion operator works with methods also:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2233481">If the object to the left of the expansion operator is an array, Gosu gets the type that the method returns and </a>creates an array of that type. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2233492">If the object to the left of the expansion operator is an list, Gosu gets the type </a><span class="cv_-_computer_voice">T</span> that the method returns and creates a list of that type. Using Gosu generics notation, the result type is <span class="cv_-_computer_voice">java.util.List&lt;T&gt;</span>. The following example calls a method on the <span class="cv_-_computer_voice">String</span> component of the <span class="cv_-_computer_voice">List</span> of <span class="cv_-_computer_voice">String</span> objects. It generates the list of initials.</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2232914">var s = {"Fred", "Garvin"}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2232915">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2232916">// get the character array [F, G]</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2232917">var charArray = s*.charAt( 0 )</a></PRE>
      <div class="B_-_Body"><a name="2203153">Other important notes about the new expansion operator:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203993">Older code is backward-compatible.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2232887">The older style is now deprecated. You can use it in this release, but it is best to start to convert your code to </a>the new expansion operator.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203851">The new expansion operator </a><span class="cv_-_computer_voice">*.</span> works only for array expansion, never standard property accessing.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203933">When using the new expansion operator, only </a><span class="s_-_strong">component</span><span class="s_-_strong">&nbsp;</span><span class="s_-_strong">type</span><span class="s_-_strong">&nbsp;</span><span class="s_-_strong">properties</span> are accessible.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2204057">When using the new expansion operator, </a><span class="s_-_strong">array properties</span> are never accessible.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2204058">When using the legacy syntax for expansion (the simple period), component type properties do not pollute the </a>array type information within in code completion in the Gosu editor. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203890">When using the legacy syntax for expansion (the simple period), the compiler warns you about ambiguity.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2203156">The expansion operator applies not only to arrays, but to any </a><span class="cv_-_computer_voice">Iterable</span> type and all <span class="cv_-_computer_voice">Iterator</span> types and it preserves the type of array/list. For instance, if you apply the *. operator to a <span class="cv_-_computer_voice">List</span>, the result is a <span class="cv_-_computer_voice">List</span>. Otherwise, the expansion behavior is the same as with arrays.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2232934">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'collections.19.4.html#1466311', '');" title="List and Array Expansion (*.)">“List and Array Expansion (*.)” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'collections.19.4.html#1466311', '');" title="List and Array Expansion (*.)">Gosu Reference Guide</a></span>.</div>
      <div class="T_-_Table"><a name="2242481">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2242470"><img class="Default" src="images/c-gosu.06.40.1.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2242474">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2242476">Before your next upgrade</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2242478">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2242480">Review your code for uses of the now-deprecated list/array expansion operator (the single period). Replace </a>these with the new *. operator syntax.</div>
          </td>
        </tr>
      </table>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>