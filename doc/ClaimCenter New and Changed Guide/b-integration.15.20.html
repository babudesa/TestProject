<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>GScript Plugin Important and Required Changes</title>
    <link rel="StyleSheet" href="css/b-integration.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter New and Changed Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-b_2.html#2184484">What’s New and Changed in 5.0</a> : <a class="WebWorks_Breadcrumb_Link" href="b-integration.15.01.html#2184484">New and Changed in Integration in 5.0</a> : <a class="WebWorks_Breadcrumb_Link" href="b-integration.15.11.html#2184484">Changes in Integration in 5.0</a> : GScript Plugin Important and Required Changes</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="2184484">GScript Plugin Important and Required Changes</a></div>
      <div class="B_-_Body"><a name="2184486">GScript now has a native implementation of </a><span class="e_-_emphasis">interfaces</span>, which is a defined set of required methods necessary to perform some certain task. For more information about interfaces, see <a href="javascript:WWHClickedPopup('whatsnew', 'b-gscript.13.02.html#2113543', '');" title="New in GScript in 5.0">“GScript Interface Support”</a>. Guidewire requires customers convert any GScript plugins (plugins defined in GScript) to use GScript interfaces to get proper compile-time validation. The language itself confirms that you implemented the required interfaces correctly. Additionally, if in future releases if a plugin interface changes, Studio can easily identify that the interface does not match the customer implementation of the interface. For example, if a new method is required to be implemented, Studio will flag this error if your code does not match. </div>
      <div class="B_-_Body"><a name="2184490">All plugin interfaces are now accessible to the GScript world in a different package hierarchy than in previous </a>releases. The location of the plugin class is much more important in the current release since the plugin implementation class must reference the plugin interface explicitly. This is further discussed in the next section about interfaces. All plugins are now defined in the package <span class="cv_-_computer_voice">gw.plugin.*</span>, so as soon as you type “<span class="cv_-_computer_voice">gw.plugin.</span>” in your GScript code, Studio will display your plugin choices.</div>
      <div class="T_-_Table"><a name="2184508">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184496"><img class="Default" src="images/b-integration.15.20.1.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184500">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184502">Before starting the server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184504">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184507">Change older GScript plugins to implement a GScript interface.</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2184510">When implementing a Guidewire-provided plugin interface, you must change the line that defines the GScript </a>class. In previous releases, GScript classes that define plugins would simply look like a regular GScript class, as follows.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2184511">class FooTransport {</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2184512">&nbsp;</a>&nbsp;...</PRE>
      <div class="B_-_Body"><a name="2184513">In this release, you must specifically declare what interface the plugin claims to implement, such as:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2184514">class FooTransport implements gw.plugin.MessageTransport {</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2184515">&nbsp;</a>&nbsp;...</PRE>
      <div class="B_-_Body"><a name="2184516">Making this change may reveal compilation errors if your class does not properly implement the plugin interface. </a>You must fix these issues. </div>
      <div class="B_-_Body"><a name="2184517">A common compilation issue is that a method that implements interface methods that look like properties must </a>be implemented in GScript explicitly as a GScript property. In other words, if the interface contains a method starting with the substring <span class="cv_-_computer_voice">"get"</span> or <span class="cv_-_computer_voice">"is"</span> and takes no parameters, you must define the method using GScript property syntax. In contrast, do not define it as a simple method. For example, if plugin <span class="cv_-_computer_voice">APlugin</span> declared a method <span class="cv_-_computer_voice">getBar()</span>, your plugin implementation of this interface looks like:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2184518">class MyAPlugin implements gw.plugin.APlugin {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184519">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184520">&nbsp;</a>&nbsp;property getBar() : String {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184521">  ...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184522">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2184523">}</a></PRE>
      <div class="T_-_Table"><a name="2184541">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184529"><img class="Default" src="images/b-integration.15.20.2.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184533">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184535">Before starting the server</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184537">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184540">Change older GScript plugins to use new-style plugin parameter syntax.</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2184542">Some customer-written GScript plugin implementation used parameters passed from </a><span class="cv_-_computer_voice">config.xml</span>. If any of your plugins used this feature, you must make minor changes to use these parameters because the application passes parameters in a different way to GScript plugins. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2184543">Plugins are no longer registered in </a><span class="cv_-_computer_voice">config.xml</span>. In this release, plugins are registered directly in Studio, which stores them in a different file (see <a href="javascript:WWHClickedPopup('whatsnew', 'b-integration.15.16.html#2184409', '');" title="Plugin Registration Changes">“Plugin Registration Changes”</a>). To change values of these parameters, use Studio to edit them.</div>
      <div class="B_-_Body"><a name="2184547">In previous releases, parameters were passed to GScript plugins using a </a><span class="cv_-_computer_voice">Map</span> passed to the class constructor:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2184548">class MyAuthenticationSourceCreator</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184549">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184550">&nbsp;</a>&nbsp;MyAuthenticationSourceCreator( params : java.util.Map )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184551">&nbsp;</a>&nbsp;{</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184552">  </a>&nbsp;&nbsp;...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184553">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2184554">}</a></PRE>
      <div class="B_-_Body"><a name="2184555">In the current release, there are two tasks you must do to use parameters.</a></div>
      <div class="B_-_Body"><a name="2184557">First, implement the initializable plugin (</a><span class="cv_-_computer_voice">gw.plugin.InitializablePlugin</span>) interface in addition to the plugin interface you want to implement. Note that classes can implement more than one interface; simply separate the implemented interfaces with commas. Because your class implements the initializable plugin interface, the application knows to call the <span class="cv_-_computer_voice">setParameters</span> method on your class. </div>
      <div class="B_-_Body"><a name="2184560">Next, simply implement the </a><span class="cv_-_computer_voice">setParameters</span> method (instead of the class constructor), which takes a <span class="cv_-_computer_voice">Map</span> of your parameters passed in from the plugin registry you defined in Studio. The <span class="cv_-_computer_voice">Map</span> is the same name/value format as in previous releases.</div>
      <div class="B_-_Body"><a name="2184562">The following example demonstrates how to define an actual plugin that uses parameters:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184563">uses java.util.Map;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184564">uses java.plugin;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184565">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184567">class FooTransport implements MessageTransport, InitializablePlugin {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184568">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184569">&nbsp;</a>&nbsp;&nbsp;// note the empty constructor. The application now longer calls the constructor</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184570">&nbsp;</a>&nbsp;&nbsp;// with a map of parameters. If you do provide an empty constructor, the application</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184571">&nbsp;</a>&nbsp;&nbsp;// will call it when the plugin is instantiated, which is before setParameters is called</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184572">   construct()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184573">   {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184574">   }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184575">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184576">   function setParameters(map: java.util.Map)  {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184577">&nbsp;</a>&nbsp;&nbsp;&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184578">&nbsp;</a>&nbsp;&nbsp;&nbsp;// here we can access values in the MAP to get parameters defined in plugin registry in Studio</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184579">&nbsp;</a>&nbsp;&nbsp;&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184580">   }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184581">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184582">&nbsp;</a>&nbsp;// NEXT, define all your other methods required by the MAIN interface you are implementing...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184583">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184584">   function suspend() {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184585">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184586">   function shutdown() {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184587">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184588">   function setDestinationID(id:int) {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184589">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184590">   function resume() {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184591">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184592">   function send(message:entity.Message, transformedPayload:String) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184593">     print("======================================================")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184594">     print(message)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184595">     message.reportAck()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184596">   }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2184597">}</a></PRE>
      <div class="T_-_Table"><a name="2184615">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2184603"><img class="Default" src="images/b-integration.15.20.3.png" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184607">&nbsp;</a></span><span class="s_-_strong">Priority:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2184609">Before the next release</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2184611">&nbsp;</a></span><span class="s_-_strong">Summary:</span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="UT_-_Upgrade_Task"><a name="2184614">Optional. Review Java plugin implementations to determine if some might be better as GScript plugins to take </a>advantage of new GScript and Studio features, such as native web service support.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2184617">Because of new native GScript support for calling external web services and a native implementation of inter</a>faces, some customer plugins written in Java can be easily rewritten in GScript. Simply rewrite it as a GScript plugins. For example, if your Java plugin simply made a SOAP call to a remote system, you can do this natively in GScript in the current release. </div>
      <div class="B_-_Body"><a name="2184621">For more information on SOAP, see </a><a href="javascript:WWHClickedPopup('integration', 'webservices.04.01.html#3412469', '');" title="Web Services (SOAP)">“Web Services (SOAP)” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices.04.01.html#3412469', '');" title="Web Services (SOAP)">Integration Guide</a></span>. For more information about the interface changes, see <a href="javascript:WWHClickedPopup('whatsnew', 'b-gscript.13.02.html#2113543', '');" title="New in GScript in 5.0">“GScript Interface Support”</a>.</div>
      <div class="B_-_Body"><a name="2184625">There might be a very small number of tasks impossible from GScript but possible in Java, although this number </a>is likely smaller than you think. For example, a GScript plugin can call out from GScript to a pre-existing Java library or classes that implement communication protocols to a legacy system. You might be able to write much of your plugin in GScript in these cases. If desired, you can still call out to Java code from GScript as needed for a small number of tasks or to call legacy code. For more information on calling Java, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.02.html#1797700', '');" title="Overview of Calling Java from Gosu">“Overview of Calling Java from Gosu” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.02.html#1797700', '');" title="Overview of Calling Java from Gosu">Gosu Reference Guide</a></span>.</div>
      <div class="B_-_Body"><a name="2184629">Changing some Java plugins to GScript may improve your ability to maintain your plugin code. For example, it </a>might reduce the frequency you need to manually recompile Java code and regenerate the Java toolkit.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>