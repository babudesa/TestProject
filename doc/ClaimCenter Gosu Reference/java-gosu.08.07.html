<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Using Java Entity Libraries</title>
    <link rel="StyleSheet" href="css/java-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="java-gosu.08.01.html#2073829">Java and Gosu</a> : Using Java Entity Libraries</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="2073829">Using Java Entity Libraries</a></div>
      <div class="B_-_Body"><a name="2073831">Anytime you change the data model due to extensions or customizations, you must regenerate the entity libraries </a>so that you can compile your Java code against it.</div>
      <div class="B_-_Body"><a name="2073832">To regenerate entity libraries for use in integration, regenerate (rebuild) the Java API libraries. See </a><a href="javascript:WWHClickedPopup('integration', 'overview.03.3.html#2079851', '');" title="Preparing for Integration Development">“Regenerating the Integration Libraries”</a> for details.</div>
      <div class="B_-_Body"><a name="2073839">ClaimCenter creates the Java API library JAR files in the following directory:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073843">ClaimCenter/java-api/lib/...</a></div>
      <div class="B_-_Body"><a name="2073844">This directory includes several JAR files, include the Java entity libraries in the file </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">gw-entity-cc.jar</span>. </div>
      <div class="B_-_Body"><a name="2073851">You must </a><span class="s_-_strong">copy</span> the <span class="cv_-_computer_voice">gw-entity-cc.jar</span> file to the following directory for ClaimCenter to find it at run time:</div>
      <div class="CS_-_Code_Single_Line"><a name="2073855">ClaimCenter/modules/configuration/plugins/shared/lib</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2073859">Either manually copy the </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">gw-entity-cc.jar</span> file to your <span class="cv_-_computer_voice">configuration</span> module after regenerating the file, or modify your build system to copy this file for you.</div>
      <div class="B_-_Body"><a name="2073860">Compile your code against those entity library files. The JAR file contains compiled classes for each of the </a>Guidewire entities and typelist classes, and the classes <span class="cv_-_computer_voice">Entity</span>, <span class="cv_-_computer_voice">KeyableEntity</span>, <span class="cv_-_computer_voice">TypeKey</span>, <span class="cv_-_computer_voice">Key</span>, and <span class="cv_-_computer_voice">GenericCheckedException</span>. </div>
      <div class="B_-_Body"><a name="2073865">Refer to the documentation for the generated entity libraries at the path:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073869">ClaimCenter/java-api/doc/api/index.html</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2073873">The generated library files in </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">ClaimCenter/java-api/lib/*.jar</span> are the only supported versions of the Guidewire Java libraries. Do not use any libraries exist in internal modules in the product hierarchy.</div>
      <div class="HS_-_Head_Sub"><a name="2073874">Related Deployment Information</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073880">If you implement a Java plugin, see </a><a href="javascript:WWHClickedPopup('integration', 'plugins.09.01.html#2013370', '');" title="Plugin Overview">“Plugin Overview”</a> and <a href="javascript:WWHClickedPopup('integration', 'plugins.09.06.html#2445041', '');" title="Deploying Java Plugins">“Deploying Java Plugins”</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="2073883">Creating Entities from Java</a></div>
      <div class="B_-_Body"><a name="2073884">Java code sometimes needs to create new entities. For example, document management integration code creates </a>a <span class="cv_-_computer_voice">Document</span> entity to return to ClaimCenter. For more information about creating new entities from Java code using the <span class="cv_-_computer_voice">EntityFactory</span> class, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.10.html#2074121', '');" title="Java Entity Utility APIs">“Java Entity Utility APIs”</a>.</div>
      <div class="H2_-_Heading_2"><a name="2073892">Getting and Setting Properties from Java</a></div>
      <div class="B_-_Body"><a name="2073893">Entity properties (as well as any object properties from Gosu if accessed from Java) are on the external interfaces </a>as getter and setter methods. Getter and setter methods are methods to get or set properties and their names start with the text “<span class="cv_-_computer_voice">get”</span> and “<span class="cv_-_computer_voice">set</span>”. A readable and writable property named <span class="p_-_parameter">MyField</span> shows up in the interface as a pair of <span class="cv_-_computer_voice">get</span><span class="ps_-_parameter_in_code_snippets">MyField</span> and <span class="cv_-_computer_voice">set</span><span class="ps_-_parameter_in_code_snippets">MyField</span> methods. Read-only properties do not expose a <span class="cv_-_computer_voice">set</span> method on the object. If the property named <span class="p_-_parameter">MyField</span> contains a Boolean value, it appears in the interface slightly differently as <span class="cv_-_computer_voice">is</span><span class="p_-_parameter">MyField</span> instead of <span class="cv_-_computer_voice">get</span><span class="p_-_parameter">MyField</span>. </div>
      <div class="B_-_Body"><a name="2073898">Examples:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2073899">address.setFirstName("Russ");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073900">lastName = address.getLastName();</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2073901">tested = someEntity.isFieldname();</a></PRE>
      <div class="B_-_Body"><a name="2073902">Extension properties appear in the generated classes in the exact same way as built-in properties. ClaimCenter </a>adds associative properties to an entity automatically based on typelist values.</div>
      <div class="H2_-_Heading_2"><a name="2073911">Calling Entity Domain Methods from Java</a></div>
      <div class="B_-_Body"><a name="2073915">Almost all ClaimCenter object methods visible to Gosu appear on the generated Java entity interface. Most entity </a>methods on entity instances appear as regular methods, for example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2073919">claim.addEvent("CustomEventName");</a></PRE>
      <div class="B_-_Body"><a name="2073920">A few methods do not export to Java due to differences in certain internal classes that cannot convert to the </a>external Java interface.</div>
      <div class="H2_-_Heading_2"><a name="2073921">Exception Handling from Java</a></div>
      <div class="B_-_Body"><a name="2073922">Guidewire specifies that some entity methods throw exceptions. These exceptions are usually internal Guidewire </a>classes. Exception classes are internal to ClaimCenter and unavailable within the external entity libraries. Because of this, the generated interface cannot directly declare the generated method as throwing exactly the same exceptions as the internal exceptions. </div>
      <div class="B_-_Body"><a name="2073926">To workaround this problem, entity interfaces throw the exception </a><span class="cv_-_computer_voice">com.guidewire.external.GenericCheckedException</span> if the underlying method can throw a checked exception. The entity interfaces throw <span class="cv_-_computer_voice">java.lang.RuntimeException</span> if the class explicitly declares the throwing of some variant of the <span class="cv_-_computer_voice">RuntimeException</span> exception. Find Guidewire exceptions declared on the underlying method for each entity in the Javadoc documentation for that method within the API Reference Javadoc documentation. If an exception occurs while calling the method, Gosu rethrows the original runtime exceptions to the calling code. ClaimCenter wraps any checked exceptions in a <span class="cv_-_computer_voice">GenericCheckedException</span> and then throws the exception.</div>
      <div class="H2_-_Heading_2"><a name="2073934">TypeKey Classes from Java</a></div>
      <div class="B_-_Body"><a name="2073936">The entity libraries include a class for each typelist generated into the </a><span class="cv_-_computer_voice">com.guidewire.cc.external.typelist</span> package and implementing the <span class="cv_-_computer_voice">com.guidewire.external.typelist.TypeKey</span> interface. </div>
      <div class="B_-_Body"><a name="2073943">Each class contains a set of static instances of the class, one per non-retired </a><span class="cv_-_computer_voice">typekey</span> in the <span class="cv_-_computer_voice">typelist</span>. New instances of the class cannot be created directly, ensuring that the <span class="cv_-_computer_voice">typekey</span> constants form a type safe enumeration, but they can be reflectively looked up using the method:</div>
      <div class="CS_-_Code_Single_Line"><a name="2073947">  </a><span class="pc_-_parameter_in_code">entity</span>.getByCode(String code);</div>
      <div class="B_-_Body"><a name="2073949">All </a><span class="e_-_emphasis">typekey</span> constants use the typekey’s code in all upper case as their name and without any “<span class="cv_-_computer_voice">TC_</span>” prefix. Java identifiers only allow letters, numbers, and the underscore character, so any other characters convert to underscores in the constant name. In addition, identifiers cannot start with numbers, so any typecode that starts with a number results in a constant whose name starts with an underscore.</div>
      <div class="B_-_Body"><a name="2073953">For example, the </a><span class="cv_-_computer_voice">CheckType</span> typecode <span class="cv_-_computer_voice">Primary</span> would be referenced within the generated libraries as <span class="cv_-_computer_voice">com.guidewire.cc.external.typelist.CheckType.PRIMARY</span>. </div>
      <div class="H2_-_Heading_2"><a name="2073961">Parameterization of Types Stripped from Entities in Java</a></div>
      <div class="B_-_Body"><a name="2073965">If any plugin definition uses parameterized types, ClaimCenter strips parameterization from those types when </a>generating external entities in the Java entity libraries. This applies to both method parameters and return types</div>
      <div class="B_-_Body"><a name="2073966">For example, if a plugin interface returns the type </a><span class="cv_-_computer_voice">List&lt;User&gt;</span>, in Java it simply returns the type <span class="cv_-_computer_voice">List</span>.</div>
      <div class="H2_-_Heading_2"><a name="2073968">Special Entity-related Java Classes</a></div>
      <div class="B_-_Body"><a name="2073969">There are five entity-related classes that represent Guidewire internal classes, which at generation time copies </a>into the generated entity library packages:</div>
      <div class="HS_-_Head_Sub"><a name="2073970">Root of Entity Hierarchy</a></div>
      <div class="B_-_Body"><a name="2073973">The root of the entity hierarchy and the superclass for any non-keyable entities is the class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073974">com.guidewire.external.entity.Entity</a></div>
      <div class="HS_-_Head_Sub"><a name="2073975">Superclass for Keyable Entities</a></div>
      <div class="B_-_Body"><a name="2073977">The superclass for all keyable entities is the class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073978">com.guidewire.external.entity.KeyableEntity</a></div>
      <div class="B_-_Body"><a name="2073979">This extends from </a><span class="cv_-_computer_voice">com.guidewire.external.entity.Entity</span>.</div>
      <div class="HS_-_Head_Sub"><a name="2073980">Entity’s Key External Representation</a></div>
      <div class="B_-_Body"><a name="2073982">The external representation of an entity’s key is the class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073983">com.guidewire.external.entity.Key</a></div>
      <div class="HS_-_Head_Sub"><a name="2073984">Superclass for Generate Typelist Classes</a></div>
      <div class="B_-_Body"><a name="2073986">The superclass for each generated typelist class is the class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073987">com.guidewire.external.typelist.TypeKey</a></div>
      <div class="B_-_Body"><a name="2073992">These have the name </a><span class="cv_-_computer_voice">TypeKey</span> because a <span class="cv_-_computer_voice">typelist</span> is really a set of <span class="cv_-_computer_voice">TypeKey</span> instances.</div>
      <div class="HS_-_Head_Sub"><a name="2073993">Generic Checked Exceptions</a></div>
      <div class="B_-_Body"><a name="2073994">Exceptions declared and thrown if a method can throw checked exceptions derive from the class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073995">com.guidewire.external.GenericCheckedException</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>