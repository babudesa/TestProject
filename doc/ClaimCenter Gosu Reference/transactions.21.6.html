<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Determining What Entity Data Changed in a Bundle</title>
    <link rel="StyleSheet" href="css/transactions.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="transactions.21.1.html#1568239">Bundles and Transactions</a> : Determining What Entity Data Changed in a Bundle</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="1568239">Determining What Entity Data Changed in a Bundle</a></div>
      <div class="B_-_Body"><a name="1569528">If entity data changes in a bundle, it is sometimes important to identify which data changed. In other words, you </a>might need to compare the most recent entity data from the database with the latest version of an entity in a locally-modified bundle. In the most common case, rule sets written in Studio contain rules and sometimes the rule conditions and rule actions must detect which, if any, properties changed in an entity. For example, if a certain entity property changed, you might want to recalculate other related properties, or perhaps log changes or send messages to external systems. </div>
      <div class="B_-_Body"><a name="1568499">To detect such changes, you can call the entity’s </a><span class="cv_-_computer_voice">isFieldChanged</span> method to find out if a certain property in that entity has changed. If it has changed, call the entity’s <span class="cv_-_computer_voice">getOriginalValue</span> method to get the original value loaded from the database. You must case the original value to the expected type with the syntax “<span class="cv_-_computer_voice">as</span><span class="cv_-_computer_voice">&nbsp;</span><span class="ps_-_parameter_in_code_snippets">TYPENAME</span>”. Depending on the type of value stored in that property, the <span class="cv_-_computer_voice">isFieldChanged</span> method behaves slightly differently, as described further in the following table:</div>
      <div class="T_-_Table"><a name="1569748">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1569716">Property type</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1569718">Meaning of Original Value </a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1569720">Behavior of isFieldChanged(...)</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569722">Scalar value</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569724">The original simple value, such as a </a><span class="cvt_-_computer_voice_table">String</span> value like <span class="cvt_-_computer_voice_table">"John Smith"</span>, a number like 234, or any other non-entity and non-array type.</div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569726">Returns </a><span class="cvt_-_computer_voice_table">true</span> if and only if the actual property value changed to a different actual value. If the value changed to a different value and then back to the original value, <span class="cvt_-_computer_voice_table">isFieldChanged</span> would return <span class="cvt_-_computer_voice_table">false</span>.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569729">Entity</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569731">Guidewire applications represent links to entity </a>subobjects as a foreign key called the <span class="e_-_emphasis">internal ID</span>. This foreign key is the <span class="pst_-_parameter_in_code_snippets_table">entity</span><span class="cvt_-_computer_voice_table">.Id</span> property on the destination entity. Note that the <span class="cvt_-_computer_voice_table">Id</span> property is different than the <span class="cvt_-_computer_voice_table">PublicID</span> property. </div>
            <div class="TT_-_Table_Text"><a name="1574395">If you call </a><span class="cvt_-_computer_voice_table">getOriginalValue</span> with a foreign key field, you get an internal ID. To get a reference in Gosu to the entity with the original ID, pass that ID as an argument to the entity type itself. That is a special syntax for looking up an entity from its internal ID. For example, suppose an entity in variable <span class="cvt_-_computer_voice_table">e</span> has an <span class="cvt_-_computer_voice_table">Address1</span> field that contains an <span class="cvt_-_computer_voice_table">Address</span> entity. The following code gets the original value and a reference to it.</div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1574340">var f = e.getOriginalValue("Address1")</a></span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1574341">var origAddress = Address(f) </a></span></div>
            <div class="TT_-_Table_Text"><a name="1574406">Note that you do </a><span class="s_-_strong">not</span> use the <span class="cvt_-_computer_voice_table">new</span> operator using this special entity lookup syntax (<span class="e_-_emphasis">object literals</span>) shown on the previous line.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569733">Returns </a><span class="cvt_-_computer_voice_table">true</span> if and only if the foreign key <span class="cvt_-_computer_voice_table">Id</span> value for the subobject is the same in the original entity. The <span class="cvt_-_computer_voice_table">PublicID</span> is not examined by the <span class="cvt_-_computer_voice_table">isFieldChanged</span> method.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569735">Owned array</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569737">The original entity array </a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570622">Returns </a><span class="cvt_-_computer_voice_table">true</span> if an entity in the array changed (if one or more properties changed in an array) <span class="s_-_strong">or</span> if any elements were added or removed to the array. Because entity array order is not meaningful (do not rely on it), the order is not checked by <span class="cvt_-_computer_voice_table">isFieldChanged</span>. Effectively, in this case <span class="cvt_-_computer_voice_table">isFieldChanged</span> returns the same value as the array method <span class="cvt_-_computer_voice_table">isArrayElementAddedOrRemoved</span>, discussed in <a href="javascript:WWHClickedPopup('gosu', 'transactions.21.6.html#1569999', '');" title="Determining What Entity Data Changed in a Bundle">“Bundle Change Methods Specific to Arrays”</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569742">Non-owned array</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569744">The original non-owned entity array</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1569746">Returns </a><span class="cvt_-_computer_voice_table">true</span> if and only if any elements were added or removed to the array. The set of elements is determined by the foreign key in the <span class="pst_-_parameter_in_code_snippets_table">entity</span><span class="cvt_-_computer_voice_table">.Id</span> properties of each array element). Because entity array order is not meaningful (do not rely on it), the order is not checked by <span class="cvt_-_computer_voice_table">isFieldChanged</span>. Effectively, in this case <span class="cvt_-_computer_voice_table">isFieldChanged</span> returns the same value as the array method <span class="cvt_-_computer_voice_table">isArrayElementAddedOrRemoved</span>, discussed in <a href="javascript:WWHClickedPopup('gosu', 'transactions.21.6.html#1569999', '');" title="Determining What Entity Data Changed in a Bundle">“Bundle Change Methods Specific to Arrays”</a>.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="1569749">For a scalar value example, the </a><span class="cv_-_computer_voice">Address</span> entity contains a <span class="cv_-_computer_voice">String</span> value property called <span class="cv_-_computer_voice">City</span>. If the <span class="cv_-_computer_voice">address.City</span> value is different from the original entity, <span class="cv_-_computer_voice">address.isFieldChanged("City")</span> returns <span class="cv_-_computer_voice">true</span> and <span class="cv_-_computer_voice">address.getOriginalValue("City")</span> returns the original value for this property of type <span class="cv_-_computer_voice">String</span>.</div>
      <div class="B_-_Body"><a name="1569750">For an entity example, the ClaimCenter application includes a </a><span class="cv_-_computer_voice">Claim</span> entity with a <span class="cv_-_computer_voice">LossLocation</span> property containing an <span class="cv_-_computer_voice">Address</span> entity. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1570686">If that property points to an entirely different entity than the original entity loaded from the database (if it has </a>the same <span class="cv_-_computer_voice">entity.Id</span> foreign key value), it is considered changed. Thus the expression <span class="cv_-_computer_voice">claim.isFieldChanged("LossLocation")</span> returns <span class="cv_-_computer_voice">true</span> and <span class="cv_-_computer_voice">claim.isFieldChanged("LossLocation")</span> returns the original entity and all its properties the original property values on the entity. For example:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570954">&nbsp;</a>if (claim.isFieldChanged("LossLocation")) { </PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1570705">&nbsp;</a>&nbsp;&nbsp;// get original entity</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570706">&nbsp;</a>&nbsp;&nbsp;var originalAddress = claim.getOriginalValue("LossLocation") as Address </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570707">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570713">&nbsp;</a>&nbsp;&nbsp;// get original property on original entity</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570720">&nbsp;</a>&nbsp;&nbsp;var origAddLine1 = originalAddress.AddressLine1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570959">&nbsp;</a>}</PRE>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1569940">If the </a><span class="cv_-_computer_voice">claim.isFieldChanged("LossLocation")</span> returns <span class="cv_-_computer_voice">false</span>, then the entity foreign key has not changed but that does <span class="s_-_strong">not</span> mean necessarily that data in its subobject were unchanged. If you want to check properties on subobjects, you must test specific properties on the subobject using the <span class="cv_-_computer_voice">isFieldChanged</span> method. For example:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570818">&nbsp;</a>if (not claim.isFieldChanged("LossLocation")) { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570739">&nbsp;</a>&nbsp;&nbsp;&nbsp;if (claim.LossLocation.isFieldChanged("City")) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1571026">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var origAddLine1 = claim.LossLocation.getOriginalValue("AddressLine1")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1571025">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1570740">} </a></PRE>
      <div class="B_-_Body"><a name="1569984">Remember to call the </a><span class="cv_-_computer_voice">isFieldChanged</span> or <span class="cv_-_computer_voice">getOriginalValue</span> method on the correct entity, and note the differences in <span class="cv_-_computer_voice">isFieldChanged</span> for different value types. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1571081">It is extremely important that you call the </a><span class="cv_-_computer_voice">isFieldChanged</span> or <span class="cv_-_computer_voice">getOriginalValue</span> methods on the correct entities and in the correct order in your code. In particular, remember that calling an entity’s <span class="cv_-_computer_voice">isFieldChanged</span> method checks only that property. This method behaves differently for various types of values, and for entity values never detect changes in subobjects.</div>
      <div class="H2_-_Heading_2"><a name="1571314">Detecting If Any Element Changes Occurred</a></div>
      <div class="B_-_Body"><a name="1571315">You can use the read-only entity </a><span class="ps_-_parameter_in_code_snippets">entity</span><span class="cv_-_computer_voice">.Changed</span> to check if the entity changed at all. It returns a Boolean value of <span class="cv_-_computer_voice">true</span> if the entity has one or more properties that changed.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1571317">if (myAddress.Changed) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1571318">&nbsp;</a>&nbsp;// your code here...</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1571319">}</a></PRE>
      <div class="H2_-_Heading_2"><a name="1571181">Getting All Changed Properties From an Entity</a></div>
      <div class="B_-_Body"><a name="1571182">You can get the entity’s </a><span class="cv_-_computer_voice">ChangedFields</span> property to get a set of changed properties on this entity. This value is of type <span class="cv_-_computer_voice">Set</span> in the package <span class="cv_-_computer_voice">java.util</span>. For example:</div>
      <div class="B_-_Body"><a name="1571284">For example, the following example uses the Gosu blocks feature to iterate across the list:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1571285">if (myAddress.Changed) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1571286">&nbsp;</a>&nbsp;myAddress.ChangedFields.each( \ e -&gt; print("address has changed property: " + e))</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1571287">}</a></PRE>
      <div class="B_-_Body"><a name="1571305">For more information about blocks and the </a><span class="cv_-_computer_voice">each</span> method, see <a href="javascript:WWHClickedPopup('gosu', 'blocks.17.2.html#1442471', '');" title="What Are Blocks?">“What Are Blocks?”</a> and <a href="javascript:WWHClickedPopup('gosu', 'collections.19.1.html#1448766', '');" title="Collections">“Collections”</a>.</div>
      <div class="H2_-_Heading_2"><a name="1569999">Bundle Change Methods Specific to Arrays</a></div>
      <div class="B_-_Body"><a name="1570007">In addition to the support for </a><span class="cv_-_computer_voice">isFieldChanged</span> and <span class="cv_-_computer_voice">getOriginalValue</span> for entity array properties, call additional methods to test for changes to array contents in the bundle version of the entity. These methods compare the persisted entity to the cached version from the database. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1601393">The following bundle-related methods work only with entity array properties that are </a>directly defined on an entity in the data model configuration files. They do not work any other types of properties or methods. For example, they do not work with Gosu enhancement properties, enhancement arrays, or other virtual properties (perhaps implemented in internal Java code). Refer to the Data Dictionary for details of whether a property is a native database-backed property or a virtual property.</div>
      <div class="B_-_Body"><a name="1570014">The following table lists the available methods:</a></div>
      <div class="T_-_Table"><a name="1570015">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1570233">Method</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1570235">Argument</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1570237">Returns</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570239">getAddedArrayElements</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570241">arrayFieldName</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570243">Returns a list of array elements that were added, or an empty </a>array if there were none.&nbsp;This works only with entity array properties that are directly defined on an entity in the data model configuration files. This method does not support Gosu enhancement properties, enhancement arrays, or other virtual properties.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570245">getChangedArrayElements</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570247">arrayFieldName</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570249">Returns a list of array elements that were changed, or an empty </a>array if there were none. This works only with entity array properties that are directly defined on an entity in the data model configuration files. This method does not support Gosu enhancement properties, enhancement arrays, or other virtual properties.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570251">getRemovedArrayElements</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570253">arrayFieldName</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570319">Returns a list of array elements that removed (marked for deletion </a>if the bundle commits), or an empty array if there none removed. This works only with entity array properties that are directly defined on an entity in the data model configuration files. This method does not support Gosu enhancement properties, enhancement arrays, or other virtual properties.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570257">isArrayElementChanged</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570259">arrayFieldName</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570325">Returns </a><span class="cvt_-_computer_voice_table">true</span> if and only if an element in an array changes, in other words if one or more properties change on the entity. If no existing element changes but elements add or remove, this returns <span class="cvt_-_computer_voice_table">false</span>. This works only with entity array properties that are directly defined on an entity in the data model configuration files. This method does not support Gosu enhancement properties, enhancement arrays, or other virtual properties.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570263">isArrayElementAddedOrRemoved</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1570265">arrayFieldName</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1570267">Returns true if and only if any array elements were added or </a>removed. This works only with entity array properties that are directly defined on an entity in the data model configuration files. This method does not support Gosu enhancement properties, enhancement arrays, or other virtual properties.</div>
          </td>
        </tr>
      </table>
      <div class="H2_-_Heading_2"><a name="1571142">Getting Add, Changed, or Deleted Entities In a Bundle</a></div>
      <div class="B_-_Body"><a name="1571143">A bundle’s list of entities might include some combination of the following types of entities:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1571144">New entities.</a></span> Gosu adds new entities to the database if this bundle commits. To get a list of these in a bundle, use the code <span class="ps_-_parameter_in_code_snippets">bundle</span><span class="cv_-_computer_voice">.InsertedBeans</span>. It returns an iterator that iterates across these keyable entities.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1571146">Changed entities.</a></span> An entity may have one or more properties modified. To get a list of these in a bundle, use the code <span class="ps_-_parameter_in_code_snippets">bundle</span><span class="cv_-_computer_voice">.UpdatedBeans</span>. It returns an iterator that can iterates across these keyable entities.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1571148">Deleted entities.</a></span> Some entities may be marked for deletion if this bundle commits. If the entity is retireable, the row remains in the database rather than deleted but the entity is marked as <span class="e_-_emphasis">retired</span>. To get a list of these in a bundle, use the code <span class="ps_-_parameter_in_code_snippets">bundle</span><span class="cv_-_computer_voice">.RemovedBeans</span>. It returns an iterator that can iterates across these keyable entities.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1571150">Unmodified entities.</a></span> An entity might be added to a writable bundle but not yet modified. There is no API to get the list of unmodified entities in the bundle.</div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>