<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>General Coding Guidelines</title>
    <link rel="StyleSheet" href="css/style.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="style.28.1.html#1445054">Coding Style</a> : General Coding Guidelines</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="1445054">General Coding Guidelines</a></div>
      <div class="H2_-_Heading_2"><a name="1445233">Omit Semicolons</a></div>
      <div class="B_-_Body"><a name="1445247">Omit semicolons, as they are unnecessary in almost all cases. Gosu code looks cleaner this way.</a></div>
      <div class="B_-_Body"><a name="1445260">Semicolons are only needed if separating multiple Gosu statements all written on one line within a one-line state</a>ment list. Even this is generally not recommended, although it is sometimes appropriate for simple statement lists declared in-line within Gosu block definitions.</div>
      <div class="H2_-_Heading_2"><a name="1445238">Type Declarations</a></div>
      <div class="B_-_Body"><a name="1445239">Omit the type declaration if you declare variables with an assignment. Instead, use “</a><span class="cv_-_computer_voice">as </span><span class="ps_-_parameter_in_code_snippets">TYPE</span>” where appropriate. The type declaration is particularly redundant if a value needs coerce to a type already included at the end of the Gosu statement.</div>
      <div class="B_-_Body"><a name="1445213">In other words, the recommended type declaration style is:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1445209">var delplans = currentPage as DelinquencyPlans</a></div>
      <div class="B_-_Body"><a name="1445210">Do </a><span class="s_-_strong">not</span> add the redundant type declaration:</div>
      <div class="CS_-_Code_Single_Line"><a name="1445166">var delplans : DelinquencyPlans = currentPage as DelinquencyPlans</a></div>
      <div class="H2_-_Heading_2"><a name="1445388">The == and != Operator Recommendations and Warnings</a></div>
      <div class="B_-_Body"><a name="1445503">The Gosu </a><span class="cv_-_computer_voice">==</span> and <span class="cv_-_computer_voice">!=</span> operators are safe to use even if one side evaluates to <span class="cv_-_computer_voice">null</span>. </div>
      <div class="B_-_Body"><a name="1446264">Use these operators where possible instead of using the </a><span class="cv_-_computer_voice">equals</span> method on objects. This protection with <span class="cv_-_computer_voice">null</span> is called <span class="e_-_emphasis">null-safety</span>. </div>
      <div class="B_-_Body"><a name="1445505">Notice that Gosu’s </a><span class="cv_-_computer_voice">==</span> operator is equivalent to the object method <span class="cv_-_computer_voice">equals</span> (<span class="cv_-_computer_voice">obj1.equals(obj2)</span>) other than its difference in null-safety. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1446001">For those who use the Java language also, the null-safety of the Gosu </a><span class="cv_-_computer_voice">==</span> operator is similar to the null-safety of the Java code <span class="cv_-_computer_voice">ObjectUtil.equals(...)</span>. In contrast, for both the Gosu and Java languages, the object method <span class="ps_-_parameter_in_code_snippets">myobject</span><span class="cv_-_computer_voice">.equals(...)</span> is not null-safe.</div>
      <div class="B_-_Body"><a name="1445799">So, any Gosu code that use the </a><span class="cv_-_computer_voice">equals</span> method, such as:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1445800">( planName.equals( row.Name.text ) )</a></PRE>
      <div class="B_-_Body"><a name="1445796">...can be written in easier-to-understand code as:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1445088">( planName == row.Name.text) )</a></PRE>
      <div class="B_-_Body"><a name="1445632">Although the </a><span class="cv_-_computer_voice">==</span> and the <span class="cv_-_computer_voice">!=</span> comparison operators are more powerful and more convenient than <span class="cv_-_computer_voice">equals()</span>, be aware of coercions that may occur. For example, because expressions adhere to Gosu’s implicit coercion rules, the expression <span class="cv_-_computer_voice">1</span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">==</span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">"1"</span> evaluates to <span class="cv_-_computer_voice">true</span>. In other words, the number 1 and the string representing the number 1 is true. This is because of implicit coercion that allows the string <span class="cv_-_computer_voice">"1"</span> to be assigned to an integer variable as the integer 1 without explicit casting. </div>
      <div class="B_-_Body"><a name="1446287">While coercion behavior is convenient and powerful, it can be dangerous if used carelessly. Gosu produces </a>compile warnings for implicit coercions. Take the warnings seriously and in most cases <span class="e_-_emphasis">explicitly</span> cast using the <span class="cv_-_computer_voice">as</span> keyword in cases that you want the coercion. Otherwise, fix the problem by rewriting in some other way entirely.</div>
      <div class="B_-_Body"><a name="1446288">For example, an expression equates a date value with a string representation of a date value:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1446289">(dateVal == strVal)</a></div>
      <div class="B_-_Body"><a name="1445683">It is safest to rewrite this as the following: </a></div>
      <div class="CS_-_Code_Single_Line"><a name="1445690">(dateVal == strVal </a><span class="s_-_strong">as DateTime</span>)</div>
      <div class="B_-_Body"><a name="1446445">Carefully consider any implicit direct coercions that might occur with the </a><span class="cv_-_computer_voice">==</span> operator, and explicitly define coercions where possible.</div>
      <div class="B_-_Body"><a name="1446446">If comparing array equality with the </a><span class="cv_-_computer_voice">==</span> and <span class="cv_-_computer_voice">!=</span> operators, Gosu does not let you compare <span class="e_-_emphasis">incompatible</span> array types. For example, the following code generates a compile time error because arrays of numbers and strings are incompatible:</div>
      <div class="CS_-_Code_Single_Line"><a name="1445751">new Number[] {1,2} == new String[] {"1","2"}</a></div>
      <div class="B_-_Body"><a name="1445752">However, if the array types are comparable, Gosu recursively applies implicit coercion rules on the </a>array’s&nbsp;<span class="s_-_strong">elements</span>. For example, the following code evaluates to <span class="cv_-_computer_voice">true</span> because a <span class="cv_-_computer_voice">Number</span> is a subclass of <span class="cv_-_computer_voice">Object</span>, so the Gosu compares the individual elements of the table:</div>
      <div class="CS_-_Code_Single_Line"><a name="1445721">new Number[] {1,2} == new Object[] {"1","2"}</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="1443837">Be careful if comparing arrays. Note the recursive comparison of individual elements for </a>compatible array types.</div>
      <div class="B_-_Body"><a name="1454298">For more information about the difference between == and === operators in Gosu, see </a><a href="javascript:WWHClickedPopup('gosu', 'expressions.05.06.html#1571531', '');" title="Equality Expressions">“=== Operator Compares Object Equality”</a></div>
      <div class="H2_-_Heading_2"><a name="1446066">Gosu Case Sensitivity Implications</a></div>
      <div class="B_-_Body"><a name="1446067">Gosu compiles and run faster if you write all your Gosu as case-sensitive code. Guidewire strongly recommends </a>that you always use the proper capitalization precisely as defined for all of the following</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446339">proper type names</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446348">variable names</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446349">keywords (such as </a><span class="cv_-_computer_voice">var</span> and <span class="cv_-_computer_voice">if</span>)</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446351">method names</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446353">property names</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446355">package names</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1446357">all other language elements. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1446359">In addition to speed benefits, using proper capitalization makes your code easier to read. </a></div>
      <div class="B_-_Body"><a name="1446097">For more examples and additional information on this topic, see </a><a href="javascript:WWHClickedPopup('gosu', 'intro.03.13.html#1410297', '');" title="Gosu Case Sensitivity">“Gosu Case Sensitivity”</a>.</div>
      <div class="H2_-_Heading_2"><a name="1446206">Class Variable and Class Property Recommendations</a></div>
      <div class="B_-_Body"><a name="1446207">Always prefix </a><span class="cv_-_computer_voice">private</span> and <span class="cv_-_computer_voice">protected</span> class variables with an underscore character (<span class="cv_-_computer_voice">_</span>).</div>
      <div class="B_-_Body"><a name="1446208">Avoid </a><span class="e_-_emphasis">public variables</span>. Convert public variables to properties, so that the interface to other code (the property names) is separated from the implementation (the storage and retrieval).</div>
      <div class="B_-_Body"><a name="1446222">Although public variables are a supported part of the language for compatibility with other languages, Guidewire </a>strongly recommends public properties backed by private variables instead of using public variables. You can do this easily in Gosu on the same line as the variable definition using the <span class="s_-_strong">as</span> keyword.</div>
      <div class="B_-_Body"><a name="1446223">In other words, in your new Gosu classes that define class variables, do this:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1446224">private var _firstName : String as FirstName</a></div>
      <div class="B_-_Body"><a name="1446225">Do not do this:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1446226">public var FirstName : String </a></div>
      <div class="B_-_Body"><a name="1446230">For more information about defining properties, see </a><a href="javascript:WWHClickedPopup('gosu', 'classes.11.4.html#2447772', '');" title="Properties">“Properties”</a>.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1446231">For Gosu classes data fields, Guidewire strongly recommends public properties backed </a>by private variables rather than public variables. Do not use public variables in new Gosu classes. See <a href="javascript:WWHClickedPopup('gosu', 'classes.11.4.html#2447772', '');" title="Properties">“Properties”</a> for more information.</div>
      <div class="H2_-_Heading_2"><a name="1454113">Use ‘typeis’ Inference</a></div>
      <div class="B_-_Body"><a name="1454237">To improve the readability of your Gosu code, Gosu automatically downcasts after a </a><span class="cv_-_computer_voice">typeis</span> expression if the type is a subtype of the original type. This is particularly valuable for <span class="cv_-_computer_voice">if</span> statements and similar Gosu structures. Within the Gosu code bounded by the <span class="cv_-_computer_voice">if</span> statement, you do not need to do casting (“<span class="cv_-_computer_voice">as</span>&nbsp;<span class="ps_-_parameter_in_code_snippets">TYPE</span>” expressions) to that subtype. Because Gosu confirms that the object has the more specific subtype, Gosu implicitly considers that variable’s type to be the <span class="s_-_strong">subtype</span>, at least within that block of code. </div>
      <div class="B_-_Body"><a name="1454198">The structure of this type looks like the following:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1454199">var VARIABLE_NAME : TYPE_NAME</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454200">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454201">if (VARIABLE_NAME</a>&nbsp;typeis&nbsp;SUBTYPE_NAME) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454202">&nbsp;</a>&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454203">&nbsp;</a>&nbsp;// use the VARIABLE_NAME as SUBTYPE_NAME without casting</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454204">&nbsp;</a>&nbsp;// This assumes SUBTYPE_NAME is a subtype of TYPE_NAME</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1454205">}</a></PRE>
      <div class="B_-_Body"><a name="1454206">For example, the following example shows a variable declared as an </a><span class="cv_-_computer_voice">Object</span>, but downcasted to <span class="cv_-_computer_voice">String</span> within the <span class="cv_-_computer_voice">if</span> statement in a block of code within an <span class="cv_-_computer_voice">if</span> statement.</div>
      <div class="B_-_Body"><a name="1454207">Because of downcasting, the following code is valid:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454208">var x : Object = "nice"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454209">var strlen = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454210">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454211">if( x typeis String ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454212">&nbsp;</a>&nbsp;strlen = x.length </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454213">}</a></PRE>
      <div class="B_-_Body"><a name="1454214">This works because the </a><span class="cv_-_computer_voice">typeis</span> inference is effective immediately and propagates to adjacent expressions.</div>
      <div class="B_-_Body"><a name="1454215">It is important to note that </a><span class="cv_-_computer_voice">length</span> is a property on <span class="cv_-_computer_voice">String</span>, not <span class="cv_-_computer_voice">Object</span>. The downcasting from <span class="cv_-_computer_voice">Object</span> to <span class="cv_-_computer_voice">String</span> means that you do not need an additional casting around the variable <span class="cv_-_computer_voice">x</span>. In other words, the following code is equivalent but has an <span class="s_-_strong">unnecessary</span> cast:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454216">var x : Object = "nice"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454217">var strlen = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454218">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454219">if( x typeis String ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454220">&nbsp;</a>&nbsp;strlen = <span class="s_-_strong">(x as String)</span>.length // "length" is a property on String, not Object</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1454221">}</a></PRE>
      <div class="B_-_Body"><a name="1454222">Use automatic downcasting to write easy-to-read and concise Gosu code. Do not write Gosu code with unneces</a>sary casts. For more information, see <a href="javascript:WWHClickedPopup('gosu', 'typesystem.23.2.html#1455253', '');" title="Basic Type Checking">“Automatic Downcasting for ‘typeis’ and ‘typeof’”</a>.</div>
      <div class="B_-_Body"><a name="1445912">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>