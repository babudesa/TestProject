<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Special Handling of Collections, Arrays, Maps</title>
    <link rel="StyleSheet" href="css/java-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="java-gosu.08.01.html#2073597">Java and Gosu</a> : Special Handling of Collections, Arrays, Maps</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="2073597">Special Handling of Collections, Arrays, Maps</a></div>
      <div class="B_-_Body"><a name="2073602">Gosu specially handles containers (arrays, collections, and maps) when calling out to Java, by default. First, </a>Gosu makes a new copy of the container. Next, Gosu converts each element in the original container and adds it to the new container. Effectively, the new container is a clone of the original container, and whose elements are converted versions of the elements in the original.</div>
      <div class="B_-_Body"><a name="2073603">For arrays, the libraries create arrays with the appropriate class, including any appropriate conversions if the </a>array is an array of Guidewire entity instances. For instance, an array of <span class="cv_-_computer_voice">Address</span> objects convert from the internal (Gosu) <span class="cv_-_computer_voice">Address</span> class to the external (Java) <span class="cv_-_computer_voice">Address</span> class. For more information about working with entities from Java, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.06.html#2073753', '');" title="Java Entity Libraries Overview">“Java Entity Libraries Overview”</a>.</div>
      <div class="H2_-_Heading_2"><a name="2073608">Disable Container Conversion In Some Cases</a></div>
      <div class="B_-_Body"><a name="2073612">If you are writing Java classes that implement ClaimCenter</a><span class="s_-_strong"> </span>plugin interfaces (also called <span class="e_-_emphasis">Java</span><span class="e_-_emphasis">&nbsp;</span><span class="e_-_emphasis">plugins</span>), you always must be aware of this behavior. This affects any collections that are argument types or return types for object methods for a Java class.</div>
      <div class="B_-_Body"><a name="2073613">If you are writing other types of Java code, you can put your Java classes and libraries in a special place to disble </a>this behavior. However, this only works if <span class="s_-_strong">all of the following are true</span>:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073617">none of your class’s methods have argument types or return types that are ClaimCenter entity instances</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073618">none of your class’s methods have argument types or return types that are containers of ClaimCenter entity </a>instances. For example, no arrays of <span class="cv_-_computer_voice">Address</span>, or <span class="cv_-_computer_voice">ArrayList&lt;Person&gt;</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073622">any Java classes are not registered as a Java plugin in Studio. In other words, your Java class does not imple</a>ment a ClaimCenter plugin interface.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="HS_-_Head_Sub"><a name="2073626">To disable container conversion for your Java classes or libraries</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2073627">Create the following two directories:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2073631">ClaimCenter/modules/configuration/plugins/shared/basic/classes</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2073635">ClaimCenter/modules/configuration/plugins/shared/basic/lib</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2073636">Put any of your </a><span class="cv_-_computer_voice">classes</span> (<span class="cv_-_computer_voice">.class</span> files) in the <span class="cv_-_computer_voice">classes</span> directory (using standard Java hierarchies for the package name).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2073637">Put any of your libraries (</a><span class="cv_-_computer_voice">.jar</span> files) in the <span class="cv_-_computer_voice">lib</span> directory.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2073638">Generally speaking, put any general purpose third-party JAR files in this special libraries directory so that no that </a>conversion happens for those classes.</div>
      <div class="H2_-_Heading_2"><a name="2073639">Details of Container Conversion</a></div>
      <div class="B_-_Body"><a name="2073640">External Java code </a><span class="s_-_strong">cannot modify the Gosu version of the container directly</span> (also called <span class="e_-_emphasis">in-place modifica</span><span class="e_-_emphasis">tion</span>). Because the Java code is operating with the cloned copy of the list, direct modifications in Java are not visible to the Gosu caller.</div>
      <div class="B_-_Body"><a name="2073641">If any of the elements of the container is another container, that container is also converted. This continues recur</a>sively until all containers are converted.</div>
      <div class="B_-_Body"><a name="2073645">When converting entity instances, ClaimCenter converts it to the appropriate internal (Gosu) or external (Java) </a>interface. For more information about working with entities from Java, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.06.html#2073753', '');" title="Java Entity Libraries Overview">“Java Entity Libraries Overview”</a>.</div>
      <div class="B_-_Body"><a name="2073649">Follow the following guidelines for passing containers from Gosu to Java:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073650">Never pass a container between Gosu and Java and expect the other side to modify the container such that the </a>container changes are visible after the function call. That never works because the containers reference different objects on the two sides of the function call.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2073651">Do not pass a container between Gosu and Java and expect the other side to modify the </a>container such that the container changes are visible after the function call.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073652">Avoid passing large generic container objects (such as a large </a><span class="cv_-_computer_voice">List</span>) between Gosu and Java. Conversion of large containers is very resource-intensive.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073653">Remember that this conversion only happens for method calls, not for accessing object instance variables.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2073654">Be careful with your assumptions about object reference equality. After you pass a container from Gosu to </a>Java, or from Java to Gosu, they are different objects. If you pass a container from Gosu to Java, and it returns a container again, the return result is a different object from your original container. Remember that if you use the Gosu equality operators (both <span class="cv_-_computer_voice">==</span> and <span class="cv_-_computer_voice">===</span>), they return <span class="cv_-_computer_voice">false</span> when comparing different container references. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2073655">Be careful with your assumptions about object reference equality after passing </a>containers between Gosu and Java.</div>
      <div class="B_-_Body"><a name="2073656">The following table summaries the implications of conversion for different types of objects.</a></div>
      <div class="T_-_Table"><a name="2073691">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2073659">Container type</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2073664">How ClaimCenter Converts these container</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2073666">arrays</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2073668">If arrays move across the entity library interface, the libraries create a new array with a type that </a>matches the type of the existing array. For example, an array of internal <span class="cv_-_computer_voice">User</span> objects converts to an array of external <span class="cv_-_computer_voice">User</span> objects. If the internal array is untyped, the converted array uses the argument type or return type that the caller expects.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2073672">java.util.Collection </a></span>(this includes <span class="cvt_-_computer_voice_table">java.util.ArrayList</span> </div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2073675">If a </a><span class="cvt_-_computer_voice_table">Collection</span> passes across the entity library interface, the entity library interface creates a new instance of the same class used for the collection. This might not be possible in some cases. For example, it might fail if a <span class="cvt_-_computer_voice_table">List</span> created using <span class="cvt_-_computer_voice_table">Collection.singletonList()</span> has an implementing class with no public <span class="e_-_emphasis">no-argument constructor</span>. In this case, ClaimCenter substitutes the class <span class="cvt_-_computer_voice_table">ArrayList</span> for <span class="cvt_-_computer_voice_table">List</span> objects and <span class="cvt_-_computer_voice_table">HashSet</span> for <span class="cvt_-_computer_voice_table">Set</span> objects.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="2073686">java.util.HashMap</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2073689">The same issue mentioned for </a><span class="cv_-_computer_voice">java.util.Collection</span> also applies to <span class="cv_-_computer_voice">Map</span> objects. The entity library interface attempts to create a new instance of the current class, and if that is not possible, the libraries use a <span class="cv_-_computer_voice">HashMap</span>. </div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2073692">Objects other than those mentioned in this table have no conversion. This is why the strategy referred to earlier </a>with wrapping a collection in a custom class works properly. This means, however, that you must use only method calls to add or remove elements rather than directly access public member variables on those objects. Conversion only happens on method calls. Conversion does not happen for member variable access.</div>
      <div class="B_-_Body"><a name="2073694">The libraries maintain relations between </a><span class="e_-_emphasis">references</span> within the converted arguments even as those objects themselves are converted. For example, suppose you write a Java class accessible to Gosu. That class declares a method <span class="cv_-_computer_voice">doSomething(Activity </span><span class="ps_-_parameter_in_code_snippets">a1</span><span class="cv_-_computer_voice">, Activity </span><span class="ps_-_parameter_in_code_snippets">a2</span><span class="cv_-_computer_voice">)</span> invoked from Gosu as <span class="cv_-_computer_voice">doSomething(a, a)</span> such that the same entity might be passed for both arguments. If the both parameters are the same entity, from the external side of the entity libraries in Java, the statement <span class="cv_-_computer_voice">a1 == a2</span> evaluates to <span class="cv_-_computer_voice">true</span>. This evaluates to <span class="cv_-_computer_voice">true</span> because the graph of references within the method call remains even after argument conversion.</div>
      <div class="B_-_Body"><a name="2073697">This also applies to objects contained within a </a><span class="cv_-_computer_voice">Map</span>, <span class="cv_-_computer_voice">Collection</span>, or arrays, including the case where those containers contain themselves. For example, suppose a map contains the same object within the mappings <span class="cv_-_computer_voice">Field1</span> and <span class="cv_-_computer_voice">Field2</span>. In other words, suppose <span class="cv_-_computer_voice">mymap.Field1</span> references the same object as <span class="cv_-_computer_voice">mymap.Field2</span>. If a map passes across the entity library interface, the entity libraries covert the objects passed in the <span class="cv_-_computer_voice">Map</span>. Because they were part of the same collection, the value of the <span class="cv_-_computer_voice">Field1</span> mapping is the <span class="s_-_strong">same</span> object as the value of the <span class="cv_-_computer_voice">Field2</span> mapping. This is true even though the object itself in that property converts and is different from the value that <span class="cv_-_computer_voice">mymap</span> had for that property before the conversion.</div>
      <div class="H3_-_Heading_3"><a name="2073698">Example: Working with Collections Safely</a></div>
      <div class="B_-_Body"><a name="2073699">To pass collections as method parameters or return values without duplicating the container at all, wrap the </a>container in a custom Java class (or Gosu class). To manipulate the data, ensure this outer class has methods that can manipulate the collection inside it. For example, add methods that <span class="s_-_strong">add or remove items</span> from the collection. If the outer class has a method that returns a container, Gosu converts the return value and returns the clone of the collection.</div>
      <div class="B_-_Body"><a name="2073701">For example, suppose you want to call a Java method from Gosu with a Java </a><span class="cv_-_computer_voice">Map</span>. Suppose you want the <span class="cv_-_computer_voice">Map</span> to load in your Gosu code and then call out to Java to modify the <span class="cv_-_computer_voice">Map</span>. Create a <span class="e_-_emphasis">wrapper class</span> with an inner collection in a private variable. Add a method that adds an item to the collection. This way, the parameters convert but not the entire collection. Because Java maps are native Java objects, the Java code can modify them directly. The entity libraries do not convert the entire collection for every method call.</div>
      <div class="B_-_Body"><a name="2073703">For example, suppose you want to define a class representing an English sentence. A sentence consists of a list of </a>words. One way to model this would be the following example:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073704"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073705">public class Sentence {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073706">&nbsp;</a>&nbsp;private ArrayList&lt;String&gt; words;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073707"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073708">&nbsp;</a>&nbsp;public Sentence() {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073709">  </a>&nbsp;&nbsp;words = new ArrayList&lt;String&gt;();</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073710">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073711"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073712">&nbsp;</a>&nbsp;public List&lt;String&gt; getWords() {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073713">  </a>&nbsp;&nbsp;return words;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073714">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073715">}</a></PRE>
      <div class="B_-_Body"><a name="2073716">The problem with this class is that there is no way to add words to the sentence from Gosu. </a></div>
      <div class="B_-_Body"><a name="2073717">It might seem like you could try the following Gosu code:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073718">// bad example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073719">var sentence = new Sentence()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073720">sentence.Words.add("Once")</a></PRE>
      <div class="B_-_Body"><a name="2073721">The Java method </a><span class="cv_-_computer_voice">getWords</span> becomes a property access in Gosu (the <span class="cv_-_computer_voice">Words</span> property) because it starts with <span class="cv_-_computer_voice">"get"</span>. Even though Gosu considers this a property accessor, it is really a method call, so ClaimCenter creates a <span class="s_-_strong">copy</span> of the <span class="cv_-_computer_voice">Words</span> list before returning it to the Gosu caller. The last line of that example adds the list element <span class="cv_-_computer_voice">"Once"</span> to the copy of the list. However, this is not the actual list maintained inside the <span class="cv_-_computer_voice">Sentence</span> object.</div>
      <div class="B_-_Body"><a name="2073725">The recommended approach is to add the mutator methods (for example, add or remove) to the </a><span class="cv_-_computer_voice">Sentence</span> class:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2073726">public class Sentence {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073727">&nbsp;</a>&nbsp;private ArrayList&lt;String&gt; words;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073728"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073729">&nbsp;</a>&nbsp;public Sentence() {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073730">  </a>&nbsp;&nbsp;words = new ArrayList&lt;String&gt;();</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073731">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073732"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073733">&nbsp;</a>&nbsp;public void addWord(String word) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073734">  </a>&nbsp;&nbsp;words.add(word);</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073735">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073736"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073737">&nbsp;</a>&nbsp;public void insertWord(int position, String word) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073738">&nbsp;</a>&nbsp;&nbsp;&nbsp;words.add(position, word);</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073739">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073740"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073741">&nbsp;</a>&nbsp;public List&lt;String&gt; getWords() {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073742">&nbsp;</a>&nbsp;return words;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073743">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2073744">}</a></PRE>
      <div class="B_-_Body"><a name="2073745">To write Gosu code that adds words, use something like the following:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073746">var sentence = new Sentence()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2073747">sentence.addWord("Once")</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>