<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Java Entity Utility APIs</title>
    <link rel="StyleSheet" href="css/java-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="java-gosu.08.01.html#2074121">Java and Gosu</a> : Java Entity Utility APIs</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="2074121">Java Entity Utility APIs</a></div>
      <div class="H2_-_Heading_2"><a name="2074123">Creating and Accessing Entities From Java</a></div>
      <div class="B_-_Body"><a name="2074125">To create an entity, first get the current </a><span class="e_-_emphasis">entity factory</span> instance, which is the object capable of creating new entities from Java code. Create this instance by calling the <span class="cv_-_computer_voice">com.guidewire.external.entity.EntityFactory</span> class’s static method <span class="cv_-_computer_voice">getInstance</span>, which returns an <span class="cv_-_computer_voice">EntityFactory</span> instance. The entity factory instance contains important methods such as <span class="cv_-_computer_voice">newEntity(</span><span class="ps_-_parameter_in_code_snippets">Class</span><span class="cv_-_computer_voice">)</span>.</div>
      <div class="B_-_Body"><a name="2074130">First get a reference to an entity factory instance, as described earlier in this section. Next, call the entity factory’s </a>method <span class="cv_-_computer_voice">newEntity(</span><span class="ps_-_parameter_in_code_snippets">Class</span><span class="cv_-_computer_voice">)</span> method. </div>
      <div class="B_-_Body"><a name="2074131">For example, to get new entities from Java:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2074134">import com.guidewire.external.entity.EntityFactory;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2074135">...</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="2074137">a = EntityFactory.getInstance().newEntity(Address.class)</a></PRE>
      <div class="B_-_Body"><a name="2074138">Any references to entities modified or returned from a plugin method commit to the database after the method </a>returns, unless otherwise specified in the API Reference Javadoc documentation. In all cases, after the method returns you cannot rely on the values of that object after the method return. Also, you cannot assume that changes to the object after that point remain. </div>
      <div class="B_-_Body"><a name="2074139">If you need to make changes later to the object, read and save the </a><span class="e_-_emphasis">public ID</span> of the object. If necessary, your plugin (or an external system that interfaces with your plugin) can use the ClaimCenter web services API to read or modify the object as necessary.</div>
      <div class="B_-_Body"><a name="2074143">There are important differences in the way you create SOAP entities versus full Java entities. To create a SOAP </a>data-only entity from Java, use the <span class="cv_-_computer_voice">new</span> keyword:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2074147">import com.guidewire.cc.webservices.entity.Address;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2074148">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2074149">a = new Address();</a></PRE>
      <div class="B_-_Body"><a name="2074150">In contrast, create a full entity using the entity libraries in Java with the </a><span class="cv_-_computer_voice">EntityFactory</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2074153">import com.guidewire.external.entity.EntityFactory;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2074154">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2074155">a = EntityFactory.getInstance().newEntity(Address.class)</a></PRE>
      <div class="B_-_Body"><a name="2074156">If you must make changes later to the entity, read and save its key properties, such as the </a><span class="e_-_emphasis">public ID</span> of the object. If desired, use other APIs to find or modify the object from other code. For example, the <span class="cv_-_computer_voice">getEntityByRef</span> method discussed in <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.10.html#2074187', '');" title="Java Entity Utility APIs">“Finding Entities by Public ID Within Java Code”</a>.</div>
      <div class="HS_-_Head_Sub"><a name="2074161">No Spawned Threads Except for MessageReply Callbacks</a></div>
      <div class="B_-_Body"><a name="2074165">You can use </a><span class="cv_-_computer_voice">EntityFactory</span> class in the Java thread environments ClaimCenter sets up for you in the following contexts:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2074168">Java plugins in the plugin’s initial thread context.</a></span> For more information. see <a href="javascript:WWHClickedPopup('integration', 'plugins.09.01.html#2013370', '');" title="Plugin Overview">“Plugin Overview”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2074170">Java code called by Gosu in its initial thread context.</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2074173">Java MessageReply plugin callback handler.</a></span> For more information, see <a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.12.html#3110489', '');" title="Implementing Messaging Plugins">“Implementing a Message Reply Plugin”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2074175">With the exception of the message reply callback handler, spawned threads do </a><span class="s_-_strong">not</span> work with the <span class="cv_-_computer_voice">EntityFactory</span> class.</div>
      <div class="HS_-_Head_Sub"><a name="2074176">Mock Entity Customization for All Entities Created By the Entity Factory</a></div>
      <div class="B_-_Body"><a name="2074179">For advanced testing of code like this, you can configure the entity factory to return </a><span class="e_-_emphasis">mock entities. </span>Mock entities, are special fake versions of entities to help you test code that uses entities. For more information, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.16.html#2074373', '');" title="Testing Your Entity Code in Java (EntityMock)">“Testing Your Entity Code in Java (EntityMock)”</a> and <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.16.html#2074507', '');" title="Testing Your Entity Code in Java (EntityMock)">“Modifying EntityFactory for Mock Entities”</a>.</div>
      <div class="H2_-_Heading_2"><a name="2074187">Finding Entities by Public ID Within Java Code</a></div>
      <div class="B_-_Body"><a name="2074188">Using the Java entity libraries, if you populate a complex graph of data with references to entities, you can search </a>for an entity by its public ID. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="2074196">myClaim = EntityFactory.getInstance().getEntityByRef(Claim.class, "cc:1234")</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>