<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Preupdate</title>
    <link rel="StyleSheet" href="css/cc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16507281">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="cc_rulesets.09.01.html#16507281">Rule Set Categories</a> : Preupdate</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="16507281">Preupdate</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16507286">See </a><a href="javascript:WWHClickedPopup('rules', 'validation_cc.13.1.html#4652290', '');" title="Validation in ClaimCenter">“Validation in ClaimCenter”</a> for a discussion of how the <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.18.html#16507649', '');" title="Validation">Validation</a> and Preupdate rules work together in performing object validation.</div>
      <div class="B_-_Body"><a name="16507290">Use the Preupdate rule sets to perform domain logic or validation that must be committed before the entity in </a>question is committed. Only a change to an entity marked as validatable in its definition file can trigger a preupdate rule. </div>
      <div class="B_-_Body"><a name="16827080">Typically, these rules execute after the </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.10.html#16507019', '');" title="Initial Reserve">Initial Reserve</a> rules, but before the <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.18.html#16507649', '');" title="Validation">Validation</a> rule set. In a similar fashion to the <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.12.html#16507074', '');" title="Postsetup">Postsetup</a> rules, the Preupdate rules can perform a wide variety of actions as needed. One application of the preupdate rules is to specify an activity based on a condition. For example, if a vehicle covered in a claim has been declared a total loss, a rule can create an activity to inspect the car for its salvage potential. </div>
      <div class="H2_-_Heading_2"><a name="16829231">Triggering Preupdate Rules</a></div>
      <div class="B_-_Body"><a name="16827175">The following entities all trigger preupdate rules in the ClaimCenter base configuration:</a></div>
      <div class="T_-_Table"><a name="16827233">&nbsp;</a></div>
      <table class="BulletListDoubleCol" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827273">Activity</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner"><a name="16829272">Group</a></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827275">TransactionSet</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827277">Claim</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16829282">Matter</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827279">User</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827245">Contact</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16829284">Policy</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><a name="16827247">&nbsp;</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16827249">Exposure</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt; margin-bottom: 0.0pt; margin-top: 0.0pt; vertical-align: baseline">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline;">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap;color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cvt_-_computer_voice_table"><a name="16829286">Region</a></span></div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 5pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><a name="16827251">&nbsp;</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="16829457">For an entity to trigger the preupdate rules, it must implement the </a><span class="cvt_-_computer_voice_table">Validatable</span> delegate. This is true for an entity in the base ClaimCenter configuration or for a custom entity that you create. </div>
      <div class="B_-_Body"><a name="16828905">All entities that implement the </a><span class="cv_-_computer_voice">Validatable</span> delegate trigger the validation rules as well. If configuration parameter <span class="cv_-_computer_voice">UseOldStylePreupdate="true"</span>, then the set of entities that trigger preupdate rules is the same as the set of entities that trigger the validation rules. </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16828890">ClaimCenter runs the preupdate and validation rules:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16828891">whenever an instance of a validatable entity is created, modified, or retired.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16828892">whenever a </a><span class="e_-_emphasis">subentity</span> of a validatable entity is created, modified, or retired <span class="e_-_emphasis">and</span> the validatable entity is connected to the subentity through a <span class="cv_-_computer_voice">triggersValidation="true"</span> link.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16829211">In running the Preupdate rule set, the Rule engine first computes the set of objects on </a>which to run the preupdate rules. It then runs the rules on this set of objects. If a preupdate rule then modifies an entity, the preupdate rules for that entity do not fire—unless the schedule for preupdate rules already includes this entity. In other words, changing an object in a preupdate rule does not then cause the preupdate rules to run on that object as well. <br /><br />This is also the case for entities newly created within a preupdate rule. For example, if you create a new activity within a preupdate rule, the Rule engine does not then run the Activity preupdate rules on that activity.</div>
      <div class="HS_-_Head_Sub"><a name="16828942">See Also</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16828962">For information on how to create an entity that implements the </a><span class="cv_-_computer_voice">Validatable</span> delegate, see <a href="javascript:WWHClickedPopup('config', 'entities.22.07.html#2635205', '');" title="Delegate Data Objects">“Delegate Data Objects” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'entities.22.07.html#2635205', '');" title="Delegate Data Objects">Configuration Guide</a></span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16828983">For information on configuration parameter </a><span class="cv_-_computer_voice">UseOldStylePreupdate</span>, see the <a href="javascript:WWHClickedPopup('config', 'params.05.16.html#5358475', '');" title="Environment Parameters">“Environment Parameters” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'params.05.16.html#5358475', '');" title="Environment Parameters">Configuration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16830500">For information on custom entities and validation rules, see </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.18.html#16690462', '');" title="Validation">“Triggering Validation Rules”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="16826972">Preupdate Rules and Custom Entities</a></div>
      <div class="B_-_Body"><a name="16828565">It is possible to create preupdate rules for custom entities, meaning those entities that you create yourself and </a>which are not part of the base Guidewire ClaimCenter configuration.</div>
      <div class="HS_-_Head_Sub"><a name="16828555">To create an extension entity that triggers preupdate rules</a></div>
      <div class="B_-_Body"><a name="16826973">For an entity to trigger a preupdate rule:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="16826974">The entity must implement the </a><span class="cv_-_computer_voice">Validatable</span> delegate. In short, any extension entity that you create that you want to trigger a preupdate rule must implement the following code:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="16826975">&lt;implementsEntity name="Validatable"/&gt;</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="16829396">The preupdate and validation rule sets that you want the custom entity to trigger must conform to the </a>following naming convention:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="16829397">Place your preupdate rules in the </a><span class="e_-_emphasis">Preupdate</span> rule set category and name the rule set <span class="cv_-_computer_voice">&lt;entity </span><span class="cv_-_computer_voice">name&gt;Preupdate</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="16829398">Place your validation rules in the </a><span class="e_-_emphasis">Validation</span> rule set category and name the rule set <span class="cv_-_computer_voice">&lt;entity </span><span class="cv_-_computer_voice">name&gt;ValidationRules</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="16829386">The preupdate rule must exist in a preupdate rule set that reflects the extension entities name and ends with </a><span class="cv_-_computer_voice">Preupdate</span>. In other words, you must create a rule set category with the same name as the extension entity and add the word <span class="cv_-_computer_voice">Preupdate</span> to it as a suffix. You then place your rules in this rule set. </div>
      <div class="LP_-_List_Para"><a name="16826981">For example, if you create an extension entity named </a><span class="cv_-_computer_voice">NewEntityExt</span>, then you need to create a rule set to hold your preupdate rules and name it:</div>
      <div class="CS_-_Code_Single_Line"><a name="16826982">NewEntityExtPreupdate</a></div>
      <div class="LP_-_List_Para"><a name="16829351">For information creating new rules sets, see </a><a href="javascript:WWHClickedPopup('rules', 'studio_rules.06.2.html#2782048', '');" title="Working with Rules">“Working with Rules” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'studio_rules.06.2.html#2782048', '');" title="Working with Rules">Configuration Guide</a></span>. See especially the section entitled “To create a new rule set”.</div>
      <div class="H2_-_Heading_2"><a name="16507300">ABContact Preupdate</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16507301">You access this rule set through Guidewire ContactCenter Studio.</a></div>
      <div class="B_-_Body"><a name="16507302">Use the ABContact Preupdate rules to modify </a><span class="cv_-_computer_voice">ABContact</span> and related entities. This rule set is empty in the base configuration. </div>
      <div class="H2_-_Heading_2"><a name="16507303">Activity Preupdate</a></div>
      <div class="B_-_Body"><a name="16507304">Use the Activity Preupdate rules to modify activities and related entities. By default, anytime that you reassign a </a>claim, ClaimCenter reassigns the activities associated with the claim to the new claim owner. However, it is possible that this is not always the desired behavior. In the following example, the rule prevents administrative activities attached to a claim from being reassigned if the claim is reassigned. (Administrative activities are those performed by an underwriting technician.)</div>
      <div class="HS_-_Head_Sub"><a name="16507305">Conditions</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507306">Activity.Status=="open" and gw.api.util.StringUtil.startsWith( Activity.ActivityPattern.Code, "TECH")</a></div>
      <div class="HS_-_Head_Sub"><a name="16507307">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507308">if( activity.getOriginalValue("AssignedUserId") != null &amp;&amp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507309">   (activity.Claim.isFieldChanged("AssignedUser") ) ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507310">&nbsp;</a>&nbsp;var userKey : Key = activity.getOriginalValue( "AssignedUserId" ) as Key </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507311">&nbsp;</a>&nbsp;var originalUser : User = User( userKey.value, "" ) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507312">&nbsp;</a>&nbsp;activity.AssignedUser = originalUser</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507313">}</a></PRE>
      <div class="B_-_Body"><a name="16507314">Notice the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507315">If the </a><span class="cv_-_computer_voice">activity.getOriginalValue("AssignedUserId") != null</span> condition evaluates to <span class="cv_-_computer_voice">true</span>, then this is an already assigned activity (meaning, it is not a new activity), so continue.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507316">If the </a><span class="cv_-_computer_voice">activity.Claim.isFieldChanged("AssignedUser")</span> condition evaluates to <span class="cv_-_computer_voice">true</span>, then the claim owner has changed, so continue</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507317">If both conditions evaluate to </a><span class="cv_-_computer_voice">true</span>, then assign this (administrative) activity back to the original owner.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="16507319">Claim Preupdate</a></div>
      <div class="B_-_Body"><a name="16507320">Use the Claim Preupdate rules to modify claims and related entities. The Claim Preupdate rules contain a number </a>of rules useful in working with claims fraud. In the following example, the rule creates a review activity if the claim’s loss date changes.</div>
      <div class="HS_-_Head_Sub"><a name="16507321">Conditions: </a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507322">claim.State=="open"</a></div>
      <div class="HS_-_Head_Sub"><a name="16507323">Actions: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507324">var dbClaim : Claim = Claim.CreateTime == null ? null : Claim( (claim as Key), "dbClaim" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507325">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507326">if(dbClaim.LossDate != null and dbClaim.LossDate &lt;&gt; Claim.LossDate ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507327">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507328">&nbsp;</a>&nbsp;// Create activity that will be assigned to team leader.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507329">&nbsp;</a>&nbsp;claim.createActivity( null, ActivityPattern.finder.getActivityPatternByCode("loss_date_change"), </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507330">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"The loss date was changed on this claim", "Please see claim note documenting </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507331">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that the loss date was changed", null, null, null, null )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507332">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507333">&nbsp;</a>&nbsp;// Create variables needed for claim note.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507334">&nbsp;</a>&nbsp;var changedby : String = Claim.UpdateUser.Contact.DisplayName </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507335">&nbsp;</a>&nbsp;changedby = null ? "Problem - call support" : changedby + ".  "</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507336">&nbsp;</a>&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507337">&nbsp;</a>&nbsp;Claim.addNote( null, "general", "The loss date was changed on this claim by " + changedby </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507338">&nbsp;</a>&nbsp;&nbsp;&nbsp;+ "It was changed from " + dbClaim.LossDate + " to " + Claim.LossDate )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507339">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507340">}</a></PRE>
      <div class="H3_-_Heading_3"><a name="16795201">Catastrophe-Related Rules</a></div>
      <div class="B_-_Body"><a name="16795215">In the base configuration, Guidewire provides several rules related to catastrophe categorization in the Claim </a>Preupdate rule set. These include:</div>
      <div class="T_-_Table"><a name="16795295">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16795331">Rule</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16795333">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="16795335">CPU09000 - Related to Catastrophe</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16795337">Checks whether a claim matches a named catastrophe that is already in the </a>system. If there is a match, the rule creates an activity for the claim owner to look into it. </div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="16795339">CPU1300 - Catastrophe History</a></span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16795341">Determines if there is a change to the claim </a><span class="uit_-_UI_element_table">Catastrophe</span> field. If there is, the rule updates History and marks any open <span class="e_-_emphasis">Review for Catastrophe</span> activity complete.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="16795297">ClaimCenter uses these rules in conjunction with the catastrophe profile that an administrative user creates </a>through the <span class="ui_-_UI_element">Administration</span> → <span class="ui_-_UI_element">Catastrophes</span> screen.</div>
      <div class="HS_-_Head_Sub"><a name="16795450">See Also</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'catastrophes.18.1.html#4677540', '');" title="Catastrophes" name="16795464">“Catastrophes” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'catastrophes.18.1.html#4677540', '');" title="Catastrophes">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'config_catastrophe.66.1.html#4290282', '');" title="Working with Catastrophe Bulk Associations" name="16795481">“Working with Catastrophe Bulk Associations” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'config_catastrophe.66.1.html#4290282', '');" title="Working with Catastrophe Bulk Associations">Configuration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3"><a name="16507350">Metropolitan Police Report Request Rules</a></div>
      <div class="B_-_Body"><a name="16507352">The Metropolitan Reporting Bureau (</a><span class="cv_-_computer_voice"><a href="www.metroreporting.com" target="external_window">www.metroreporting.com</a></span>) provides a nationwide (United States) service for obtaining accident and incident reports. The Claim Preupdate <span class="cv_-_computer_voice">MetroReportRequest</span> rule starts an internal process to determine the type of each report requested (individually). It also verifies that the claim contains the data required to request each of the requested reports. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507356">If there are any missing fields, ClaimCenter creates an activity called “Metropolitan Report Request Failed” </a>and assigns it to the user that created the MetroReport request. The <span class="ui_-_UI_element">Description</span> text area of the activity contains information on the type of report that was requested. It also contains any data that must be supplied in order to successfully make the request. For each MetroReport request for which the required data is not defined on the claim, ClaimCenter marks the status as <span class="cv_-_computer_voice">InsufficientData</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507363">If the required data is specified and the claim update completes successfully, ClaimCenter changes the Metro</a>politan report status to validated. Once the report status becomes valid, ClaimCenter changes the Metropolitan report status to <span class="cv_-_computer_voice">Sending Order</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16507370">Guidewire ClaimCenter integrates with Metropolitan Reporting Bureau in the base </a>configuration. However, you must have an account with Metropolitan Reporting Bureau for report requests to work. For information on Metropolitan Police Reports and the MetroReport object, see <a href="javascript:WWHClickedPopup('integration', 'metropolitan.23.1.html#1926237', '');" title="Metropolitan Reporting Bureau Integration">“Metropolitan Reporting&nbsp;Bureau Integration” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'metropolitan.23.1.html#1926237', '');" title="Metropolitan Reporting Bureau Integration">Integration Guide</a></span>. </div>
      <div class="H3_-_Heading_3"><a name="16795243">Special Investigation Unit (SIU) Rules</a></div>
      <div class="B_-_Body"><a name="16795244">The Claim Preupdate SIU rules and the Claim Exception SIU rules work together to assist in determining claim </a>fraud. These rules identify certain characteristics of a claim that increase the suspicion that fraud has occurred and assign points to each of these characteristics. For a discussion on how these two rule sets work in conjunction with each other, see <a href="javascript:WWHClickedPopup('rules', 'rules_siu.15.1.html#6046653', '');" title="Detecting Claim Fraud">“Detecting Claim Fraud”</a>. See also <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.09.html#16506856', '');" title="Exception">“Claim Exception Rules”</a>.</div>
      <div class="H2_-_Heading_2"><a name="16827646">Exposure Preupdate</a></div>
      <div class="B_-_Body"><a name="16507376">Use the Exposure Preupdate rules to modify exposures and related entities. In the following example, the rule </a>creates an activity to review the claim exposure for potential salvage value (if a review activity does not already exist).</div>
      <div class="HS_-_Head_Sub"><a name="16507377">Conditions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507378">not exists(activity in exposure.claim.Activities where activity.Status == "open" and</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507379">&nbsp;</a>&nbsp;activity.ActivityPattern.Code == "review_salvage_potential")</PRE>
      <div class="HS_-_Head_Sub"><a name="16507380">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507381">if( Exposure.VehicleIncident.VehicleDriveable &lt;&gt; true </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507382">&nbsp;</a>&nbsp;and Exposure.VehicleIncident.TotalLoss ==  true ) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507383">&nbsp;</a>&nbsp;exposure.claim.createActivityFromPattern( exposure, </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638366">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivityPattern.finder.getActivityPatternByCode( "review_salvage_potential" ) )</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507385">}</a></PRE>
      <div class="H2_-_Heading_2"><a name="16507386">Group Preupdate</a></div>
      <div class="B_-_Body"><a name="16507390">Use Group Preupdate rules to modify groups and related entities. ClaimCenter runs the Group Preupdate (and </a>Group Validation) rules upon a save of the Group entity. Any exceptions found during validation cause the bounding database transaction to roll back, thus effectively vetoing the update. For information on users and groups, see the <span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'cover-admin.html#1151903', '');" title="ClaimCenter System Administration Guide">ClaimCenter System Administration Guide</a></span>.</div>
      <div class="H2_-_Heading_2"><a name="16507394">Matter Preupdate</a></div>
      <div class="B_-_Body"><a name="16507395">Use the Matter Preupdate rules to modify matters and related entities. In the following example, the rule creates </a>a new activity to review the claim file 30 days before the date set to litigate the claim in court.</div>
      <div class="HS_-_Head_Sub"><a name="16507396">Conditions</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507397">not exists( Activity in Matter.Claim.Activities </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507398">&nbsp;</a>&nbsp;where (Activity.ActivityPattern !=  </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16650783">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivityPattern.finder.getActivityPatternByCode( "trial_review" ) ) )</PRE>
      <div class="HS_-_Head_Sub"><a name="16507399">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507400">var act = matter.claim.newActivity( ActivityPattern.finder.getActivityPatternByCode( "trial_review" ),</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638376">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507401">act.TargetDate = gw.api.util.DateUtil.addDays( act.Matter.TrialDate, -30 )</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507402">act.assignToClaimOwner()</a></PRE>
      <div class="H2_-_Heading_2"><a name="16507403">Policy Preupdate</a></div>
      <div class="B_-_Body"><a name="16507404">Use the Policy Preupdate rules to modify policies and related entities. In the following example, the rule stan</a>dardizes the policy number using standard Gosu library functions. The nested functions trim any spaces in the number and turn all alpha characters to lower case.</div>
      <div class="HS_-_Head_Sub"><a name="16507405">Condition</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507406">true</a></div>
      <div class="HS_-_Head_Sub"><a name="16507407">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507408">policy.PolicyNumber = gw.api.util.StringUtil.toLowerCase( gw.api.util.StringUtil.</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507409">&nbsp;</a>&nbsp;trim( policy.PolicyNumber ) )</PRE>
      <div class="H2_-_Heading_2"><a name="16507410">Transaction Set Preupdate</a></div>
      <div class="B_-_Body"><a name="16507411">The Rule engine runs the Transaction Set preupdate rules any time that a use adds or edits a transaction. </a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16771070">Do </a><span class="s_-_strong">not</span> use the <span class="cv_-_computer_voice">new RecoveryReserve</span> constructor to create a <span class="cv_-_computer_voice">RecoveryReserve</span> transaction from a Transaction Set <span class="e_-_emphasis">Preupdate</span> rule. Guidewire <span class="e_-_emphasis">only</span> recommends creating new transactions and transaction sets using this method if you are adding a <span class="cv_-_computer_voice">Transaction</span> to the <span class="cv_-_computer_voice">TransactionSet</span> in the Transaction <span class="e_-_emphasis">Presetup</span> rules. The use of the Transaction Presetup rules guarantees that ClaimCenter calls the <span class="cv_-_computer_voice">prepareForSave</span> method on the <span class="cv_-_computer_voice">TransactionSet</span>, which properly sets up the T-accounts.</div>
      <div class="B_-_Body"><a name="16828200">In the following example, the rule removes (nulls out) unwanted fields on a check if the user changes the </a>payment method from check to EFT (Electronic Check Transfer). <span class="e_-_emphasis">Guidewire strongly recommends that you use </span><span class="e_-_emphasis">this rule to clean up data if the payment method changes.</span></div>
      <div class="HS_-_Head_Sub"><a name="16827765">Condition</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16827776">transactionSet.Subtype == "CheckSet"</a></div>
      <div class="HS_-_Head_Sub"><a name="16827795">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16827810">for (check in (transactionSet as CheckSet).Checks) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827811">&nbsp;</a>&nbsp;if (check.New or check.isFieldChanged("PaymentMethod")) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827812">&nbsp;</a>&nbsp;&nbsp;&nbsp;check.removeUnusedPaymentMethodRelatedFields()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827813">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16827802">}</a></PRE>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16827825">This rule calls the </a><span class="cv_-_computer_voice">gw.entity.GWCheckEnhancement.removeUnusedPaymentMethodRelatedFields</span> method on the <span class="cv_-_computer_voice">Check</span> object. In the base configuration, this method nulls out fields related to a specific payment method.</div>
      <div class="T_-_Table"><a name="16828074">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16828085">Payment method</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16828087">Method nulls out...</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16828089">Check</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="16828091">BankAccountNumber</a></span><span class="cvt_-_computer_voice_table"><br /></span><span class="cvt_-_computer_voice_table">BankName</span><span class="cvt_-_computer_voice_table"><br /></span><span class="cvt_-_computer_voice_table">BankAccountType</span><span class="cvt_-_computer_voice_table"><br /></span><span class="cvt_-_computer_voice_table">BankRoutingNumber</span></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16828093">Electronic funds transfer</a></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="16828095">MailToAddress</a></span><span class="cvt_-_computer_voice_table"><br /></span><span class="cvt_-_computer_voice_table">MailTo</span><span class="cvt_-_computer_voice_table"><br /></span><span class="cvt_-_computer_voice_table">DeliveryMethod</span></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="16828027">In the base configuration, the method code looks similar to the following:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16827931">public function removeUnusedPaymentMethodRelatedFields() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827932">&nbsp;</a>&nbsp;if (this.PaymentMethod == PaymentMethod.TC_CHECK) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827933">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.BankAccountNumber = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827934">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.BankName = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827935">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.BankAccountType = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827936">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.BankRoutingNumber = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827937">&nbsp;</a>&nbsp;} else if (this.PaymentMethod == PaymentMethod.TC_EFT) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827938">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.MailToAddress = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827939">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.MailTo = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827940">&nbsp;</a>&nbsp;&nbsp;&nbsp;this.DeliveryMethod = null</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16827941">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16827911">}</a></PRE>
      <div class="H2_-_Heading_2"><a name="16770935">User Preupdate</a></div>
      <div class="B_-_Body"><a name="16507483">Use the User Preupdate rules to modify users and related entities. ClaimCenter runs the User Preupdate (and </a>User Validation) rules upon a save of the User entity. Any exceptions found during validation cause the bounding database transaction to roll back, thus effectively vetoing the update. For information on users and groups, see the <span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'cover-admin.html#1151903', '');" title="ClaimCenter System Administration Guide">ClaimCenter System Administration Guide</a></span>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>