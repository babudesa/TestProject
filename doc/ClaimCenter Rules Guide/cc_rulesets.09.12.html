<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Postsetup</title>
    <link rel="StyleSheet" href="css/cc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16507074">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="cc_rulesets.09.01.html#16507074">Rule Set Categories</a> : Postsetup</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="16507074">Postsetup</a></div>
      <div class="B_-_Body"><a name="16507076">Postsetup rules run automatically anytime that ClaimCenter adds a new claim. The Rule engine runs these rules </a>after the Assignment and Workplan rules complete their execution, and immediately before the <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.10.html#16507019', '');" title="Initial Reserve">Initial Reserve</a> or <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.14.html#16507281', '');" title="Preupdate">Preupdate</a> rule sets. </div>
      <div class="B_-_Body"><a name="16507083">Postsetup rules can perform a wide variety of actions, depending on your business requirements. Postsetup rules </a>often depend on the results of the rules executed during setup or other tasks. You can design these rules to trigger based on specific conditions that the setup rules create, for example.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16543182">ClaimCenter runs the Postsetup rules as part of the “save and setup” operation on new claims and </a>exposures. See <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.13.html#16542629', '');" title="Presetup">“Claim and Exposure Setup”</a> for more information.</div>
      <div class="H2_-_Heading_2"><a name="16507085">Activity Postsetup</a></div>
      <div class="B_-_Body"><a name="16507086">The Activity Postsetup rules fire just prior to completing the setup process and saving any changes to activities. </a>In the following example, the rule sets the claim status to indicate that ClaimCenter referred the claim to a Special Investigation Unit for possible fraud.</div>
      <div class="HS_-_Head_Sub"><a name="16507087">Conditions</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507088">Activity.ActivityPattern.Code == "fraud_review"</a></div>
      <div class="HS_-_Head_Sub"><a name="16507089">Actions</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507090">Activity.Claim.SIUStatus="Under_Investigation"</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16507094">See </a><a href="javascript:WWHClickedPopup('rules', 'rules_siu.15.1.html#6046653', '');" title="Detecting Claim Fraud">“Detecting Claim Fraud”</a> for a discussion of SIU (Special Investigation Unit) rules.</div>
      <div class="H2_-_Heading_2"><a name="16507095">Claim Postsetup</a></div>
      <div class="B_-_Body"><a name="16507096">The Claim Postsetup rules fire just prior to completing the setup process and saving any changes to claims. In the </a>following example, the rule creates a new activity for FNOL.</div>
      <div class="HS_-_Head_Sub"><a name="16507098">Conditions</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507099">Claim.isValid( "newloss", true ) </a></div>
      <div class="HS_-_Head_Sub"><a name="16507100">Actions</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507101">var strClaimNumber = Claim.DuplicateClaimNumbers</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507102">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507103">if ( strClaimNumber != null ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507104">&nbsp;</a>&nbsp;/* Create new claim activity if there are possibly duplicate claims listed. */</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507105">&nbsp;</a>&nbsp;var description = "Check that claim is not a duplicate of " + strClaimNumber</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507106">&nbsp;</a>&nbsp;Claim.createActivity( null, ActivityPattern.finder.getActivityPatternByCode( "fnol" ),</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507107">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Check that duplicate claim does not exist", description, null, null, null, null )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507109">} else {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507110">&nbsp;</a>&nbsp;/* Create new claim activity */</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507111">Claim.createActivityFromPattern( null, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638272">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivityPattern.finder.getActivityPatternByCode( "fnol" ) )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507112">}</a></PRE>
      <div class="H2_-_Heading_2"><a name="16507113">Exposure Postsetup</a></div>
      <div class="B_-_Body"><a name="16507122">The Exposure Postsetup rules fire just prior to completing the setup process and saving any changes to expo</a>sures. In the following example, the rule first checks that this is an auto accident involving a rear-end collision with the other party at fault. If so, the rule assigns the role of “subrogation owner” to the user assigned to the exposure. It then creates an activity for the subrogation owner to follow up on the claim for possible subrogation. In actual practice, you would need to set up a condition to prevent the rule from firing repeatedly during exposure updates. See <a href="javascript:WWHClickedPopup('rules', 'rules_writing.08.5.html#1008241', '');" title="Taking Actions on More Than One Subitem">“Taking Actions on More Than One Subitem”</a> for a way to handle this situation.</div>
      <div class="HS_-_Head_Sub"><a name="16507123">Conditions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507124">Exposure.Claim.LossType == "AUTO" and Exposure.Claim.LossCause == "rearend" and </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507125">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exposure.LossParty == "third_party"</PRE>
      <div class="HS_-_Head_Sub"><a name="16507126">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507127">var strGroup : String </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507128">var strUser : String </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507129">strGroup = Exposure.AssignedGroup.PublicID </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507130">strUser = Exposure.AssignedUser.PublicID </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507131">var grpName : Group </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507132">var y : Group </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507133">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507134">//Find the Group ID of the User assigned to the exposure </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507135">var resultset1 = find (var test in Group where test.PublicID == strGroup) </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507136">for (d in resultset1.iterator()){ </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507137">  y = d as Group</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507138">&nbsp;</a>&nbsp;grpName = y </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507139">} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507140">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507141">//Find the User ID of the User assigned to the exposure </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507142">var usrName : User </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507143">var u : User </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507144">var resultset2 = find (var test2 in User where test2.PublicID == strUser) </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507145">for (e in resultset2.iterator()){ </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507146">  u = e as User</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507147">&nbsp;</a>&nbsp;usrName = u </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507148">} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507149">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507150">var curExposure = Exposure</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507151">Exposure.Claim.createActivityFromPattern( curExposure,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638278">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivityPattern.finder.getActivityPatternByCode( "subro_check" ) ) </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507152">Exposure.assignUserRole( usrName, grpName,  "subrogationowner") </a></PRE>
      <div class="H2_-_Heading_2"><a name="16507153">Matter Postsetup</a></div>
      <div class="B_-_Body"><a name="16507154">The Matter Postsetup rules fire just prior to completing the setup process and saving any changes to matters. In </a>the following example, the rule sets up an activity for the claim owner. This is to initiate a legal review of a bodily injury claim 10 days before a scheduled mediation meeting with the insured.</div>
      <div class="HS_-_Head_Sub"><a name="16507155">Condition</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16638288">true</a></div>
      <div class="HS_-_Head_Sub"><a name="16638289">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16638290">var act = Matter.Claim.newActivity( ActivityPattern.finder.getActivityPatternByCode( "legal_review" ), </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638291">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exposure( 17 /* Bodily Injury */ ) )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507160">act.TargetDate = gw.api.util.DateUtil.addDays( act.Matter.MediationDate, -10 )</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507161">act.assignToClaimOwner()</a></PRE>
      <div class="H2_-_Heading_2"><a name="16507162">Transaction Postsetup</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16507164">The Transaction Postsetup rules fire under the following conditions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507168">Immediately after the </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.07.html#16506636', '');" title="Closed">Exposure Closed</a> rule set after closing an exposure, if there is a transaction associated with that exposure. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507172">Immediately after the </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.17.html#16507630', '');" title="Transaction Approval">Transaction Approval Rules</a> rule set <span class="s_-_strong">except</span> if you are in the process of creating a reserve.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16507173">These rules also fire under the following conditions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507174">Anytime that ClaimCenter approves a TransactionSet</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507175">Anytime that ClaimCenter voids, stops, or escalates a check</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507176">Anytime that ClaimCenter records a payment</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507177">Anytime that ClaimCenter voids a recovery</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507178">Anytime that ClaimCenter closes an exposure</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16507179">In the following example, the rule creates an activity if a reserve for a Workers’ Compensation claim increases </a>three or more times in a six month period:</div>
      <div class="HS_-_Head_Sub"><a name="16507180">Conditions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507181">TransactionSet.Subtype == "reserveset"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507182">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and (TransactionSet.Claim.LossType == "WC" )</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507183">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and TransactionSet.getAmount() &gt; 0</PRE>
      <div class="HS_-_Head_Sub"><a name="16507184">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507185">var reserveChgCount = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507186">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507187">for (tran in TransactionSet.Claim.Transactions) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507188">&nbsp;</a>&nbsp;if ( (tran.Subtype == "reserve" and tran.CreateTime == null and tran.TransactionSet.getAmount() &gt; 0)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507189">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or (tran.Subtype == "reserve" and (gw.api.util.DateUtil.daysSince( tran.CreateTime ) &lt; 180)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638337">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and tran.TransactionSet.getAmount() &gt; 0) ) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507191">&nbsp;</a>&nbsp;&nbsp;&nbsp;reserveChgCount = reserveChgCount +1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507192">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507193">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507194">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507195">if ( reserveChgCount &gt; 2 and not exists(act in TransactionSet.Claim.Activities </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507196">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where act.ActivityPattern.Code == "Reserve_Increase_Alert" and act.Status == "open") ) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507199">&nbsp;</a>&nbsp;TransactionSet.Claim.createActivityFromPattern( null,</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16638326">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivityPattern.finder.getActivityPatternByCode("Reserve_Increase_Alert" ) )</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507202">}</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>