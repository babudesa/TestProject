<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Rule Structure</title>
    <link rel="StyleSheet" href="css/rules_overview.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#1247165">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="rules_overview.05.1.html#1247165">Rules Overview</a> : Rule Structure</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="1247165">Rule Structure</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1246966">The basic structure of every rule has the following syntax:</a></div>
      <div class="B_-_Body"><a name="1246967">IF {some conditions} </a></div>
      <div class="B_-_Body"><a name="1246968">THEN {do some actions} </a></div>
      <div class="B_-_Body"><a name="1246969">The following table summarizes each of the parts of the rule.</a></div>
      <div class="T_-_Table"><a name="3740884">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3740870">Pane</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3740872">	</a>Requirements</div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3740874">Conditions</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3740876">A Boolean expression (that is, a series of questions connected by AND and OR logic that evaluates to TRUE </a>or FALSE). For example: </div>
            <div class="TT_-_Table_Text"><a name="3740877">(This is an auto claim) AND (the policy includes collision coverage)</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3740879">Actions</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3740881">A list of actions to take. For example: </a></div>
            <div class="TT_-_Table_Text"><a name="3740882">{Mark the claim as flagged} </a></div>
            <div class="TT_-_Table_Text"><a name="3740883">{Add an activity for the adjuster to follow up}</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="3594086">The best way to add rules to the rule set structure is to right-click in the Studio rule pane. After you do this, </a>Studio opens a window opens containing a tree of options from which to select. As you use the right-click menu, ClaimCenter gives you access only to conditions and actions that are appropriate for the type of your current rule. </div>
      <div class="H2_-_Heading_2"><a name="1280967">Rule Syntax</a></div>
      <div class="B_-_Body"><a name="1280968">Guidewire Studio uses a programming language called Gosu, which is a high-level language tailored for </a>expressing business rule logic. The syntax supports rule creation with business terms, while also using common programming methods for ease of use. Gosu syntax can be thought of in terms of both statements and expressions. (Before you begin to write rules, Guidewire strongly recommends that you make yourself completely acquainted with the material in the <span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'cover-gscript.html#1007029', '');" title="Gosu Reference Guide">Gosu Reference Guide</a></span>.)</div>
      <div class="B_-_Body"><a name="1280969">Statements are merely phrases that perform tasks within Studio. Examples of statements include the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3596247">assignment statements</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3596248">if statements</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3596249">iteration statements</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3740906">All expressions follow the dot notation to reference fields and subobjects. For example, to reference the license </a>plate data from a vehicle associated with a claim, the field path is: </div>
      <div class="CS_-_Code_Single_Line"><a name="3740907">claim.Vehicles[0].LicensePlate</a></div>
      <div class="B_-_Body"><a name="3740908">A statement can consist of one or many expressions. </a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3594292">Use </a><span class="s_-_strong">only</span> Gosu expressions and statements to create ClaimCenter business rules. For example, do not attempt to define a Gosu function in a business rule. Instead, define a Gosu function in a Gosu class or enhancement, then call that function from a Gosu rule. Guidewire expressly does <span class="s_-_strong">not</span> support the definition of functions—and especially nested functions—in Gosu rules.</div>
      <div class="H2_-_Heading_2"><a name="3594231">Rule Members</a></div>
      <div class="B_-_Body"><a name="1246997">As described previously, a rule consists of a set of conditions and actions to perform if all the conditions evaluate </a>to <span class="cv_-_computer_voice">true</span>. It typically references the important business entities and objects (claims, for example). </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1246998">Conditions.</a></span> A collection of expressions that provide true/false analysis of an entity. If the condition evaluates to <span class="cv_-_computer_voice">true</span>, then Studio runs the activities in the <span class="ui_-_UI_element">Actions</span> pane.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="3740917">For example, you can use the following condition to test whether the claim passes a certain level of validation </a>tests:</div>
      <div class="CS_-_Code_Single_Line"><a name="3740918">claim.isValid( "loadsave", true)</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1760980">Actions.</a></span> A collection of action expressions that perform business activities such as making an assignment or marking a field as invalid. These actions occur only if the corresponding condition is <span class="cv_-_computer_voice">true</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="3740925">For example, you can use the following action to assign a claim to a local group based on which group han</a>dles the loss location’s region:</div>
      <div class="CS_-_Code_Single_Line"><a name="3740926">claim.CurrentAssignment.assignGroupByLocation("independent", claim.LossLocation, true, local)</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3542158">APIs.</a></span> A collection of Gosu methods accessed through <span class="cv_-_computer_voice">gw.api.*</span>. They include many standard math, date, string, and financial methods. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="3740933">For example, you can use the following API method to test whether it has been more than 30 days since the </a>insured reported the claim:</div>
      <div class="CS_-_Code_Single_Line"><a name="3740934">gw.api.util.DateUtil.daysSince( claim.ReportedDate ) &gt; 30</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2074077">Entities.</a></span> The collection of business object entities supported by ClaimCenter. Studio objects use the familiar “dot” notation to reference fields and objects.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="3740941">For example, you can use the following object conditions to verify if the loss is an Auto claim involving a </a>vehicle collision without the weather field entered:</div>
      <div class="CS_-_Code_Single_Line"><a name="3740942">Claim.LossType == "auto" and Claim.LossCause == "vehcollision" and Claim.Weather == null</a></div>
      <div class="H2_-_Heading_2"><a name="1247025">Defining Your Conditions</a></div>
      <div class="B_-_Body"><a name="2755297">The simplest kind of condition looks at a single field on the object or business entity. For example:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2755298">Activity.ActivityPattern.Code == "AuthorityLimitActivity"</a></div>
      <div class="B_-_Body"><a name="2755299">This example demonstrates some important basics:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2755300">To refer to an object (for example, an </a><span class="cv_-_computer_voice">Activity</span> object, or, in this case, an <span class="cv_-_computer_voice">ActivityPattern</span> object) and its attributes, you begin the reference with a <span class="e_-_emphasis">root object</span>. While running rules on an activity, you refer to the activity in question as <span class="e_-_emphasis">Activity</span>. (Other root objects, depending on your Guidewire application, are <span class="e_-_emphasis">Account</span>, <span class="e_-_emphasis">PolicyPeriod</span>, <span class="e_-_emphasis">Producer</span>, <span class="e_-_emphasis">Invoice</span>, <span class="e_-_emphasis">Tr</span><span class="e_-_emphasis">­</span><span class="e_-_emphasis">oubleTicket</span>, and <span class="e_-_emphasis">Charge</span>.)</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2755304">ClaimCenter uses </a><span class="e_-_emphasis">dot</span> notation to access fields (for example, <span class="cv_-_computer_voice">Activity.ActivityPattern</span>) or objects (<span class="cv_-_computer_voice">Activity.ActivityPattern.Category</span>, for example), starting from the root object. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><span class="ri_-_run_in_header"><a name="2755305">Combining conditions.</a></span> For more complicated conditions, you can combine simple conditions like the previous one with standard Boolean logic operators (<span class="cv_-_computer_voice">and</span>, <span class="cv_-_computer_voice">or</span>, <span class="cv_-_computer_voice">not</span>). For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="2755306">Activity.ActivityPattern.Code == "AuthorityLimitActivity" and not Activity.Approved</a></div>
      <div class="B_-_Body"><a name="2755310">(See the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'cover-gscript.html#1007029', '');" title="Gosu Reference Guide">Gosu Reference Guide</a></span> for details on operator precedence and other syntactical information.)</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3727260">The rule condition statement must evaluate to either Boolean </a><span class="cv_-_computer_voice">true</span> or <span class="cv_-_computer_voice">false</span>. If you create a condition statement that evaluates to <span class="cv_-_computer_voice">null</span>, ClaimCenter interprets this <span class="cv_-_computer_voice">false</span>. This can happen inadvertently, especially if you create a condition statement with multiple conditions to evaluate. If your condition evaluates to <span class="cv_-_computer_voice">null</span> (<span class="cv_-_computer_voice">false</span>), then ClaimCenter never executes the associated rule actions.</div>
      <div class="H2_-_Heading_2"><a name="1247047">Defining Your Actions</a></div>
      <div class="B_-_Body"><a name="1247048">Within the </a><span class="ui_-_UI_element">Actions</span> pane, you create the outcome for the criteria identified in the <span class="ui_-_UI_element">Conditions</span> section. Actions can be single statements or they can be strung together to fulfill multiple criteria. You can add any number of actions to a rule. Studio executes all of these actions in order if the condition evaluates to <span class="cv_-_computer_voice">true</span>.</div>
      <div class="B_-_Body"><a name="3740949">For example, suppose that you want an exposure to fail validation if a certain coverage exists but it is not selected </a>on the claim. The following syntax creates this action:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3740950">for( Exposure in claim.Exposures ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740951">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740952">&nbsp;</a>&nbsp;if( Exposure.OtherCoverage==true and (Exposure.OtherCoverageInfo==null or</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740953">&nbsp;</a>&nbsp;&nbsp;&nbsp;Exposure.OtherCoverageInfo=="") ) { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740954">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740955">&nbsp;</a>&nbsp;&nbsp;&nbsp;// Mark each exposure in which this occurs as invalid</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740956">&nbsp;</a>&nbsp;&nbsp;&nbsp;Exposure.rejectSubField( Exposure, "OtherCoverageInfo", "loadsave", </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740957">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Please provide information about claimant's other coverage.", null, null )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740958">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740959">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3740960">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3740961">}</a></PRE>
      <div class="B_-_Body"><a name="3740965">(See </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.18.html#16699702', '');" title="Validation">“Correcting Validation Errors”</a> for a discussion of the various <span class="cv_-_computer_voice">reject</span> methods.)</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>