<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Event Message</title>
    <link rel="StyleSheet" href="css/cc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16506651">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="cc_rulesets.09.01.html#16506651">Rule Set Categories</a> : Event Message</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="16506651">Event Message</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16850141">ClaimCenter runs the Event Message rules as part of the database bundle commit </a>process. <span class="s_-_strong">Only</span> use these rules to create integration messages.</div>
      <div class="B_-_Body"><a name="16850142">In the base configuration, there is a single rule set—Event Fired—in the Event Message rule category. The rules </a>in this rule set:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16849697">Perform event processing</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16849698">Generate messages about events that have occurred</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16832622">ClaimCenter calls the Event Fired rules if an entity involved in a bundle commit triggers an event for which a </a>message destination has registered interest. As part of the event processing, the Rule engine:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847637">Runs the rules in the Event Fired rule set once for every event for which a message destination has registered </a>interest.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847654">Runs the Event Fired rule set once for each destination that is listening for that particular event. Thus, it is </a>possible for the Rule engine to run the Event Fired rules sets multiple times for each event, once for each destination interested in that event.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="HS_-_Head_Sub"><a name="16832631">Messaging Events</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16849883">ClaimCenter automatically generates certain</a><span class="e_-_emphasis"> </span>events for most top-level objects. (Guidewire calls these events <span class="e_-_emphasis">standard</span> events.) In general, this occurs for any addition, modification, or removal (or retirement) of a top-level entity. ClaimCenter automatically generates the following events on the <span class="cv_-_computer_voice">Activity</span> object:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16849977">ActivityAdded</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16849978">ActivityChanged</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16850184">ActivityRemoved</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16850233">It is also possible to create a custom event on an entity by using the </a><span class="cv_-_computer_voice">addEvent</span> method. This method takes a single parameter, <span class="p_-_parameter">eventName</span>, which is a <span class="cv_-_computer_voice">String</span> value that sets the name of the event.</div>
      <div class="CS_-_Code_Single_Line"><span class="pc_-_parameter_in_code"><a name="16850029">entity</a></span>.addEvent(<span class="pc_-_parameter_in_code">eventName</span>)</div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16850311">For information on...</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16850325">Base configuration events, see </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3961737', '');" title="List of Messaging Events in ClaimCenter">“List of Messaging Events in ClaimCenter” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3961737', '');" title="List of Messaging Events in ClaimCenter">Integration Guide</a></span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16850294">Custom events, see </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3557952', '');" title="List of Messaging Events in ClaimCenter">“Triggering Custom Events” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3557952', '');" title="List of Messaging Events in ClaimCenter">Integration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="HS_-_Head_Sub"><a name="16849844">Message Destinations and Message Events</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16832632">You use the Studio Messaging editor to link an event to a message destinations: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847516">A </a><span class="e_-_emphasis">message destination</span> is an external system to which it is possible to send messages. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847526">A </a><span class="e_-_emphasis">message event</span> is an abstract notification of a change in ClaimCenter that is of possible interest to an external system. For example, this can be adding, changing, or removing a Guidewire entity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16847495">Using the Studio messaging editor, it is possible to associate (register) one or more events with a particular </a>message definition. For example, in the base configuration, ClaimCenter associates the following events with the <span class="cv_-_computer_voice">metro</span> message destination (ID=67):</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16832633">MetroReportAdded</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16832634">MetroReportChanged</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16832637">If you modify or add a </a><span class="cv_-_computer_voice">MetroReport</span> object, ClaimCenter generates the relevant event. Then, during a bundle commit of the <span class="cv_-_computer_voice">MetroReport</span> object, ClaimCenter notifies any Event Message rule that has registered an interest in one of these events that the event has occurred. You can then use this information to generate a message to send to an external system or to the system console for logging purposes, for example.</div>
      <div class="HS_-_Head_Sub"><a name="16847727">Message Destinations and Message Plugins</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16847795">Each message destination encapsulates all the necessary behavior for an external system, but uses three different </a>plugin interfaces to implement the destination. Each plugin handles different parts of what a destination does. Thus:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847808">The message request plugin handles message pre-processing. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847824">The message transport plugin handles message transport.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16847831">The message reply plugin handles message replies. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16847764">You register new messaging plugins in Studio first in the Plugins editor. After you create a new implementation, </a>Studio prompts you for a plugin interface name, and, in some cases, a plugin name. Use that plugin name in the Messaging editor in Studio to register each destination. Remember that you need to register your plugin in two different editors in Studio, first in the Plugins editor, then in the Messaging editor.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16847904">After the ClaimCenter application server starts, ClaimCenter initializes all message </a>destinations. ClaimCenter saves a list of events for which each destination requested notifications. As this happens at system start-up, you must restart the ClaimCenter application if you change the list of events or destinations.</div>
      <div class="HS_-_Head_Sub"><a name="16832638">Generating Messages</a></div>
      <div class="B_-_Body"><a name="16832515">Use method </a><span class="cv_-_computer_voice">createMessage</span> to create the message text, which can be either a simple text message or a more involved constructed message. The following code is an example of a simple text message that uses the Gosu in-line dynamic template functionality to construct the message. Gosu in-line dynamic templates combine static text with values from variables or other calculations that Gosu evaluates at run time. For example, the following <span class="cv_-_computer_voice">createMessage</span> method call creates a message that lists the event name and the entity that triggered this rule set.</div>
      <div class="CS_-_Code_Single_Line"><a name="16832516">messageContext.createMessage("${messageContext.EventName} - ${messageContext.Root}")</a></div>
      <div class="B_-_Body"><a name="16832504">The following is an example of a constructed message that provides more detailed information if a claim </a>changes.</div>
      <PRE class="CL_-_Code_Last_Line"><a name="16506670">var session = messageContext.SessionMarker</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506671">var claim = messageContext.Root as Claim</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506672">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506673">// Create a message for this claim.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506674">var msg = messageContext.createMessage("Message for ClaimChanged")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506678">msg.putEntityByName( "assigneduser", claim.AssignedUser )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506679">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506680">// Add assigned user to session map, so it's availabe in the session.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506681">session.addToTempMap( "assigneduser", claim.AssignedUser )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506682">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506683">// Create a message for each exposure.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506684">for (exposure in claim.Exposures) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506685">&nbsp;</a>&nbsp;msg.messageRoot = exposure</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16847471">&nbsp;</a>&nbsp;var user : User = session.getFromTempMap( "assigneduser" ) as User</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506687">&nbsp;</a>&nbsp;msg.putEntityByName( "assigneduser", user )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506688">&nbsp;</a>&nbsp;msg.putEntityByName( "claim", claim )  </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16849094">}</a></PRE>
      <div class="HS_-_Head_Sub"><a name="16849122">A Word of Warning</a></div>
      <div class="B_-_Body"><a name="16849123">Be extremely careful about modifying entity data in Event Fired rules and messaging plugin implementations. </a>Use these rule to perform only the minimal data changes necessary for integration code. Entity changes in these code locations do <span class="s_-_strong">not</span> cause the application to run or re-run validation or preupdate rules. Therefore, do <span class="s_-_strong">not</span> change fields that might require those rules to re-run. Only change fields that are not modifiable from the user interface. For example, set custom data model extension flags only used by messaging code. </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16849124">Guidewire does not support the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16849125">Guidewire does </a><span class="s_-_strong">not</span> support (and, it is dangerous) to add or delete business entities from Event Fired rules or messaging plugins (even indirectly through other APIs). </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16849126">Guidewire does </a><span class="s_-_strong">not</span> support—even within the Event Message rule set—calling <span class="s_-_strong">any</span> message acknowledgment or skipping methods such as <span class="cv_-_computer_voice">reportAck</span>, <span class="cv_-_computer_voice">reportError</span>, or <span class="cv_-_computer_voice">skip</span>. Use those methods only within messaging plugins. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16849127">Guidewire does </a><span class="s_-_strong">not</span> support creating messages outside of the Event Message rule set.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="HS_-_Head_Sub"><a name="16849096">See Also</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.02.html#2961060', '');" title="Messaging Overview" name="16849049">“Messaging Overview” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.02.html#2961060', '');" title="Messaging Overview">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3961737', '');" title="List of Messaging Events in ClaimCenter" name="16849053">“List of Messaging Events in ClaimCenter” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.10.05.html#3961737', '');" title="List of Messaging Events in ClaimCenter">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'studio_messaging.17.1.html#1178213', '');" title="Using the Messaging Editor" name="16849057">“Using the Messaging Editor” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'studio_messaging.17.1.html#1178213', '');" title="Using the Messaging Editor">Configuration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3"><a name="16849001">Detecting Object Changes</a></div>
      <div class="B_-_Body"><a name="16849002">It is possible that you want to listen for a change in an object that does not automatically trigger an event if you </a>update it. For example, suppose that you want to listen for a change to the <span class="cv_-_computer_voice">User</span> object (an update of the address, perhaps). However, in this case, the <span class="cv_-_computer_voice">User</span> object itself does not contain an address. Instead, ClaimCenter stores addresses as an array on <span class="cv_-_computer_voice">UserContact</span>, which is an extension of <span class="cv_-_computer_voice">Person</span>, which is a subtype of <span class="cv_-_computer_voice">Contact</span>, which points to <span class="cv_-_computer_voice">User</span>. Therefore, updating an address does not directly in itself touch the <span class="cv_-_computer_voice">User</span> object.</div>
      <div class="B_-_Body"><a name="16849006">However, in an Event Message rule, you can listen for the </a><span class="cv_-_computer_voice">ContactChanged</span> event that ClaimCenter generates every time that the address changes. The following example illustrates this concept. (It prints out a message to the system console anytime that the address changes. In actual practice, you would use a different message destination, of course.)</div>
      <div class="HS_-_Head_Sub"><a name="16849007">Condition</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16849008">//DestID 68 is the Console Message Logger</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16849009">MessageContext.DestID == 68 and MessageContext.EventName == "ContactChanged"</a></PRE>
      <div class="HS_-_Head_Sub"><a name="16849010">Action</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16849011">uses gw.api.util.ArrayUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849012">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849013">var message = messageContext.createMessage( "Event: " + messageContext.EventName )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849014">var contact = message.MessageRoot as Contact</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849015">var fields = contact.PrimaryAddress.ChangedFields</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16849016">print( ArrayUtil.toString( fields ) )</a></PRE>
      <div class="H2_-_Heading_2"><a name="16849218">Event Fired</a></div>
      <div class="B_-_Body"><a name="16849244">In the following example, the rule creates a </a><span class="cv_-_computer_voice">CashReceiptDocument</span> any time that a user creates a new Recovery transaction in ClaimCenter. See <a href="javascript:WWHClickedPopup('rules', 'rules_documentcreation.17.1.html#2981402', '');" title="Document Creation">“Document Creation”</a> for information on how to construct a document within Guidewire ClaimCenter/</div>
      <div class="HS_-_Head_Sub"><a name="16849245">Conditions</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16849246">MessageContext.Root typeis Recovery and (MessageContext.Root as Recovery).Status == "submitting"</a></div>
      <div class="HS_-_Head_Sub"><a name="16849247">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16849248">uses java.util.HashMap</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849249"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849250">//This code uses custom fields</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849251">var rec = MessageContext.Root as Recovery</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849252">var values = new HashMap()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849253">var template : gw.plugin.document.IDocumentTemplateDescriptor</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849254"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849255">values["InsuredName"]  = rec.Claim.Insured</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849256">values["ReceivedFrom"] = rec.Payer</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849257">values["DateReceived"] = rec.CreateTime</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849258">values["AmtReceived"]  = rec.Amount</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849259">values["PmntNo"]       = null</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849260">values["CheckDate"]    = rec.TransactionDate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849261">values["CBO"]          = rec.CurrentAssignment.AssignedGroup.RootGroup</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849262">values["CompletedBy"]  = rec.UpdateUser</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849263">values[“ClaimNo”]      = rec.Claim.ClaimNumber</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849264">values["PolicyNo"]     = rec.Claim.Policy.PolicyNumber</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849265">values["CostCat"]      = rec.CostCategory</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849266">values["RecoveryCat"]  = rec.RecoveryCategory</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849267">values["ReceiptNo"] </a>&nbsp;&nbsp;&nbsp;= rec.CashReceiptNumberExt //Custom field</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849268"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849269">var doc : Document </a>&nbsp;&nbsp;= new Document(rec.Claim) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849270">doc.MimeType </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "application/pdf" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849271">doc.Claim </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= rec.Claim </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849272">doc.Name </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "CashReceivedTicket" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849273">doc.Exposure </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= rec.Exposure </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849274">doc.TypeExt </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "Recovery" //Custom field</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849275">doc.SubTypeExt </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "Other" //Custom field</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849276">doc.PrivilegedExt </a>&nbsp;&nbsp;&nbsp;= "No" //Custom field</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849277">doc.ProcessMethodExt = "Sent_to_File" //Custom field</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849278">doc.Claimant </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= rec.Claim.claimant </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849279">doc.Status </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "approved" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849280">doc.DocUID </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= "ID-" + java.util.Calendar.getInstance().getTimeInMillis()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16849281"> </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16849231">gw.document.DocumentProduction.createDocumentSynchronously(template, values, doc)</a></PRE>
      <div class="H3_-_Heading_3"><a name="16849232">MetroReport Events</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16506764">For information on Metropolitan Police Reports and the MetroReport object, see the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'cover-integration.html#1301766', '');" title="ClaimCenter Integration Guide">ClaimCenter Integration Guide</a></span>. See also the <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.14.html#16507319', '');" title="Preupdate">Claim Preupdate</a> rules (<a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.14.html#16507350', '');" title="Preupdate">Metropolitan Police Report Request Rules</a>).</div>
      <div class="B_-_Body"><a name="16506777">ClaimCenter uses event rules to check the status of a Metropolitan Police Report request. </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16506781">If the status is </a><span class="cv_-_computer_voice">InsufficientData</span>, ClaimCenter does not send the report request to the Metropolitan Reporting Bureau. Instead, it creates an activity as described in <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.14.html#16507350', '');" title="Preupdate">“Metropolitan Police Report Request Rules”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16506788">If the status is </a><span class="cv_-_computer_voice">Sending Order</span>, ClaimCenter fires an event and sends a message to the Metropolitan Reporting Bureau requesting a report.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16506792">ClaimCenter defines two types of event messages for Metropolitan Police Report integration: </a></div>
      <div class="T_-_Table"><a name="16506802">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16506795">Send Order Message</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16506797">ClaimCenter sends out the initial report request to Metropolitan Reporting Bureau with all the claim </a>information and the type of the report it requests. </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16506799">Send Inquiry Message</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16506801">ClaimCenter sends an inquiry on a scheduled basis to Metropolitan Reporting Bureau for each out</a>standing report requested. The interval for sending the inquiry is set to hourly in the base configuration. </div>
          </td>
        </tr>
      </table>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>