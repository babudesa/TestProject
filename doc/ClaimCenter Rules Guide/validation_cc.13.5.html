<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Validation Performance Issues</title>
    <link rel="StyleSheet" href="css/validation_cc.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules_advanced.html#4141672">Advanced Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="validation_cc.13.1.html#4141672">Validation in ClaimCenter</a> : Validation Performance Issues</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="4141672">Validation Performance Issues</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="4141674">There are three ways in which validation can cause performance problems: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4141939">The rules themselves are too performance intensive.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4141940">There are too many objects being validated.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4141941">The queries used to determine which objects to validate take too long. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4141938">The following sections discuss the various performance issues.</a></div>
      <div class="H2_-_Heading_2"><a name="4141675">Administration Objects</a></div>
      <div class="B_-_Body"><a name="4141676">Guidewire </a><span class="s_-_strong">strongly</span> recommends that you never mark foreign keys and arrays that point to administration objects—such as <span class="cv_-_computer_voice">User</span>, <span class="cv_-_computer_voice">Group</span>, and <span class="cv_-_computer_voice">Catastrophe</span> objects—as triggering validation. (An administration object is basically any object that can be referenced by a large number of claims.) For example, suppose that you set the <span class="cv_-_computer_voice">catastrophe</span> field on <span class="cv_-_computer_voice">Claim</span> as triggering validation. Then, it would be possible that editing one catastrophe can bring the entire application to a crawl as the Rule engine validates hundreds or even thousands of claims. At the very least, it would make editing those objects nearly impossible. </div>
      <div class="H2_-_Heading_2"><a name="4141677">Query Path Length</a></div>
      <div class="B_-_Body"><a name="4141678">In some cases, an entity can have a large number of foreign keys pointing at it. Triggering validation on the entity </a>can cause performance problems, as the Rule engine must follow each of those chains of relationships during validation. The longer the paths through the tables, the more expensive the queries that ClaimCenter executes anytime that an object changes. Having a consistent direction for graph references helps to avoid this. </div>
      <div class="B_-_Body"><a name="4149984">Triggering validation on parent-pointing foreign keys on entities that have many possible owners (like claim </a>contact) can result in much longer and unintended paths. For example, a number of entities point to <span class="cv_-_computer_voice">ClaimContact</span>, including <span class="cv_-_computer_voice">Claim</span>, <span class="cv_-_computer_voice">Check</span>, and <span class="cv_-_computer_voice">MedicalTreatment</span>, to name a few. Each of these entities then contains links to other entities. Validating the entire web of relationships can have a serious negative performance impact.</div>
      <div class="B_-_Body"><a name="4145579">Guidewire designs the ClaimCenter default configuration to minimize this issue. However, heavy modification </a>of the default configuration using validation trigger overrides can introduce unintended performance issues. To debug performance issues, see <a href="javascript:WWHClickedPopup('rules', 'validation_cc.13.6.html#4145509', '');" title="Debugging the Validation Graph">“Debugging the Validation Graph”</a>.</div>
      <div class="H2_-_Heading_2"><a name="4141679">Links Between Top-level Objects</a></div>
      <div class="B_-_Body"><a name="4141680">As previously described, it is legal to have top-level entities trigger validation on each other. This, however, </a>necessarily increases the number of paths and the number of objects that ClaimCenter must validate on any particular commit.   </div>
      <div class="H2_-_Heading_2"><a name="4141681">Graph Direction Consistency</a></div>
      <div class="B_-_Body"><a name="4141682">In general, Guidewire strongly recommends that you consistently order the validation graph to avoid the previ</a>ously described problems. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4625568">Arrays and foreign keys that represent some sort of containment are candidates for triggering validation. (You </a>can logically consider contacts and vehicles on a claim, for instance, as part of the claim.) </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4625569">Foreign keys that you reference as arrays or that are merely there to indicate association are not considered </a>candidates for triggering validation. (The <span class="cv_-_computer_voice">matter</span> on a <span class="cv_-_computer_voice">ClaimContact</span>, for instance, merely indicates association rather than indicating that the matter is logically part of the contact.)</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="4141683">Illegal Links and Arrays</a></div>
      <div class="B_-_Body"><a name="4141684">Virtual foreign keys—since they are not actually in the database—cannot be set as triggering validation. Any </a>attempt to do so results in an error being reported at application start up. Similarly, any array or link property defined at the application level (such as the <span class="cv_-_computer_voice">Driver</span> link on <span class="cv_-_computer_voice">Claim</span>) that is not in the database cannot be set as triggering validation. (An array is considered to be in the database if the foreign key that forms the array is in the database.) </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>