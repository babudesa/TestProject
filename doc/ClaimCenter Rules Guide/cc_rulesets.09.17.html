<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Transaction Approval</title>
    <link rel="StyleSheet" href="css/cc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16507608">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="cc_rulesets.09.01.html#16507608">Rule Set Categories</a> : Transaction Approval</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="16507608">Transaction Approval</a></div>
      <div class="B_-_Body"><a name="16507609">Transaction approval rules ensure that a user has authorization to submit certain financial transactions. A transac</a>tion set contains one or more transactions that are submitted as a group for approval. If a user attempts to save a transaction set, the Rule engine can ensure that the transaction be marked as requiring approval.</div>
      <div class="B_-_Body"><a name="16507610">The Rule engine calls this rule set to handle transaction approvals of all kinds, not just those that involve </a>authority limits (meaning, not just reserves or payments). Guidewire recommends that you create rules in this rule set that are used only to determine whether a transaction requires approval or not.</div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16507614">The </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.03.html#16623982', '');" title="Approval Routing">Approval Routing</a> and Transaction Approval rule set categories form a pair. The Rule engine calls these rule sets sequentially. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507615">The Rule engine calls the </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.17.html#16507608', '');" title="Transaction Approval">Transaction Approval</a> rule set anytime that you submit any kind of financial transaction. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507619">The Rule engine calls the </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.03.html#16623982', '');" title="Approval Routing">Approval Routing</a> rule set if the transaction approval rules mark the transaction as requiring approval. It also calls this rule set if the transaction authority limit fails such that the transaction needs approval.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16507620">You must ensure that if you approve the activity that you approve the transaction, also. If a transaction requires </a>approval, ClaimCenter uses the Approval Routing rules to determine who must give the approval.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507625">Use the </a><span class="cv_-_computer_voice">requireApproval</span> method to require approval.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16507627">Use </a><span class="cv_-_computer_voice">TransactionSet.requestingUser</span> to determine the person on whose behalf the Rule engine runs the rules. For example, suppose that Andy Applegate initiates the reserve, and the Rule engine routes the transaction to Sue Smith for approval. After Sue approves the transaction, she becomes the <span class="cv_-_computer_voice">requestingUser</span> for the next person in the approval chain.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16507628">Often, the Transaction Approval rules iterate through all the transactions on the </a><span class="cv_-_computer_voice">TransactionSet</span> entity. Never, <span class="e_-_emphasis">ever</span>, use these rules to set a claim to a new value within the course of working with a transaction.</div>
      <div class="H2_-_Heading_2"><a name="16507630">Transaction Approval Rules</a></div>
      <div class="B_-_Body"><a name="16507631">The Transaction Approval rules determine the approval requirements for financial transactions. The Rule engine </a>runs these rules for each transaction to determine whether the transaction requires approval. Note that in a typical TransactionSet approval rule, the rule condition requires a check for the subtype of the transaction set (for example, <span class="cv_-_computer_voice">TransactionSet.subtype == “checkset”</span>). This is because all created transaction sets—regardless of subtype—are passed to the same approval rules.</div>
      <div class="B_-_Body"><a name="16576658">In the following example, the rule requires special approval from finance if the payee has an IRS lien (as previ</a>ously entered into ClaimCenter).</div>
      <div class="HS_-_Head_Sub"><a name="16576659">Condition</a></div>
      <div class="CS_-_Code_Single_Line"><a name="16507634">TransactionSet.Subtype=="checkset"</a></div>
      <div class="HS_-_Head_Sub"><a name="16507635">Actions</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16507636">for(pye in (TransactionSet as CheckSet).PrimaryCheck.Payees) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507637">&nbsp;</a>&nbsp;var cntr : Number = 0</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507638">&nbsp;</a>&nbsp;while( cntr &lt; IRSLienIDs.length ) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507639">&nbsp;</a>&nbsp;&nbsp;&nbsp;if( pye.Claimcontact.Contact.TaxID == IRSLienIDs[cntr] ) { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507640">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransactionSet.requireApproval("Reason Code:00001 : Payee " +</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507641">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pye.ClaimContact.Contact.DisplayName + " is in the list of Payees with IRS Liens.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507642">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please resolve the lien, then approve this payment.")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507643">&nbsp;</a>&nbsp;&nbsp;&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507644">&nbsp;</a>&nbsp;cntr = cntr + 1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16507645">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16507646">}</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>