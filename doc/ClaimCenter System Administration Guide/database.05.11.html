<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Purging Unwanted Claims</title>
    <link rel="StyleSheet" href="css/database.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="database.05.01.html#1237793">Configuring and Maintaining the ClaimCenter Database</a> : <a class="WebWorks_Breadcrumb_Link" href="database.05.07.html#1237793">Maintaining the Database</a> : Purging Unwanted Claims</span></div>
    <hr align="left" />
    <div>
      <div class="H2B_-_Heading_2_Break"><a name="1237793">Purging Unwanted Claims</a></div>
      <div class="B_-_Body"><a name="1237794">You can purge unwanted claims from the database. Unwanted claims could be claims that are older than a certain </a>threshold, or they could be claims that were mistakenly or incorrectly entered into ClaimCenter. You can also store a date on the claim (<span class="cv_-_computer_voice">Claim.PurgeDate</span>) that records when the claim can be purged. ClaimCenter includes rules you can use to set the claim purge date when the claim is archived and to null the date if the claim is restored. See <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16832082', '');" title="Archive">“Archive Claim Purge Rules” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16832082', '');" title="Archive">Rules Guide</a></span>.</div>
      <div class="B_-_Body"><a name="1237798">Purging a claim permanently removes the claim from the active database. You will never again be able to find the </a>claim by searching, and you will never be able to restore it. Purging removes all traces of the claim from the database. You can not purge from the archive database. Instead, first restore the claim you want to purge to the active database.</div>
      <div class="B_-_Body"><a name="1237802">For ClaimCenter to purge a claim, the claim must meet all of these conditions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237803">It must be in the active, not archive database. To purge a claim in the archive database, you must first restore </a>the claim to the active database.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237811">Unless it has draft status, it can not have any active (unanswered) messages, or ClaimCenter throws an </a><span class="cv_-_computer_voice">ActiveMessageException</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237815">Unless it has draft status, it can not be part of a workflow, or ClaimCenter throws an </a><span class="cv_-_computer_voice">ActiveWorkflowException</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1237816">These conditions do not prevent you from purging an open claim. </a></div>
      <div class="B_-_Body"><a name="1237817">As you purge a claim:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237821">All traces of the claim disappear from the main database. ClaimCenter uses the archive claim graph, which </a>identifies all tables and rows associated with the claim for archiving, for purging.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237825">ClaimCenter removes the claim from all claim associations. If there is only one claim remaining in the asso</a>ciation, ClaimCenter also removes the association itself.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237832">ClaimCenter adjusts all policies’ aggregate limits to remove all contributions made by the purged claim.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237836">If there are no policies associated with the claim’s policy period, ClaimCenter removes the policy period.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1237840">If claims are held in an external database, ClaimCenter sends it an event message to request the purge of each </a>claim.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1237844">Before doing a purge, backup the ClaimCenter database. </a></div>
      <div class="B_-_Body"><a name="1237845">Purge claims either from the command line or by calling a SOAP API. </a></div>
      <div class="B_-_Body"><a name="1237846">To use the SOAP API, call </a><span class="cv_-_computer_voice">IMaintenanceToolsAPI.startBatchProcess("</span><span class="p_-_parameter">process</span><span class="cv_-_computer_voice">")</span> on the batch server, for example, <span class="cv_-_computer_voice">IMaintenanceToolsAPI.startBatchProcess("purge")</span>. See also <a href="javascript:WWHClickedPopup('integration', 'webservices.04.01.html#3412469', '');" title="Web Services (SOAP)">“Web Services (SOAP)” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices.04.01.html#3412469', '');" title="Web Services (SOAP)">Integration Guide</a></span> and <a href="javascript:WWHClickedPopup('integration', 'webservices-general.06.1.html#3386593', '');" title="General Web Services">“General Web Services” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices-general.06.1.html#3386593', '');" title="General Web Services">Integration Guide</a></span>.</div>
      <div class="HS_-_Head_Sub"><a name="1237853">To purge a claim from the command line</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1237857">Put the ClaimCenter server into the maintenance run level with the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1237858">system_tools –password </a><span style="font-style: italic;">password</span> –maintenance</div>
      <div class="LP_-_List_Para"><a name="1237862">The maintenance run level prevents ClaimCenter from accessing the claim during the purge operation. If you </a>run a clustered configuration, place all servers in the cluster into the maintenance run level. For more information on system run levels and modes, see </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1237863">Use </a><span class="cv_-_computer_voice">maintenance_tools</span> to mark claims for purging. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1237864">Mark a single claim for purging by listing its claim number:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1237866">maintenance_tools -password </a><span style="font-style: italic;">password</span> -markclaimforpurge -claim <span style="font-style: italic;">claim_number</span></div>
      <div class="LP_-_List_Para"><a name="1237867">Mark multiple claims by creating a text file containing a list of claim numbers separated by commas or new </a>lines. Then mark them all for purging using the following command:</div>
      <div class="CS_-_Code_Single_Line"><a name="1237868">maintenance_tools -password </a><span style="font-style: italic;">password</span> -markclaimsforpurge -file <span style="font-style: italic;">file_name</span></div>
      <div class="LP_-_List_Para"><a name="1237869">After you mark claims for purging, you can no longer view or edit those claims. However, the claims still </a>exist in the ClaimCenter database until you actually purge them.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1237873">You can then purge the marked claims using the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1237874">maintenance_tools -password </a><span style="font-style: italic;">password</span> –startprocess purge</div>
      <div class="LP_-_List_Para"><a name="1237881">ClaimCenter permanently deletes all claims that you marked for purging from the ClaimCenter database. </a>ClaimCenter leaves a <span class="cv_-_computer_voice">ClaimInfo</span> entity for purged claims.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1237885">After the purge is complete, bring ClaimCenter back into multiuser mode with the following command: </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1237886">system_tools –password </a><span style="font-style: italic;">password</span> –multiuser</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>