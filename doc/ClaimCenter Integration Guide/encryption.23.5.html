<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Encryption Features for Staging Tables</title>
    <link rel="StyleSheet" href="css/encryption.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="encryption.23.1.html#2388106">Encryption Integration</a> : Encryption Features for Staging Tables</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="2388106">Encryption Features for Staging Tables</a></div>
      <div class="B_-_Body"><a name="2387312">If you are importing records using staging table import, you must appropriately encrypt your staging table data </a>before importing them into ClaimCenter. For information about staging table import, see <a href="javascript:WWHClickedPopup('integration', 'databaseimport.26.1.html#1896426', '');" title="Importing from Database Staging Tables">"Importing from Database Staging Tables"</a>.</div>
      <div class="B_-_Body"><a name="2387319">To support this feature, there is a special tool to run to encrypt any necessary data in staging tables before import. </a>This tool only encrypts properties specifically marked as encrypted.</div>
      <div class="B_-_Body"><a name="2387320">Staging table integrity checks never affect encrypted properties. You can run integrity checks in both cases:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2387321">integrity checks with unencrypted data, in other words if the encryption tool has not yet run</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2387322">integrity checks with encrypted data, in other words after the encryption tool has run</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2387323">The system prevents important properties from being encrypted if they would interfere with system operation or </a>integrity checks. (See <a href="javascript:WWHClickedPopup('integration', 'encryption.23.2.html#2389258', '');" title="Encryption Integration Overview">"Encryption Integration Overview"</a> for more details.)</div>
      <div class="B_-_Body"><a name="2387327">Guidewire strongly recommends you encrypt your data only </a><span class="s_-_strong">after</span> you have completed your data conversion tools and your data passes all the integrity checks with no errors. </div>
      <div class="B_-_Body"><a name="2387328">There are two ways to encrypt your data with web services:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2387329">Synchronously using </a><span class="cv_-_computer_voice">ITableImportAPI.encryptDataOnStagingTables()</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2387330">This method takes no arguments and returns nothing.</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2387331">Asynchronously using </a><span class="cv_-_computer_voice">ITableImportAPI.encryptDataOnStagingTablesAsBatchProcess()</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2387332">This method takes no arguments and returns a process ID (</a><span class="cv_-_computer_voice">ProcessID</span>). </div>
      <div class="B_-_Body"><a name="2387333">If you use the asynchronous version, you can use the returned process ID to check the status of the encryption </a>batch process or to terminate the encryption batch process. Use this process ID with methods on the web service API <span class="cv_-_computer_voice">IMaintenanceToolsAPI</span>, and see to <a href="javascript:WWHClickedPopup('integration', 'webservices-general.06.4.html#2586381', '');" title="Maintenance Web Services">"Maintenance Web Services"</a> for details.</div>
      <div class="B_-_Body"><a name="2387337">Suppose you have existing production data and you modify the data model. If you properly increment the data </a>model version number, the system automatically encrypts your data the first time you launch the server as part of its standard upgrade process. This drops your staging tables during this process if you are using staging table import. Consequently, perform your basic data encryption data model changes and upgrade before beginning any staging table import work.</div>
      <div class="B_-_Body"><a name="2387341">If you want to change your encryption algorithm, see </a><a href="javascript:WWHClickedPopup('integration', 'encryption.23.3.html#2388115', '');" title="Changing Your Encryption Algorithm Later">"Changing Your Encryption Algorithm Later"</a>.</div>
      <div class="HS_-_Head_Sub"><a name="2387342">To encrypt data in staging tables:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2387346">Write and register an encryption plugin as discussed in </a><a href="javascript:WWHClickedPopup('integration', 'encryption.23.2.html#2389258', '');" title="Encryption Integration Overview">"Encryption Integration Overview"</a>. Carefully upgrade your existing production data after your data model change. If you changed your encryption algorithm, see <a href="javascript:WWHClickedPopup('integration', 'encryption.23.3.html#2388115', '');" title="Changing Your Encryption Algorithm Later">"Changing Your Encryption Algorithm Later"</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2387350">Perform integrity checks until they all pass.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2387351">Encrypt your data using the encryption APIs mentioned earlier.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2387352">If the encryption process succeeds, be careful not to run the process a second time </a>because you would corrupt your data by encrypting already-encrypted data. If the encryption process fails in any way, it happens in one database transaction so partial work rolls back. You can safely repeat the process after you fixed any errors. For example, if the encryption plugin changes the length of the data field, this process could fail at the database level and throw an exception. All partial changes roll back due to the error.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2387356">Call the normal web service APIs or command line tools to </a><span class="s_-_strong">load</span> the tables into ClaimCenter using standard tools like the web service method <span class="cv_-_computer_voice">integrityCheckStagingTableContentsAndLoadSourceTables</span>. These methods rerun integrity checks and do not behave differently with encrypted properties.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2387357">Guidewire strongly recommends you </a><span class="s_-_strong">not</span> encrypt your staging table property level encryption data until after you have completed your integrity checks and get no errors</div>
      <div class="B_-_Body"><a name="2387360">If you ever need to change your encryption algorithm after data is encrypted, see </a><a href="javascript:WWHClickedPopup('integration', 'encryption.23.3.html#2388115', '');" title="Changing Your Encryption Algorithm Later">"Changing Your Encryption Algorithm Later"</a>.</div>
      <div class="B_-_Body"><a name="2386780">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>