<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Mapping Typecodes to External System Codes</title>
    <link rel="StyleSheet" href="css/webservices-general.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="webservices-general.06.1.html#3387660">General Web Services</a> : Mapping Typecodes to External System Codes</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="3387660">Mapping Typecodes to External System Codes</a></div>
      <div class="B_-_Body"><a name="3387664">For an overview of typecodes, see </a><a href="javascript:WWHClickedPopup('integration', 'webservices.04.10.html#3401829', '');" title="New Entity Syntax Depends on Context">“New Entity Syntax Depends on Context”</a>.</div>
      <div class="B_-_Body"><a name="3387613">If possible, configure the ClaimCenter typelists to include typecode values that match those already used in </a>external systems. If you can do that, you do not need to map codes between systems. </div>
      <div class="B_-_Body"><a name="3400491">However, in many installations this is infeasible and you must map between internal codes and external system </a>codes. For example, you might have multiple external legacy systems and they do not match each other, so ClaimCenter can only match one system at maximum.</div>
      <div class="B_-_Body"><a name="1402850">ClaimCenter provides a built-in utility to support simple typecode mappings. The first step is using the utility is </a>to define the mappings. The mappings go into the <span class="cv_-_computer_voice">ClaimCenter/modules/configuration/config/typelists/</span><span class="cv_-_computer_voice">mapping/typecodemapping.xml</span> file. The following is a simple example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1402851">&lt;?xml version="1.0"?&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1402852">&lt;typecodemapping&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1402853"> &lt;namespacelist&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1402854">  &lt;namespace name="ns1" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447472">  &lt;namespace name="ns2" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447473">  &lt;/namespacelist&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447474">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447478">  &lt;typelist name="LossType"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447479">    &lt;mapping typecode="PR" namespace="ns1" alias="Prop" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1447480">    &lt;mapping typecode="PR" namespace="ns2" alias="CPL" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1402861">  &lt;/typelist&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1402862">&lt;/typecodemapping&gt;</a></PRE>
      <div class="B_-_Body"><a name="1402863">The first section of the mapping file lists the set of </a><span class="e_-_emphasis">namespaces</span>. These namespaces correspond to the different external systems you need to map. For example, if the mappings are different between two external systems, then each has its own namespace.</div>
      <div class="B_-_Body"><a name="3400605">The rest of the mapping file contains sections for each typelist that requires mapping. Within the typelist, add </a>elements for mapping entries<span class="ri_-_run_in_header">.</span> Each mapping entry contains:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3400609">Typecode code.</a></span> The ClaimCenter typecode to map.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3400610">Namespace.</a></span> The namespace is the name of the external system in the XML file and used by any tool that translates type codes. You may wish to define your namespace strings with your company name and a system name. For example, for the company name ABC for a check printing service, you might use <span class="cv_-_computer_voice">"ABC:checkprint</span><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">"</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3387210">Typecode alias.</a></span> The <span class="e_-_emphasis">alias</span> is the value for this typecode in the external system. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3387275">There can be multiple mapping entries for the same typecode and namespace. This supports situations in which </a>multiple external codes map to the same ClaimCenter code during data import.</div>
      <div class="HS_-_Head_Sub"><a name="3387279">Using Web Services to Translate Typecodes</a></div>
      <div class="B_-_Body"><a name="3387280">After you define the mappings, you can translate between internal and external codes using the following </a><span class="cv_-_computer_voice">ITypelistToolsAPI</span> web service interface methods:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1402876">getAliasByInternalCode</a></span> – Finds the alias, if any, for a given typelist, code, and namespace. If there is no alias for that code and namespace, returns <span class="cv_-_computer_voice">null</span>. The <span class="cv_-_computer_voice">null</span> return value indicates that the internal and external codes are the same.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3400673">getTypeKeyByAlias </a></span>– Finds the internal typecode, if any, for a given typelist, alias, and namespace. This returns a data object that contains the typecode’s code, name, and description properties. If no mapping is found, there are two possible meanings. It might indicate that the external and internal codes are the same. However, it indicate that the mapping is missing from your mapping code. Use the <span class="cv_-_computer_voice">getTypelistValues</span> method to verify that the external code is a valid internal code in this situation.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1402878">getAliasesByInternalCode</a></span> - During exports use this to get an array of <span class="cv_-_computer_voice">String</span> values that represent external aliases to internal typecodes given a typelist, a namespace, and an internal code.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1402879">getTypeKeysByAlias</a></span> - During imports, use this to get an array of <span class="cv_-_computer_voice">TypeKeyData</span> objects given a typelist, a namespace, and an alias.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3387169">getTypelistValues</a></span> - Given the name of a typelist, returns an array of all the typekey instances contained within that typelist.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3387170">For example, suppose you want to translate a typecode from the </a><span class="cv_-_computer_voice">Contact</span> typelist from SOAP. Use the following Java web service client code to translate the code <span class="cv_-_computer_voice">ATTORNEY</span> for the external system <span class="cv_-_computer_voice">ABC:SYSTEM1</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3399410">tlAPI = (ITypelistToolsAPI) APILocator.getAuthenticatedProxy(ITypelistToolsAPI.class, url, "su", "gw");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3399448">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3399454">typekeyString = tlAPI.getAliasByInternalCode("Contact", "ABC:system1", "ATTORNEY");</a></PRE>
      <div class="HS_-_Head_Sub"><a name="3399393">Using Gosu or Java to Translate Typecodes</a></div>
      <div class="B_-_Body"><a name="3387151">Typecode translation may occur very frequently in Gosu or Java plugin code. Calling the SOAP API lowers </a>server performance in such cases. For high performance from Gosu and Java, always use a related utility class called <span class="cv_-_computer_voice">TypecodeMapperUtil</span> that provides similar methods to the SOAP API such as <span class="cv_-_computer_voice">getInternalCodeByAlias</span>. For details of other plugin utilities, see <a href="javascript:WWHClickedPopup('integration', 'plugins.09.06.html#2557913', '');" title="Deploying Java Plugins">“Java Plugin Utilities”</a>.</div>
      <div class="B_-_Body"><a name="2719120">From Java, translate a typecode with </a><span class="cv_-_computer_voice">TypecodeMapperUtil</span> with code such as:</div>
      <div class="CS_-_Code_Single_Line"><a name="2719121">TypeKey tk = TypecodeMapperUtil.getInternalCodeByAlias("Contact", "ABC:system1", "ATTORNEY");</a></div>
      <div class="B_-_Body"><a name="3386708">From Gosu, translate a typecode with </a><span class="cv_-_computer_voice">TypecodeMapperUtil</span> with code such as:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3386729">var mapper = gw.api.util.TypecodeMapperUtil.getTypecodeMapper()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3386730">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3386739">var mycode = mapper.getInternalCodeByAlias( "Contact", "ABC:system1", "ATTORNEY" )</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>