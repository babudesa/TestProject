<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>New Entity Syntax Depends on Context</title>
    <link rel="StyleSheet" href="css/webservices.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="webservices.04.01.html#3401829">Web Services (SOAP)</a> : New Entity Syntax Depends on Context</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="3401829">New Entity Syntax Depends on Context</a></div>
      <div class="B_-_Body"><a name="3401833">It is important to understand that any ClaimCenter entities that are parameters or return values of SOAP APIs </a>always refer to SOAP entities. The SOAP entities contain data-only versions of entities such as <span class="cv_-_computer_voice">Claim</span>. This is true even if calling SOAP APIs from Java code such as Java plugins that call out to SOAP APIs.</div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="3401837">If you use SOAP APIs from Java code, entities you use with web services are always </a>SOAP entities, not full entities. This is true even if calling web services hosted on the same machine from Java plugin code or Java code called from Gosu. For a diagram of entity access, refer to the diagram in <a href="javascript:WWHClickedPopup('integration', 'webservices.04.02.html#3312900', '');" title="Web Service and SOAP Entity Overview">“Web Service and SOAP Entity Overview”</a>.</div>
      <div class="B_-_Body"><a name="3401841">If you write Gosu or Java code with full entities that connects to web services, be aware that SOAP entities and </a>full Java entities are in separate package hierarchies. You may need to write code that manually copies properties or object graphs from a SOAP entity to a Gosu or Java full entity, or the other direction, or both.</div>
      <div class="B_-_Body"><a name="3401842">For a high-level overview of entity differences and different entity access types, see the diagram in </a><a href="javascript:WWHClickedPopup('integration', 'overview.03.5.html#2082936', '');" title="Required Generated Files for Integration">“Required Generated Files for Integration”</a>. For Java plugins, also see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.07.html#2073829', '');" title="Using Java Entity Libraries">“Using Java Entity Libraries” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.07.html#2073829', '');" title="Using Java Entity Libraries">Gosu Reference Guide</a></span>.</div>
      <div class="B_-_Body"><a name="3401849">The following table summaries important differences in the way you create SOAP entities versus full entities.</a></div>
      <div class="T_-_Table"><a name="3401917">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3401853">Language</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3401855">Entity</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3401857">Context of Use</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="3401859">Code to create new entity</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401861">Gosu</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401863">Full</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401865">Most typical Gosu code, </a>including writing your own web service in Gosu if your code is a SOAP server. </div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401867">Simply use the </a><span class="cvt_-_computer_voice_table">new</span> keyword:</div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3401868">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">var myInstance = new MyClass()</span></div>
            <div class="TT_-_Table_Text"><a name="3401869">In Gosu, some entities have multiple versions of the </a><span class="cv_-_computer_voice">new</span> constructor. In other words, sometimes you can pass certain parameters inside the parentheses, and there are multiple ways you can create the entity. Refer to the Gosu API Reference in Studio in the <span class="uit_-_UI_element_table">Help</span> menu for details of each Guidewire entity.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401871">Gosu</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401873">SOAP </a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401875">Creating a SOAP entity </a>using an incoming web service not hosted by ClaimCenter. Also, in a more rare case, hosted by a different Guidewire application if you use more than one Guidewire application. In this case your code is a SOAP client.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401880">Use the regular </a><span class="cvt_-_computer_voice_table">new</span> keyword with the correct namespace:</div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3401881">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">var myInstance = new soap.</span><span class="pst_-_parameter_in_code_snippets_table">SERVICENAME</span><span class="cvt_-_computer_voice_table">.entity.MyClass()</span></div>
            <div class="TT_-_Table_Text"><a name="3401884">For more information about this syntax, see </a><a href="javascript:WWHClickedPopup('integration', 'webservice-consuming.html#2001714', '');" title="Calling Web Services from Gosu">“Calling Web Services from Gosu”</a>. For calling web services on the same server, see that same section.</div>
            <div class="TT_-_Table_Text"><span class="s_-_strong"><a name="3469902">WARNING:</a></span> In general, avoid calling locally-hosted SOAP APIs from within a plugin or the rules engine in production systems. Be careful about any SOAP calls to the same server. If the SOAP API hosted locally modifies entity data and commits the bundle, the current transaction does not always detect and reload local data. Instead, refactor your code to avoid this case. For example, write a Gosu class that performs a similar function as the web service but that does not commit the bundle. This type of refactoring also results in higher server performance. If you have questions about how to convert some particular use locally-hosted SOAP APIs from plugins or rules, contact Customer Support. This is true for all types of local loopback SOAP calls to the same server. </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401887">Java</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3401889">Full </a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401891">Code in a Java plugin or </a>from a Java class called from Gosu using the ClaimCenter entity libraries.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401896">Use the entity creation utility </a><span class="cvt_-_computer_voice_table">EntityFactory</span>:</div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3543842">&nbsp;</a></span><span class="cvt_-_computer_voice_table">EntityFactory.getEntityFactory().newEntity(MyClass.class);</span></div>
            <div class="TT_-_Table_Text"><a name="3543837">For more information about </a><span class="cvt_-_computer_voice_table">EntityFactory</span>, see <a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.01.html#2005457', '');" title="Java and Gosu">“Java and Gosu” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'java-gosu.08.01.html#2005457', '');" title="Java and Gosu">Gosu Reference Guide</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3408688">Java</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3408690">SOAP</a></span></div>
            <div class="TT_-_Table_Text"><a name="3469915">(from </a>external systems)</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3408758">External integration code </a>written in Java using and compiling against Guidewire entity libraries. This is the typical case for Java code that calls SOAP. In this case your code is a SOAP client.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3408695">Simply use the </a><span class="cvt_-_computer_voice_table">new</span> keyword:</div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3408699">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">import com.guidewire.cc.webservices.entity.MyClass;</span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3408700">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">...</span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="3408701">&nbsp;</a></span><span class="cvt_-_computer_voice_table">&nbsp;</span><span class="cvt_-_computer_voice_table">binvoice = new MyClass();</span></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3469937">Java</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3469939">SOAP</a></span></div>
            <div class="TT_-_Table_Text"><a name="3469940">(from </a>same server)</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3404882">Generally speaking, avoid </a>writing Java code that accesses SOAP APIs on the same server. For example, from plugins or rule sets. This is <span class="s_-_strong">not</span> generally recommended. See the warning in the column to the right.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="3401916">Same syntax as the previous row. This is much lower performance </a>than normal native Java calls to entity domain methods. This may require copying many properties from SOAP entities to full entities, depending on what you are doing.</div>
            <div class="TT_-_Table_Text"><span class="s_-_strong"><a name="3450375">WARNING:</a></span> In general, avoid calling locally-hosted SOAP APIs from within a plugin or the rules engine in production systems. Be careful about any SOAP calls to the same server. If the SOAP API hosted locally modifies entity data and commits the bundle, the current transaction does not always detect and reload local data. Instead, refactor your code to avoid this case. For example, write a Gosu class that performs a similar function as the web service but that does not commit the bundle. This type of refactoring also results in higher server performance. If you have questions about how to convert some particular use locally-hosted SOAP APIs from plugins or rules, contact Customer Support. This is true for all types of local loopback SOAP calls to the same server. </div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="3401921">From the perspective of Java code connecting to ClaimCenter web services through SOAP API generated </a>libraries, the API class accessed through Java is always in the package <span class="cv_-_computer_voice">com.guidewire.cc.webservices.api.*</span>. This is independent of the original package of the Gosu class that implements the web service as defined within Studio. </div>
      <div class="B_-_Body"><a name="3401926">On a related note, from the perspective of Gosu code that connects to an externally-hosted SOAP API, the API </a>class is always in the package <span class="cv_-_computer_voice">soap.</span><span class="ps_-_parameter_in_code_snippets">SERVICENAME</span><span class="cv_-_computer_voice">.api</span>. This is independent of the original package of the class that implements the web service in the remote system.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>