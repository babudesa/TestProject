<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Activity APIs</title>
    <link rel="StyleSheet" href="css/webservices-claim.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="webservices-claim.07.1.html#3404190">Claim-related Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservices-claim.07.2.html#3404190">Claim APIs</a> : Activity APIs</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H2B_-_Heading_2_Break"><a name="3404190">Activity APIs</a></div>
      <div class="B_-_Body"><a name="3405297">In the </a><span class="cv_-_computer_voice">ClaimAPI</span> web service interface, there are several activity-related methods.</div>
      <div class="H3_-_Heading_3"><a name="3405298">Adding Activities from Patterns</a></div>
      <div class="B_-_Body"><a name="3405299">To create an activity from an activity pattern, call the </a><span class="cv_-_computer_voice">addActivityFromPattern</span> method. It attempts to generate an activity from the given pattern. The method takes the following two parameters:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3404947">the claim public ID</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3404959">the activity pattern public ID</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3404936">The activity pattern must be from the list of activity patterns for the given claim that meet the following criteria:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3404595">if the claim is closed, then the activity pattern must be available to closed claims</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3404596">the activity pattern’s loss type must either be </a><span class="cv_-_computer_voice">null</span> or must match the claim’s loss type.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3404599">If the activity pattern does not match the above criteria, the API throws an </a><span class="cv_-_computer_voice">EntityStateException</span> exception.</div>
      <div class="B_-_Body"><a name="3404673">The new activity is initialized with the following fields from the activity pattern:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3404697">Pattern</a></span>, <span class="cv_-_computer_voice">Type</span>, <span class="cv_-_computer_voice">Subject</span>, <span class="cv_-_computer_voice">Description</span>, <span class="cv_-_computer_voice">Mandatory</span>, <span class="cv_-_computer_voice">Priority</span>, <span class="cv_-_computer_voice">Recurring</span>, <span class="cv_-_computer_voice">Command</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3404604">ClaimCenter calculates the activity target using the following fields in the pattern:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3404776">targetStartPoint</a></span>, <span class="cv_-_computer_voice">TargetDays</span>, <span class="cv_-_computer_voice">TargetHours</span>, and <span class="cv_-_computer_voice">TargetIncludeDays</span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3404807">The activity’s escalation date is calculated using the following fields in the pattern:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3404606">escalationStartPoint</a></span>, <span class="cv_-_computer_voice">EscalationDays</span>, <span class="cv_-_computer_voice">EscalationHours</span>, and <span class="cv_-_computer_voice">EscalationIncludeDays</span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3404838">If those fields are not included in the activity pattern, then the ClaimCenter does not set the target and/or escala</a>tion date. If the target date is calculated to be after the escalation date, then the target date is set to be the same as the escalation date.</div>
      <div class="B_-_Body"><a name="3404610">The activity’s claim ID is set to the given claim ID, and the exposure ID is set to </a><span class="cv_-_computer_voice">null</span>. The activity’s previous user ID property is updated with the current (SOAP) user.</div>
      <div class="B_-_Body"><a name="3404613">The newly created activity is then assigned to a group and/or user using the assignment engine. Finally, </a>ClaimCenter persists the activity in the database. The method returns public ID of the newly created activity.</div>
      <div class="B_-_Body"><a name="3404966">For example (from Java):</a></div>
      <div class="CS_-_Code_Single_Line"><a name="3404977">claimAPI.addActivityFromPattern("abc:123", "abc:emailnote1");</a></div>
      <div class="B_-_Body"><a name="3405126">There is a variant of this method that allows you to set arbitrary fields in the new activity. To do this, call the </a><span class="cv_-_computer_voice">addActivityFromPatternWithOverride</span> method instead of <span class="cv_-_computer_voice">addActivityFromPattern</span>. Pass an additional parameter containing array of field values to apply to the activity. These field values are in the form of <span class="cv_-_computer_voice">FieldValue</span> objects, which simply encapsulate <span class="cv_-_computer_voice">Field</span> and <span class="cv_-_computer_voice">Value</span> properties.</div>
      <div class="B_-_Body"><a name="3405286">For example to set the activity priority (from Java):</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405128">FieldValue[] changeFields; </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405189">FieldValue priorityValue = new FieldValue();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405087">priorityValue.setName("priority")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405088">priorityValue.setValue("high");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405225">changeFields[0] = priorityValue</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3405382">publicID = claimAPI.addActivityFromPatternWithOverride("abc:123", "abc:emailnote1", changeFields);</a></PRE>
      <div class="HS_-_Head_Sub"><a name="3405383">Claimant Activities</a></div>
      <div class="B_-_Body"><a name="3405384">You can add a claimant activity using the method </a><span class="cv_-_computer_voice">addClaimantActivityFromPattern</span>. It is similar to the previous methods for adding activities, but has an extra parameter. Pass the claimant public ID as the second parameter, in between the claim public ID and the activity pattern ID.</div>
      <div class="H3_-_Heading_3"><a name="3404442">Skipping and Completing Activities</a></div>
      <div class="B_-_Body"><a name="3404566">To complete an activity, call the </a><span class="cv_-_computer_voice">completeActivity</span> method. It simply takes a public ID for the activity. The claim must have the <span class="cv_-_computer_voice">VIEW_CLAIM</span>, <span class="cv_-_computer_voice">CREATE_ACTIVITY</span> permissions. For example (from Java):</div>
      <div class="CS_-_Code_Single_Line"><a name="3404443">claimAPI.completeActivity("abc:1234");</a></div>
      <div class="B_-_Body"><a name="3404455">To skip an activity, call the </a><span class="cv_-_computer_voice">skipActivity</span> method. It simply takes a public ID for the activity. The claim must have the <span class="cv_-_computer_voice">VIEW_CLAIM</span>, <span class="cv_-_computer_voice">CREATE_ACTIVITY</span> permissions. For example (from Java):</div>
      <div class="CS_-_Code_Single_Line"><a name="3404456">claimAPI.skipActivity("abc:1234");</a></div>
      <div class="B_-_Body"><a name="3404284">Both the </a><span class="cv_-_computer_voice">completeActivity</span> and <span class="cv_-_computer_voice">skipActivity</span> methods run the standard rule sets for skipped or completed activities, and set the <span class="cv_-_computer_voice">CloseDate</span>/<span class="cv_-_computer_voice">CloseUser</span> properties.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>