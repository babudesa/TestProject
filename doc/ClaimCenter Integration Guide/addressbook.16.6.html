<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>ContactCenter-specific Web Services</title>
    <link rel="StyleSheet" href="css/addressbook.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="addressbook.16.1.html#2152994">Address Book Integration</a> : ContactCenter-specific Web Services</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="2152994">ContactCenter-specific Web Services</a></div>
      <div class="B_-_Body"><a name="2152996">The ContactCenter application includes a web services interface called </a><span class="cv_-_computer_voice">IContactAPI</span>. This interface includes several methods to search for contacts, to return contact data, and to update records from other applications. This web services API is used by the inter-application communication plugin, which is included with ClaimCenter to support the <span class="ui_-_UI_element">Address Book</span> tab and other parts of the user interface. </div>
      <div class="B_-_Body"><a name="2153000">However, you can use this API interface to load data from other data sources, to query contacts, or to update </a>contacts. For example, you could write a command line tool that allows an external system to add new contacts based on new business data from another part of the company.</div>
      <div class="B_-_Body"><a name="2153002">The features of the </a><span class="cv_-_computer_voice">IContactAPI</span> interface include the following, discussed in following sections:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'addressbook.16.6.html#2153020', '');" title="ContactCenter-specific Web Services" name="2153006">"Retrieving Contacts and Their Relationships"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'addressbook.16.6.html#2153197', '');" title="ContactCenter-specific Web Services" name="2153010">"Getting a Contact-related Record Public ID from Its Link ID"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'addressbook.16.6.html#2153042', '');" title="ContactCenter-specific Web Services" name="2153014">"Creating, Updating, and Deleting Records"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'addressbook.16.6.html#2153153', '');" title="ContactCenter-specific Web Services" name="2153018">"Finding Contact Unique Matches of a Contact"</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H2_-_Heading_2"><a name="2153020">Retrieving Contacts and Their Relationships</a></div>
      <div class="B_-_Body"><a name="2153022">If you want to retrieve properties from contact records, write a custom web services API (a SOAP API) that </a>extracts the desired subset of entity contact information. For example, from a public ID, the API could extract properties from an <span class="cv_-_computer_voice">ABContact</span> record and return it from ContactCenter to the SOAP client. </div>
      <div class="B_-_Body"><a name="2153023">For typical cases, return only certain properties or subobjects, such as the properties to display or edit the record. </a>Design your integration point accordingly to return only the necessary data, which reduces bandwidth and server resources. </div>
      <div class="B_-_Body"><a name="2153024">In some cases, you might want to create new entities or Gosu classes to encapsulate your custom data.</a></div>
      <div class="B_-_Body"><a name="2153025">If retrieving contact records, you can optionally retrieve related contacts, referred to generally within Guidewire </a>applications as <span class="e_-_emphasis">relationships</span>. For example, to retrieve a contact’s parent/guardian contact information or employer contact information, specify these types of relationships. Finally, design web services for each integration point to return that information if it exists.</div>
      <div class="B_-_Body"><a name="2153027">To use relationship retrieval, you must understand the difference between what Guidewire calls </a><span class="e_-_emphasis">source</span> and <span class="e_-_emphasis">target</span> relationships. These terms are ways of using the relationship identification codes for relationships such as <span class="e_-_emphasis">parent/</span><span class="e_-_emphasis">guardian</span> and <span class="e_-_emphasis">employer</span>, but also specify the directionality of the relationship.</div>
      <div class="B_-_Body"><a name="2153028">The relationship codes are defined in the </a><span class="cv_-_computer_voice">ContactRel</span> enumeration. For example, it includes the relationship code <span class="cv_-_computer_voice">TC_employer</span>. Suppose you want the record for someone named John&nbsp;Smith. If you want to return John&nbsp;Smith’s employers, specify <span class="cv_-_computer_voice">TC_employer</span> as a <span class="e_-_emphasis">target relationship</span>. If you want to return John&nbsp;Smith’s employees, specify <span class="cv_-_computer_voice">TC_employer</span> as a <span class="e_-_emphasis">source relationship</span>. </div>
      <div class="B_-_Body"><a name="2153032">A </a><span class="e_-_emphasis">target relationship</span> describes the relationship if the <span class="cv_-_computer_voice">ContactRel</span> enumeration description fits it into the sentence with the following structure:</div>
      <div class="LP_-_List_Para"><a name="2153033">“I want to retrieve a contact and the ______ of the contact, if any is found.”</a></div>
      <div class="B_-_Body"><a name="2153034">For example, for the employee relationship (</a><span class="cv_-_computer_voice">employer</span>), the sentence would be:</div>
      <div class="LP_-_List_Para"><a name="2153035">“I want to retrieve a contact and the </a><span class="s_-_strong">employer</span> of the contact, if any is found.”</div>
      <div class="B_-_Body"><a name="2153036">If your desired request, the meaning is the opposite of that relationship (such as employee instead of employer), </a>specify the relationship as a <span class="e_-_emphasis">source relationship</span>.</div>
      <div class="B_-_Body"><a name="2153037">While retrieving a contact record, you might want both directions of relationships. For example, you might want </a>to simultaneously retrieve all of a company’s employees and the company’s primary contact. Use the <span class="cv_-_computer_voice">ContactRel.EMPLOYER</span> source relationship and the <span class="cv_-_computer_voice">ContactRel.PRIMARYCONTACT</span> target relationship.</div>
      <div class="B_-_Body"><a name="2153038">However, it is important that each integration point have custom SOAP APIs that returns only the desired rela</a>tionships. Do not allow your API to attempt to serialize (flatten) a potentially huge graph of inter-related entities over the SOAP protocol. If you write a SOAP API that returns return all relationships or returns an entire <span class="cv_-_computer_voice">ABContact</span> entity with all relationships, that can cause server memory and performance problems.</div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2153039">If extracting contact information using custom SOAP APIs, write your API to only return </a>the required properties and the required relationships. If you return an entire <span class="cv_-_computer_voice">ABContact</span> or unneeded related contacts, SOAP serialization may trigger server memory problems or client memory problems.</div>
      <div class="H2_-_Heading_2"><a name="2153042">Creating, Updating, and Deleting Records</a></div>
      <div class="B_-_Body"><a name="2153043">Your integration code can modify data, create records, or delete records using the web services API. The </a><span class="cv_-_computer_voice">IContactAPI</span> interface method <span class="cv_-_computer_voice">submitUpdates</span> takes an <span class="cv_-_computer_voice">UpdateBatch</span> object, which encapsulates a list of actions, referred to as <span class="e_-_emphasis">operations</span>. The granularity of the operations are not limited to an entire contact record. You can get or set an individual property or a subobject (such as an <span class="cv_-_computer_voice">Address</span>) extracted from the graph of objects that describe a complete contact.</div>
      <div class="B_-_Body"><a name="2153047">There are three operations, which are defined in the following table along with the operation entity to use:</a></div>
      <div class="T_-_Table"><a name="2153079">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left;" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline;"><span class="ri_-_run_in_header"><a name="2153050">Operation</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading" style="color: #000000; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline;"><span class="ri_-_run_in_header"><a name="2153052">Parameters and meaning</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="2153054">Use this entity</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153056">Create</a></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153058">Create a new object of type </a><span class="pt_-_parameter_in_table">typeName</span> and assign it a UpdateBatch Temp Public ID.</div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="2153061">CreateUpdateOp</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153063">Delete</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153065">Remove object with public ID </a><span class="pt_-_parameter_in_table">publicID</span> from the database</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="2153068">DeleteOp</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153070">Set property</a></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="2153072">Set property </a><span class="pt_-_parameter_in_table">fieldName</span> on object <span class="pt_-_parameter_in_table">ID</span> to value <span class="pt_-_parameter_in_table">newValue</span>. The ID in this case can be either a UpdateBatch Temp Public ID (in this UpdateBatch only) or an actual public ID of an existing object committed to the database. During the processing of the operations, the system checks to see if it is a UpdateBatch Temp Public ID defined in this UpdateBatch object. Otherwise, ClaimCenter assumes this value is a public ID.</div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="2153078">FieldChangeUpdateOp</a></span></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2153080">An important concept to grasp before using this API is the UpdateBatch Temp Public ID. This identifier is used </a>with the <span class="cv_-_computer_voice">CreateUpdateOp</span> to represent a new entity, and then later used by the set property operation <span class="cv_-_computer_voice">FieldChangeUpdateOp</span> to refer back to the new entity. This is a different ID from the persistent (saved) entity properties <span class="e_-_emphasis">public ID</span> and the <span class="e_-_emphasis">link ID</span>. The UpdateBatch Temp Public ID is only used to refer to new objects from “property change” operations within the same <span class="cv_-_computer_voice">UpdateBatch</span> set of operations.</div>
      <div class="B_-_Body"><a name="2153082">To submit a list of operations to ContactCenter:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><span class="ri_-_run_in_header"><a name="2153083">Create an UpdateBatch object.</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153084">Create an </a><span class="cv_-_computer_voice">UpdateBatch</span> object to encapsulate the operations.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;margin-bottom: 2.0pt; margin-top: 5.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;"><span class="ri_-_run_in_header"><a name="2153085">Create an operation object for each action.</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153087">To create a new object, create a </a><span class="cv_-_computer_voice">CreateUpdateOp</span> entity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153088">To set a property, create a </a><span class="cv_-_computer_voice">FieldChangeUpdateOp</span> entity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153090">To delete an existing contact record, create an </a><span class="cv_-_computer_voice">DeleteOp</span> entity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2153091">Add operation objects to the UpdateBatch object.</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153092">For each type of operation (set property, create, or delete), store the entities into separate arrays by type. </a>Link each array to the <span class="cv_-_computer_voice">UpdateBatch</span> object using <span class="cv_-_computer_voice">UpdateBatch</span> methods that take array parameters: <span class="cv_-_computer_voice">setCreateUpdateOps</span>, <span class="cv_-_computer_voice">setDeleteUpdateOps</span>, and <span class="cv_-_computer_voice">setFieldChangeUpdateOps</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;margin-bottom: 2.0pt; margin-top: 5.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;"><span class="ri_-_run_in_header"><a name="2153097">Submit the UpdateBatch object.</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153100">Call </a><span class="cv_-_computer_voice">IContactAPI.submitUpdates(...)</span> with the <span class="cv_-_computer_voice">UpdateBatch</span> object. All operations execute as one requests as one database transaction. However, if creating objects and updating properties, imagine the following order of actions. First, deletions happen. Then new objects are created. Finally, property updates occur on existing or created objects.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;margin-bottom: 2.0pt; margin-top: 5.0pt; vertical-align: baseline;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none;"><span class="ri_-_run_in_header"><a name="2153101">Process the results.</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153103">The result of submitting the </a><span class="cv_-_computer_voice">UpdateBatch</span> object is an <span class="cv_-_computer_voice">ABContactUpdateResult</span> object, which includes a <span class="cv_-_computer_voice">getResultType</span> method that you can call to get the result type.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153104">If the request failed due to validation errors, then the result type is </a><span class="cv_-_computer_voice">ABContactUpdateResultType.ERROR_VALIDATION_MESSAGES</span> and you can get the specific validation errors using <span class="cv_-_computer_voice">getValidationResult()</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2153105">If another result type is returned, see the SOAP API Reference Javadoc for other result type meanings.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2153106">If desired, you can check the return results of the </a><span class="cv_-_computer_voice">submitUpdates</span> method and find out the mapping between UpdateBatch Temp Public ID and the final link IDs for new entities. Call the <span class="cv_-_computer_voice">getTempToPermEntries</span> method (get the <span class="cv_-_computer_voice">TempToPermEntries</span> property) on the return result of <span class="cv_-_computer_voice">submitUpdates</span>. It contains the mappings <span class="s_-_strong">from</span> the UpdateBatch Temp Public ID (the temporary IDs) <span class="s_-_strong">to</span>&nbsp;the new ContactCenter link IDs (the permanent IDs). Each item in the <span class="cv_-_computer_voice">TempToPermEntries</span> array contains a <span class="cv_-_computer_voice">PermId</span> property and a <span class="cv_-_computer_voice">TempId</span> property containing the permanent ID and the temporary ID, respectively.</div>
      <div class="B_-_Body"><a name="2153107">An example of creating a contact is listed in the following example. To fill in the property details of the new </a>contact, you must use <span class="e_-_emphasis">property change operations</span> after the <span class="e_-_emphasis">create operation</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2153108">// Create arrays to hold your new objects</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153109">UpdateBatch ub [] = new UpdateBatch[1];</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153110">CreateUpdateOp cuo [] = new CreateUpdateOp[1];</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153111">FieldChangeUpdateOp fc[] = new FieldChangeUpdateOp[1];</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153112">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153113">// Create a new “create” operation to create the new contact</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153114">cuo[0] = new CreateUpdateOp();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153115">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153116">// Specify details of the create operation</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153117">cuo[0].setObjectUId(random1);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153118">cuo[0].setPublicID("ext1:publicID-1");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153119">cuo[0].setEntityTypeName("ABCompany");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153120">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153121">// Specify details of the new object in a “property change” operation</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153122">fc[0] = new FieldChangeUpdateOp();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153123">fc[0].setEntityTypeName("ABCompany");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153124">fc[0].setField("TaxID");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153125">fc[0].setValue("111-12-1234");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153126">fc[0].setObjectUId("myTempID1");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153127">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153128">// Create a new UpdateBatch object</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153129">ub[0] = new UpdateBatch();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153130">ub[0].setCreateUpdateOps(cuo);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153131">ub[0].setFieldChangeUpdateOps(fc);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153132">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153133">// init</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153134">ABContactUpdateResult result = null;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153135">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153136">// Call myContactAPI.submitUpdates to submit the request</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153137">try {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153138">&nbsp;</a>&nbsp;result = myContactAPI.submitUpdates(ub[0]);</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153139">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153140">&nbsp;</a>&nbsp;if (result.getResultType() == ABContactUpdateResultType.GW_SUCCESS) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153141">&nbsp;</a>&nbsp;&nbsp;&nbsp;// post processing...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153142">&nbsp;</a>&nbsp;&nbsp;&nbsp;} </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153143">&nbsp;</a>&nbsp;&nbsp;else {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153144">&nbsp;</a>&nbsp;&nbsp;&nbsp;//error handing...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153145">&nbsp;</a>&nbsp;&nbsp;}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153146">&nbsp;</a>}</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153147">catch (Exception e) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153148">&nbsp;</a>&nbsp;...</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2153149">}</a></PRE>
      <div class="HS_-_Head_Sub"><a name="2153150">Replacing Existing Records</a></div>
      <div class="B_-_Body"><a name="2153151">To fully replace an existing contact, delete the old entity using a delete operation (</a><span class="cv_-_computer_voice">DeleteOp</span>) and then a new create operation (<span class="cv_-_computer_voice">CreateUpdateOp</span>). These can be included in the same <span class="cv_-_computer_voice">UpdateBatch</span> request, which can then submitted using the <span class="cv_-_computer_voice">IContact.submitUpdates( )</span> method.</div>
      <div class="H2_-_Heading_2"><a name="2153153">Finding Contact Unique Matches of a Contact</a></div>
      <div class="B_-_Body"><a name="2153155">There are two methods in the </a><span class="cv_-_computer_voice">IContactAPI</span> interface that finds contact matches. You can choose whether to search for multiple <span class="e_-_emphasis">potential matches</span> or to search for an definitive (unique) match from a set of one or more defined properties.</div>
      <div class="B_-_Body"><a name="2153157">For example, to attempt a definitive match of a company from its tax ID, you could use code like this:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2153158">// Create new ABCompany and set a property with the search properties</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153159">ABContact companyToFind = new ABCompany();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153160">ABCompany.setTaxID("79-0103590");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153161">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153162">// Search for a definitive match in the ContactCenter database</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153163">ABContactFindMatchResult result = contactAPI.findDefinitiveMatch(ABCompany);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153164">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153165">// Convert ABContactFindMatchResult to an ABContact object</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2153166">ABCompany resultCompany = (ABCompany) result.getABContact();</a></PRE>
      <div class="B_-_Body"><a name="2153167">In contrast, to return multiple potential matches for specific property data, use the </a><span class="cv_-_computer_voice">findPotentialMatches</span> method. It takes a contact (<span class="cv_-_computer_voice">ABContact</span>) and an object that defines the search parameters (<span class="cv_-_computer_voice">ABContactSearchResultSpec</span>). </div>
      <div class="B_-_Body"><a name="2153172">The following example of </a><span class="cv_-_computer_voice">findPotentialMatches</span> finds potential matches of people with a certain name:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153173">// Define generate parameters for the search</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153174">ABContactSearchResultSpec spec = new ABContactSearchResultSpec();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153175">spec.setIncludeTotal(true);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153176">spec.setMaxResults(1000);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153177">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153178">// Define the search criteria</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153179">ABPerson searchPerson = new ABPerson();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153180">searchPerson.setFirstName("Andy");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153181">searchPerson.setLastName("Applegate");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153182">ABContactSearchResult result = contactAPI.findPotentialMatches(searchPerson, spec);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153183">ABContactWithTravelInfo[] searchResults = result.getResults();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153184">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153185">for (int i = 0; i &lt; searchResults.length; i++) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153186">&nbsp;</a>&nbsp;firstName = ((ABPerson) (searchResults[i]).getABContact()).getFirstName();</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153187">&nbsp;</a>&nbsp;lastName = ((ABPerson) (searchResults[i]).getABContact()).getLastName();</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153188">&nbsp;</a>&nbsp;// get other properties of interest here...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153189">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153190">&nbsp;</a>&nbsp;// [PRINT / PROCESS / DISPLAY the result as desired...]</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2153191">}</a></PRE>
      <div class="B_-_Body"><a name="2153192">Remember to set the </a><span class="cv_-_computer_voice">maxResults</span> property on the <span class="cv_-_computer_voice">ABContactSearchResultSpec</span> before requesting the search. There is no default maximum. The API returns the lesser of the number of actual results and the value of <span class="cv_-_computer_voice">maxResults</span>. </div>
      <div class="B_-_Body"><a name="2153193">The total number of results is only included if you set the </a><span class="cv_-_computer_voice">includeTotal</span> flag on the <span class="cv_-_computer_voice">ABContactSearchResultSpec</span> passed into the query.</div>
      <div class="B_-_Body"><a name="2153195">You can choose to set </a><span class="cv_-_computer_voice">maxResults</span> to 0 to return no results. This is useful in rare cases if your integration code needs to know the total number of results but does not care about individual result details at this time. You can get the total results in the contact search results entity. In this case, be sure to set the <span class="cv_-_computer_voice">includeTotal</span> flag on the <span class="cv_-_computer_voice">ABContactSearchResultSpec</span> passed to the request.</div>
      <div class="H2_-_Heading_2"><a name="2153197">Getting a Contact-related Record Public ID from Its Link ID</a></div>
      <div class="B_-_Body"><a name="2153198">Several methods exist to look up records from the ContactCenter link ID, an important property that is discussed </a>in <a href="javascript:WWHClickedPopup('integration', 'addressbook.16.5.html#2152932', '');" title="ContactCenter Entities and Properties">"ContactCenter Link IDs, and Comparison to Other IDs"</a>. To get the public ID of the contact identified by the given link ID, use the <span class="cv_-_computer_voice">getPublicIdFromLinkId</span> method. </div>
      <div class="B_-_Body"><a name="2153204">If the record is an </a><span class="cv_-_computer_voice">ABContact</span> object, you need only to pass the link ID string. If it is another type of object, there is another method signature for the <span class="cv_-_computer_voice">getPublicIdFromLinkId</span> method. It takes an entity type name parameter, such as the <span class="cv_-_computer_voice">String</span> value <span class="cv_-_computer_voice">"Address"</span>.</div>
      <div class="H2_-_Heading_2"><a name="2153207">Searching for Multiple Contacts</a></div>
      <div class="B_-_Body"><a name="2153208">To search for multiple matches in ContactCenter, design your own custom web service in ContactCenter and </a>return only the exact data that you require. Contacts can be large objects, especially if you use the relationships feature. Be sure you transfer only the minimal amount of data necessary. </div>
      <div class="B_-_Body"><a name="2153209">If you have several use cases for contact searches with different data to transfer, Guidewire strongly advises </a>writing multiple integration points. You can define multiple custom web services in ContactCenter as needed. See <a href="javascript:WWHClickedPopup('integration', 'webservices.04.01.html#3412469', '');" title="Web Services (SOAP)">"Web Services (SOAP)"</a> for details.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>