<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Metropolitan Entities, Typelists, Properties, and Statuses</title>
    <link rel="StyleSheet" href="css/metropolitan.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="metropolitan.22.1.html#1926068">Metropolitan Reporting&nbsp;Bureau Integration</a> : Metropolitan Entities, Typelists, Properties, and Statuses</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="1926068">Metropolitan Entities, Typelists, Properties, and Statuses</a></div>
      <div class="B_-_Body"><a name="1927156">The following ClaimCenter entities describe and define the ClaimCenter-Metropolitan integration.</a></div>
      <div class="HS_-_Head_Sub"><a name="1926069">MetroReport Entity</a></div>
      <div class="B_-_Body"><a name="1926070">The entity </a><span class="cv_-_computer_voice">MetroReport</span> describes one report from Metropolitan, both before a response is returned and afterward. There is an array of <span class="cv_-_computer_voice">MetroReport</span> objects in a <span class="cv_-_computer_voice">MetroReports</span> property on <span class="cv_-_computer_voice">Claim</span>. </div>
      <div class="HS_-_Head_Sub"><a name="1926074">MetroReportType Typelist</a></div>
      <div class="B_-_Body"><a name="1926076">The </a><span class="cv_-_computer_voice">MetroReportType</span> typelist defines a type of report that adjusters can request, such as Auto Accident, Auto Theft, Coroner Reports and Title History, and others. There is a mapping between loss detail type and <span class="cv_-_computer_voice">MetroReportType</span>. For example <span class="cv_-_computer_voice">MetroReport</span> type Auto Accident is only available for the type of loss Auto. The Typelist and the mapping is specified by <span class="cv_-_computer_voice">MetroReportType.xml</span>. Example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1926080">&lt;typecode code="G" name="Burglary" desc="Burglary" priority="7"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1926081">   &lt;category typelist="LossType" code="AUTO"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1926082">   &lt;category typelist="LossType" code="PR"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1926083"> &lt;/typecode&gt;</a></PRE>
      <div class="HS_-_Head_Sub"><a name="1926086">MetroAgencyType Entity</a></div>
      <div class="B_-_Body"><a name="1926090">The investigating agency type for each report is defined by a typelist called </a><span class="cv_-_computer_voice">MetroAgencyType</span>. Each <span class="cv_-_computer_voice">MetroReport</span> entity has an associated <span class="cv_-_computer_voice">MetroAgencyType</span>. The user who requests the report from the user interface can specify the investigating agency type. This property can be <span class="cv_-_computer_voice">null</span> if the requester does not have the information. <span class="cv_-_computer_voice">MetroAgencyType</span> is defined in <span class="cv_-_computer_voice">MetroAgencyType.xml</span>. </div>
      <div class="B_-_Body"><a name="1927222">The following are example mappings of agency types with a names and descriptions:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1926094">&lt;typecode code="PD" name="Police Department" desc="Police Department" priority="1"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1926095">&lt;typecode code="CO_PD" name="County Police" desc="County Police" priority="2"/&gt;</a></PRE>
      <div class="HS_-_Head_Sub"><a name="1926096">Document Entity</a></div>
      <div class="B_-_Body"><a name="1926098">Each </a><span class="cv_-_computer_voice">MetroReport</span> entity has a foreign key reference to a <span class="cv_-_computer_voice">Document</span> entity, which is the document generated by Metropolitan if a report request results in an actual report. </div>
      <div class="B_-_Body"><a name="1927272">If a report successfully returns from Metropolitan, the built-in code requests that the </a><span class="e_-_emphasis">document content source</span><span class="cv_-_computer_voice"> </span>plugin (<span class="cv_-_computer_voice">IDocumentContentSource</span>) add the document to the claim.</div>
      <div class="H2_-_Heading_2"><a name="1926099">MetroReportStatus and How It Changes</a></div>
      <div class="B_-_Body"><span class="cv_-_computer_voice"><a name="1926101">MetroReportStatus</a></span> indicates the current status of the report request. You cannot modify nor extend this status list. This document lists the values to provide a sense of the internal state machine’s flow during a typical report request. This also helps you understand the meaning of user-visible text within the application user interface .</div>
      <div class="B_-_Body"><a name="1926152">The possible values of the </a><span class="cv_-_computer_voice">MetroReportStatus</span> entity are:</div>
      <table class="withHeading" style="text-align: left;" cellspacing="10" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="1926105">Metro report status </a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom;">
            <div class="TH_-_Table_Heading"><a name="1926107">Meaning</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926109">none</a></span></div>
          </td>
          <td style="border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926111">No order was located that matched the information supplied.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926113">pending</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926115">Order is in the system and currently awaiting a response from the data source.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926117">mailed</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926119">A result was sent to you and the order is closed. Usually this is the case if the matched item </a>is old and the image is no longer in the active files.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926121">image</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926123">An image was supplied for this order. The order is closed.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926125">hold</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926127">The order is awaiting additional information from you.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926129">deferred</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926131">An image was returned with a notice that the data source takes some additional time to pro</a>vide the requested information. Order is still open.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926133">inprocess</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926135">The order was received in the last few hours and has not yet been acted upon. This would </a>only be the case within the first 24 hours after receiving a report. Depending on the time of day the report is sent, it would be acted upon usually within a few hours</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926137">closed</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926139">The order was canceled or cannot be completed for some reason.</a></div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline;"><span class="cvt_-_computer_voice_table"><a name="1926141">error</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top;">
            <div class="TT_-_Table_Text"><a name="1926143">The inquiry sent could not be matched to any existing order in the Metropolitan system.</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="1915090">You </a><span class="s_-_strong">cannot</span> modify the state machine. Refer to the following diagram for an overview of the process. Note the relationship between report status strings in the user interface and Metropolitan activity patterns (see <a href="javascript:WWHClickedPopup('integration', 'metropolitan.22.3.html#1928333', '');" title="Metropolitan Configuration">"Configuring Activity Patterns"</a>). The only ways to configure the Metropolitan integration state machine is the <span class="cv_-_computer_voice">InquiryInterval</span> parameter and the other settings documented in this topic. The following diagram defines the status changes within the internal Metropolitan state machine.</div>
      <div class="F_-_Figure"><a name="1928170"><img class="Default" src="images/metropolitan.22.5.1.png" style="display: inline; float: none; left: 0.0; top: 0.0;" alt="" /></a></div>
      <div class="H2_-_Heading_2"><a name="2046870">Customizing Metropolitan Timeouts</a></div>
      <div class="B_-_Body"><a name="2046871">The built-in Metropolitan reports integration has two time cycles in the workflow:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2046872">A delay after sending the request before requesting the report</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2046873">After asking for the report, if the Metropolitan server does not have the report, the workflow sleeps for a </a>delay. Next, it repeats this step to check again if the report is ready. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2046874">Both of these two time cycles have associated time values in the workflow. The defaults are as follows:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2046929">After submitting the original request, ClaimCenter waits 2.5 hours before inquiring initially. You can modify </a>this value in the <span class="cv_-_computer_voice">metro.properties</span> file in the property <span class="cv_-_computer_voice">Metro.InquiryInterval</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2047202">After requesting the report, ClaimCenter waits for the response 8 hours. You can modify this timeout in the </a><span class="cv_-_computer_voice">metro.properties</span> file in the property <span class="cv_-_computer_voice">Metro.OrderTimeout</span>. This is exposed in Gosu as the <span class="cv_-_computer_voice">MetroReport</span> property <span class="cv_-_computer_voice">metroReport.PastOrderTimeout</span>. It returns <span class="cv_-_computer_voice">true</span> only if the request started and has been waiting longer than the corresponding timeout value.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2047203">Additionally, if the overall workflow does not finish completely within 1 week, then ClaimCenter stops it and </a>create an error activity. You can modify this timeout in the <span class="cv_-_computer_voice">metro.properties</span> file in the property <span class="cv_-_computer_voice">Metro.WorkflowTimeout</span>. This is exposed in Gosu as the <span class="cv_-_computer_voice">MetroReport</span> property <span class="cv_-_computer_voice">metroReport.PastWorkflowTimeout</span>. It returns <span class="cv_-_computer_voice">true</span> only if the workflow started and has been running longer than the corresponding timeout value.</div>
      <div class="B_-_Body"><a name="2047163">In the </a><span class="cv_-_computer_voice">metro.properties</span> file, specify the time values using a number followed by a suffix for the unit. Use <span class="cv_-_computer_voice">d</span> for days, <span class="cv_-_computer_voice">h</span> for hours, and <span class="cv_-_computer_voice">m</span> for minutes. For example, <span class="cv_-_computer_voice">2d</span> means <span class="e_-_emphasis">two days</span>. You can use a combination of values, such as <span class="cv_-_computer_voice">3d2h</span> represents the sum of <span class="e_-_emphasis">three days</span> and <span class="e_-_emphasis">two hours</span>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>