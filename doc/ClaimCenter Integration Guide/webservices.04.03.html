<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Publishing a Web Service</title>
    <link rel="StyleSheet" href="css/webservices.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="webservices.04.01.html#3394219">Web Services (SOAP)</a> : Publishing a Web Service</span></div>
    <hr align="left" />
    <blockquote>
      <div class="H1_-_Heading_1"><a name="3394219">Publishing a Web Service</a></div>
      <div class="B_-_Body"><a name="3394229">You can write Gosu code that external systems can call. For any Gosu function you want to publish, simply make </a>it a method in a new Gosu class and publish the class as a web service. This is often as easy as adding a single <span class="e_-_emphasis">Gosu annotation</span> (a special line of text before the class definition) immediately before a Gosu class. </div>
      <div class="B_-_Body"><a name="3394233">External systems can easily call this method from external code. External systems can use ClaimCenter-</a>published XML data called WSDL (Web Services Description Language) to formulate a request and its results. The WSDL describes the service, all its methods, what parameters they take, what kinds of data they return, and every detail about parameter types and return types.</div>
      <div class="B_-_Body"><a name="3389045">To publish a web service, simply add the following line before a Gosu class definition:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="3389046">@WebService</a></div>
      <div class="B_-_Body"><a name="3389047">For example, this simple class publishes a simple web service with one API method: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3395565">@WebService</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395566">class MyServiceAPI {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395567">  function echoInputArgs(p1 : String) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395568">&nbsp;</a>&nbsp;return "You said " + p1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395569">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3395570">}</a></PRE>
      <div class="B_-_Body"><a name="3442909">Note the naming convention is to name a web service implementation class ending with the string “</a><span class="cv_-_computer_voice">API</span>”.</div>
      <div class="B_-_Body"><a name="3442913">By default, the application publishes this web service in the ClaimCenter SOAP API libraries. If you regenerate </a>the SOAP API libraries, ClaimCenter generates Java libraries you can use to connect to the web service from Java code. You can customize this behavior with the optional Boolean parameter <span class="cv_-_computer_voice">generateInToolkit</span>, as discussed further in <a href="javascript:WWHClickedPopup('integration', 'webservices.04.03.html#3389077', '');" title="Publishing a Web Service">“Optional Web Service Publishing Options”</a>.</div>
      <div class="B_-_Body"><a name="3437994">As mentioned in </a><a href="javascript:WWHClickedPopup('integration', 'webservices.04.02.html#3312900', '');" title="Web Service and SOAP Entity Overview">“Web Service and SOAP Entity Overview”</a>, for large Guidewire business data objects (<span class="e_-_emphasis">entities</span>), most integrations need only to transfer particular parts of the graph. Do not pass large object graphs, and be aware of any objects that <span class="s_-_strong">might</span> be very large in your real-world deployed production system. In such cases, you must design your web services to pass your own objects containing only your necessary properties for that integration point, rather than pass the entire entity. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="3437995">Web service methods that take parameters do not need to send the entire entity across the SOAP </a>protocol. Instead, the web service client can send some or all entities <span class="e_-_emphasis">by</span><span class="e_-_emphasis">&nbsp;</span><span class="e_-_emphasis">reference</span>. See <a href="javascript:WWHClickedPopup('integration', 'webservices.04.12.html#1402026', '');" title="Public IDs and Integration Code">“Referring By Reference to an Entity By Public ID”</a>. </div>
      <div class="B_-_Body"><a name="3395621">For example, if an integration point gets a name and phone number, create a Gosu class containing only those </a>properties and the standard public&nbsp;ID property.</div>
      <div class="B_-_Body"><a name="3395624">Suppose you just want a couple properties from a </a><span class="cv_-_computer_voice">User</span> entity. Create a simple Gosu class such as the following example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3395629">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395630">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395631">class UserPhones {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395633">  private var _publicID : String as PublicID</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395634">  private var _h : String as HomePhone</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395635">  private var _w: String as WorkPhone</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3395637">}</a></PRE>
      <div class="B_-_Body"><a name="3395686">You can then write a web service to get a user by the public ID and return one of your custom structures:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395695">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395696">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3428697">@WebService</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3428698">class MyServiceAPI {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3428699">  function getUserPhones(userPublicID : String) : UserPhones {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395700">    var u : User = User(userPublicID)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395716">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395701">    if (u==null) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395702">      throw "No such user"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395703">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395704">    </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395705">    // Create an new instance of your special integration point structure</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395706">    var up = new UserPhones()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395707">    up.PublicID = u.PublicID</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395708">    up.HomePhone = u.Contact.HomePhone</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395709">    up.WorkPhone = u.Contact.WorkPhone</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395710">    </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395711">    return up</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395712">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3395732">}</a></PRE>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3395784">Write web services that output </a><span class="s_-_strong">only</span> the properties you need, and accept <span class="s_-_strong">only</span> the properties you need rather than transferring entire entities. Write different web services for each integration point to contain different subsets of entity data. Create custom entities or Gosu classes as necessary to move objects to and from the external system.</div>
      <div class="B_-_Body"><a name="3395530">You may want to some or all of following related sections:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'webservices.04.03.html#3389077', '');" title="Publishing a Web Service" name="3389246">“Optional Web Service Publishing Options”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'webservices.04.04.html#3390745', '');" title="Writing Web Services that Use Entities" name="3389267">“Writing Web Services that Use Entities”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'webservice-consuming.html#2001467', '');" title="Calling Web Services from Gosu" name="3389274">“Local SOAP Endpoints in Gosu”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'overview.03.3.html#2079851', '');" title="Preparing for Integration Development" name="3394247">“Regenerating the Integration Libraries”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3406101">For a detailed example of testing an web service that reads entity data and commits entity changes, see </a><a href="javascript:WWHClickedPopup('integration', 'webservices.04.05.html#3395304', '');" title="Testing Your Web Service">“Testing Your Web Service”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="3544073">Avoid calling locally-hosted SOAP APIs from within a plugin or the rules engine in </a>production systems. Be careful about any SOAP calls to the same server. If the SOAP API hosted locally modifies entity data and commits the bundle, the current transaction does not always detect and reload local data. Instead, refactor your code to avoid this case. For example, write a Gosu class that performs a similar function as the web service but that does not commit the bundle. This type of refactoring also results in higher server performance. If you have questions about how to convert some particular use locally-hosted SOAP APIs from plugins or rules, contact Customer Support. This is true for all types of local loopback SOAP calls to the same server. This includes <span class="cv_-_computer_voice">soap.local.*</span> objects, the SOAP client Java classes from Java plugins, and Studio-registered web services that call the same server as the client. </div>
      <div class="H2_-_Heading_2"><a name="3389077">Optional Web Service Publishing Options</a></div>
      <div class="B_-_Body"><a name="3389078">The </a><span class="cv_-_computer_voice">@WebService</span> annotation has optional arguments with which you can specify authentication rules and restrictions to be enforced for the entire class. These authentication rules may, however, be overridden on a per-method basis using the <span class="cv_-_computer_voice">@WebServiceMethod</span> annotation. In cases in which authentication rules differ between a web service class and a method, the method-specific annotation always takes precedence.</div>
      <div class="B_-_Body"><a name="3389079">The following optional authentication restrictions can be specified for a published web service and optionally </a>overridden on for any subset of methods on the class:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3436170">Generate in toolkit.</a></span> Creates generated Java libraries to connect to this web service in the <span class="cv_-_computer_voice">soap-api</span> subdirectory of the application. (The SOAP API and Java API libraries are collectively called the <span class="e_-_emphasis">toolkit</span>, hence the name). Also generates Javadoc for the web service and WSDL for the web service. By default, this is set to <span class="cv_-_computer_voice">true</span>, meaning generate web service materials in the SOAP API libraries. You can set it to <span class="cv_-_computer_voice">false</span> to suppress this behavior. Suppressing this behavior is useful if you plan to connect to the web service that uses WSDL generated and published dynamically from ClaimCenter, rather than Java library files. For example, Microsoft .NET web service clients connect to the dynamic WSDL. Microsoft .NET does not use ClaimCenter generated SOAP API Java libraries nor the raw WSDL in the SOAP API subdirectories. If another Guidewire application is the only client for your web service, use this parameter to suppress publishing the web service.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="3435346">Merely disabling generating the web service in the toolkit does </a><span class="s_-_strong">not</span> prevent outside code from calling a web service. If Gosu publishes the web service, the server accepts connections if it has proper authentication credentials even if this parameter is set to <span class="cv_-_computer_voice">false</span>. To disable the web service, <span class="s_-_strong">comment</span><span class="s_-_strong">&nbsp;</span><span class="s_-_strong">out</span> the <span class="cv_-_computer_voice">@WebService</span> annotation entirely using the <span class="cv_-_computer_voice">//</span> symbols before that line. If you comment out this line, the class is unavailable to clients. The application refuses SOAP client connections to this service. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3389085">Minimum run level.</a></span> Specifies a minimum run level of the server before publishing the SOAP API. Specify the run level as a <span class="cv_-_computer_voice">WSRunLevel</span> enumeration. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="3389087">SHUTDOWN</a></span> - The system is active, but the product is not.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="3389090">NODAEMONS</a></span> - The system and product run but <span class="s_-_strong">no</span> background processes run. Background processes are also known as <span class="e_-_emphasis">daemon processes</span>. This is the default value if you omit this parameter.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="3389093">DAEMONS</a></span> - The system and product run and background processes run.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="3389095">MULTIUSER</a></span> - The system and product are live with multiple users </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="3443539">Required permissions.</a></span> Specifies a list of required permissions that a user must have to connect to use this API. Specify the required permissions as an array of <span class="cv_-_computer_voice">SystemPermissionType</span> typekeys. The default value if you omit this parameter is the one-element array with the SOAP Administrator permission. In other words, the default is <span class="cv_-_computer_voice">{</span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">SystemPermissionType.TC_SOAPADMIN</span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">}</span>. To specify that you do not require any particular user permissions to access this web service, specify the empty array: <span class="cv_-_computer_voice">{</span><span class="cv_-_computer_voice">&nbsp;</span><span class="cv_-_computer_voice">}</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3443543">The complete set of possible combinations of parameters for the </a><span class="cv_-_computer_voice">@WebService</span> annotation are:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3389102">@WebService(WSRunlevel, SystemPermissionType[], Boolean /*generateInToolkit*/)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389103">@WebService(WSRunlevel, SystemPermissionType[])</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389104">@WebService(SystemPermissionType[], Boolean /*generateInToolkit*/)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389105">@WebService(SystemPermissionType[])</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389106">@WebService(WSRunlevel, Boolean /*generateInToolkit*/)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389107">@WebService(WSRunlevel)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3389108">@WebService(Boolean /*generateInToolkit*/)</a></PRE>
      <div class="B_-_Body"><a name="3389109">You can also specify no parameters on the annotation to use all default parameter values:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3389110">@WebService() // no parameters</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3389111">@WebService </a>&nbsp;&nbsp;// no parameters, with parentheses omitted</PRE>
      <div class="B_-_Body"><a name="3389934">For example, to require a minimum run level of </a><span class="cv_-_computer_voice">DAEMONS</span> and require the <span class="cv_-_computer_voice">NOTECREATE</span> permission, and to use the default generate in toolkit option, use the following code:</div>
      <div class="CS_-_Code_Single_Line"><a name="3389962">@WebService(DAEMONS, { SystemPermissionType.TC_NOTECREATE } )</a></div>
      <div class="B_-_Body"><a name="3389957">To set the </a><span class="e_-_emphasis">generate in toolkit</span> parameter to <span class="cv_-_computer_voice">false</span>, use the code:</div>
      <div class="CS_-_Code_Single_Line"><a name="3390030">@WebService(false /*GenerateInToolkit*/)</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3390031">Disabling toolkit generation does </a><span class="s_-_strong">not</span> disable the service. See the warning in this section.</div>
      <div class="H3_-_Heading_3"><a name="3390032">Method-level Authentication Overrides</a></div>
      <div class="B_-_Body"><a name="3389113">Use the </a><span class="cv_-_computer_voice">@WebServiceMethod</span> annotation to override authentication restrictions on a method-by-method basis. If you do not specify the authentication features explicitly on the class, Gosu uses the default values as described in the previous section. Authentication settings that you do not explicitly set on the method defaults to the class’s authentication levels. If the class annotation does not specify authentication values, the application uses the default values listed in the previous section. If authentication rules differ between a web service class and a method, the method annotation always takes precedence.</div>
      <div class="B_-_Body"><a name="3389114">The possible combinations of parameters for the </a><span class="cv_-_computer_voice">@WebService</span> parameter are:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3389115">WebServiceMethod(WSRunlevel, SystemPermissionType[])</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3389116">WebServiceMethod(SystemPermissionType[])</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3389117">WebServiceMethod(WSRunlevel)</a></PRE>
      <div class="B_-_Body"><a name="3389118">The default values for arguments are the same as for the class-level authentication settings: the </a><span class="cv_-_computer_voice">NODAEMONS</span> for the run level and <span class="cv_-_computer_voice">SOAP_Admin</span> permission for system permission.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3402965">Use the </a><span class="cv_-_computer_voice">@WebServiceMethod</span> annotation to strategically set permission requirements and run level restrictions for particular web service actions.</div>
      <div class="H3_-_Heading_3"><a name="3389119">Method-level Visibility Overrides</a></div>
      <div class="B_-_Body"><a name="3403028">The </a><span class="cv_-_computer_voice">@DoNotPublish</span> annotation is a method-level annotation for Gosu classes. Use this annotation on methods of web service implementation classes to omit methods from the external web service. Use this to annotate public methods only, which means only those that use the <span class="cv_-_computer_voice">public</span> modifier. This has no affect on non-public methods. Gosu never publishes non-public methods, which are methods with the modifier <span class="cv_-_computer_voice">private</span>, <span class="cv_-_computer_voice">package</span>, or <span class="cv_-_computer_voice">protected</span>.</div>
      <div class="H2_-_Heading_2"><a name="3470392">Declaring Exceptions</a></div>
      <div class="B_-_Body"><a name="3470915">Problems might occur during a web service API call because of invalid requests or other reasons. Your web </a>service must check for unusual conditions and handle exceptions appropriately. If a web service implementation throws an exception, Gosu returns the error to the SOAP client. Declare exceptions that you expect to throw so that Gosu can publish those exception types in the WSDL. If your method throws an exception that you did not declare, Gosu returns a general error that might not contain enough details for effective debugging and error handling.</div>
      <div class="B_-_Body"><a name="3470979">To declare the exception, use the </a><span class="cv_-_computer_voice">@Throws</span> annotation. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3470860">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470861">uses gw.api.webservice.exception.SOAPException</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470862">uses java.util.ArrayList</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470863">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470864">@WebService</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470865">class ExampleAPI {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470866">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470867">  // Get all address public IDs that match a certain query (in this case, by postal code)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470868">@Throws(SOAPException, "If too many addresses match the given postal code")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470869">&nbsp;</a>&nbsp;public function getAddressPublicIDs(posCode : String) : String[] {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470870">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470871">    var q = find( a in Address where a.PostalCode == posCode)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470872">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470873">    // You must do error checking for large data sets so you don't</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470874">    // try to send too much data across the network or try to serialize</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470875">    // too much data on the server</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470876">    if (q.getCount() &gt; 1000) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470877">       throw new SOAPException("Integration exception: too many addresses to return.")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470878">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470879">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3470880">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3471016">}</a></PRE>
      <div class="B_-_Body"><a name="3471040">For more information about exceptions, including the hierarchy of exception types, see </a><a href="javascript:WWHClickedPopup('integration', 'webservices.04.15.html#3543048', '');" title="SOAP Faults (Exceptions)">“SOAP Faults (Exceptions)”</a>,</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>