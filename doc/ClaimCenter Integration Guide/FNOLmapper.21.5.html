<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Example FNOL Mapper Customizations</title>
    <link rel="StyleSheet" href="css/FNOLmapper.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="FNOLmapper.21.1.html#1812447">FNOL Mapper</a> : Example FNOL Mapper Customizations</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="1812447">Example FNOL Mapper Customizations</a></div>
      <div class="B_-_Body"><a name="1999859">This topic includes examples of what files to modify to make certain types of simple customizations.</a></div>
      <div class="H2_-_Heading_2"><a name="2000628">Add Mapping for New Exposure Type</a></div>
      <div class="B_-_Body"><a name="2000629">Suppose you want to specially map a </a><span class="e_-_emphasis">general liability</span> incident to one of two different exposure types in ClaimCenter based on other custom properties in the ACORD file.</div>
      <div class="B_-_Body"><a name="2000527">To add mappings for a new exposure type, you might follow steps similar to the following:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2000006">In Studio, create a new implementation of the </a><span class="cv_-_computer_voice">IExposureMapper</span> interface based on the contents of the built-in <span class="cv_-_computer_voice">AcordExposureMapper.gs</span> file. For this example, we assume your company is called ABC and you name your class <span class="cv_-_computer_voice">ABCExposureMapper.gs</span> in the package <span class="cv_-_computer_voice">abc.claimcenter.fnolmapper</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2000054">In Studio, create a new implementation of the </a><span class="cv_-_computer_voice">IMapperFactory</span> interface based on the contents of the built-in <span class="cv_-_computer_voice">AcordMapperFactory.gs</span> file. For this example, we assume your company is called ABC and you name your class <span class="cv_-_computer_voice">ABCMapperFactory.gs</span> in the package <span class="cv_-_computer_voice">abc.claimcenter.fnolmapper</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2000143">Modify class </a><span class="cv_-_computer_voice">ABCMapperFactory.gs</span> to create your own exposure mapper:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="2000154">override function getExposureMapper(contactManager:ContactManager) : IExposureMapper {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000155">    return new abc.claimcenter.fnolmapper.ABCExposureMapper(acordConfig, contactManager)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2000156">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2000236">In Studio, modify the built-in classes so that the </a><span class="cv_-_computer_voice">FNOLMapper</span> class call your new mapper factory. In the built-in implementation of the ACORD mapper, the root <span class="cv_-_computer_voice">AcordFNOLMapper</span> class does <span class="s_-_strong">not</span> directly create the mapper factory. Instead, it delegates this work to the configuration utility class <span class="cv_-_computer_voice">AcordConfig</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2000246">Look for these lines:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000268">protected function createMapperFactory() : IMapperFactory {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000269">    return new AcordMapperFactory(this)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000310">  }</a></PRE>
      <div class="LP_-_List_Para"><a name="2000311">Change it to say:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000318">protected function createMapperFactory() : IMapperFactory {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000319">    return new abc.claimcenter.fnolmapper.ABCMapperFactory(this)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000320">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2000656">In your </a><span class="cv_-_computer_voice">ABCExposureMapper</span> class, modify the method that maps the <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt;">PropertyLossInfo_Type</span> XML object:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000687">//returns an exposure for a General Liability incident</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000688">  override function getExposure(c:Claim, glLossInfo:LiabilityLossInfo_Type, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2002260">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incident:Incident) : Exposure {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000689">    var exposure = new Exposure()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000690">    exposure.ExposureType = ExposureType.TC_GENERALDAMAGE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000691">    exposure.PrimaryCoverage = CoverageType.TC_GL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000692">    exposure.Incident = incident</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000693">    exposure.LossParty = LossPartyType.TC_THIRD_PARTY</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000694">    return exposure</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000602">  }</a></PRE>
      <div class="LP_-_List_Para"><a name="2000675">Change the line that says </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt;">exposure.ExposureType</span> and set the value based on other fields in the <span class="cv_-_computer_voice">glLossInfo</span> object.</div>
      <div class="LP_-_List_Para"><a name="2002106">The first argument to all </a><span class="cv_-_computer_voice">getExposure</span> method variants is a reference to the claim. Use that link to access properties and objects <span class="s_-_strong">that are already mapped</span> by previous-run FNOL mapper code. For example, suppose you already mapped a ClaimCenter <span class="cv_-_computer_voice">Incident</span> entity. Code that runs later can access the new mapped incident. For example, if wanted to get or set the vehicle incident property <span class="cv_-_computer_voice">VehicleIncident.Driver</span> you will want to reference the incident. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2002309">On a related note, just like the exposure mapper, the incident mapper interface also has the claim as </a>the first argument to all its methods.</div>
      <div class="H2_-_Heading_2"><a name="2000748">Add Additional Properties to an Exposure</a></div>
      <div class="B_-_Body"><a name="2000749">Suppose that for </a><span class="e_-_emphasis">general liability</span> incidents in the ACORD file, you want to set additional data model extensions in ClaimCenter based on other custom properties in the ACORD file.</div>
      <div class="B_-_Body"><a name="2000826">To do this, follow the steps in </a><a href="javascript:WWHClickedPopup('integration', 'FNOLmapper.21.5.html#2000628', '');" title="Example FNOL Mapper Customizations">“Add Mapping for New Exposure Type” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'FNOLmapper.21.5.html#2000628', '');" title="Example FNOL Mapper Customizations">Gosu Reference Guide</a></span> except for the last step (<a href="javascript:WWHClickedPopup('integration', 'FNOLmapper.21.5.html#2000656', '');" title="Example FNOL Mapper Customizations">step 5</a>).</div>
      <div class="B_-_Body"><a name="2002082">Instead of that last step, in your </a><span class="cv_-_computer_voice">ABCExposureMapper</span> class, modify the method that maps the <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt;">PropertyLossInfo_Type</span> XML object:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000827">//returns an exposure for a General Liability incident</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000828">  override function getExposure(c:Claim, glLossInfo:LiabilityLossInfo_Type, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2002319">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incident:Incident) : Exposure {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000829">    var exposure = new Exposure()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000830">    exposure.ExposureType = ExposureType.TC_GENERALDAMAGE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000831">    exposure.PrimaryCoverage = CoverageType.TC_GL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000832">    exposure.Incident = incident</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000833">    exposure.LossParty = LossPartyType.TC_THIRD_PARTY</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000834">    return exposure</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2000835">  }</a></PRE>
      <div class="B_-_Body"><a name="2000836">Before the return statement at the end of that method, set additional properties value based on other fields in the </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt;">glLossInfo</span> object.</div>
      <div class="B_-_Body"><a name="2002215">The first argument to all </a><span class="cv_-_computer_voice">getExposure</span> method variants is a reference to the claim. Use that link to access properties and objects <span class="s_-_strong">that are already mapped</span> by previous-run FNOL mapper code. For example, suppose you already mapped a ClaimCenter <span class="cv_-_computer_voice">Incident</span> entity. Code that runs later can access the new mapped incident. For example, if wanted to get or set the vehicle incident property <span class="cv_-_computer_voice">VehicleIncident.Driver</span> you will want to reference the incident. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2002339">On a related note, just like the exposure mapper, the incident mapper interface also has the claim as </a>the first argument to all its methods.</div>
      <div class="H2_-_Heading_2"><a name="2000871">Create an Entirely New Mapper For Non-ACORD Data</a></div>
      <div class="B_-_Body"><a name="2001082">Suppose you want to use the basic FNOL Mapper structure to map XML data for an FNOL but the data is not in </a>the ACORD format. The basic two steps are as follows:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001192">The most important thing is to create a new implementation of the </a><span class="cv_-_computer_voice">FNOLMapper</span> interface. For this example, we assume your company is called ABC and you name your class <span class="cv_-_computer_voice">ABCFNOLMapper.gs</span> in the package <span class="cv_-_computer_voice">abc.claimcenter.fnolmapper</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001140">To invoke the mapper, instead of your client code calling the </a><span class="cv_-_computer_voice">IClaimAPI</span> web service interface method <span class="cv_-_computer_voice">importAcordClaimFromXML</span>, instead call <span class="cv_-_computer_voice">importClaimFromXML</span>. The <span class="cv_-_computer_voice">importClaimFromXML</span> method takes an extra parameter for the name of the mapper class you want to use:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="2001220">String myClaimPublicID;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2001239">myClaimPublicID = claimAPI.importClaimFromXML(myXMLData, "abc.claimcenter.fnolmapper.ABCFNOLMapper");</a></PRE>
      <div class="B_-_Body"><a name="2001221">Your </a><span class="cv_-_computer_voice">ABCFNOLMapper.gs</span> file does not need to follow the pattern of the built-in ACORD mapper. However, you might want to review the structure of the ACORD mapper for useful patterns you can duplicate. For example:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001348">Encapsulate your mapping code for addresses, contacts, exposures, incidents, and policies into separate files</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001395">You can add Gosu enhancements on XSD-specific types. Use this to encapsulate the implementation of type-</a>specific code together and make your mapping code look high-level and easy to read.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap;">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001456">Use the configuration files and the </a><span class="cv_-_computer_voice">TypeKeyMap</span> utility class, as used in the ACORD mapper. For more information, see <a href="javascript:WWHClickedPopup('integration', 'FNOLmapper.21.4.html#2001704', '');" title="Structure of FNOL Mapper Classes">"Configuration Files and Typecode Mapping"</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2000887">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>